[debug] [2023-11-17T04:17:10.454Z] ----------------------------------------------------------------------
[debug] [2023-11-17T04:17:10.457Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --only functions,firestore,database,pubsub,storage,eventarc
[debug] [2023-11-17T04:17:10.457Z] CLI Version:   12.8.1
[debug] [2023-11-17T04:17:10.458Z] Platform:      darwin
[debug] [2023-11-17T04:17:10.458Z] Node Version:  v18.14.2
[debug] [2023-11-17T04:17:10.460Z] Time:          Thu Nov 16 2023 23:17:10 GMT-0500 (Eastern Standard Time)
[debug] [2023-11-17T04:17:10.460Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-11-17T04:17:10.671Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-11-17T04:17:10.671Z] > authorizing via signed-in user (markosbiniam@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] ⚠  firestore: Not starting the firestore emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"firestore"},"message":"Not starting the \u001b[1mfirestore\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  database: Not starting the database emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"database"},"message":"Not starting the \u001b[1mdatabase\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  pubsub: Not starting the pubsub emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"pubsub"},"message":"Not starting the \u001b[1mpubsub\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  storage: Not starting the storage emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"storage"},"message":"Not starting the \u001b[1mstorage\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  eventarc: Not starting the eventarc emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"eventarc"},"message":"Not starting the \u001b[1meventarc\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[debug] [2023-11-17T04:17:11.209Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-17T04:17:11.209Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-11-17T04:17:11.235Z] [hub] writing locator at /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/hub-smapchat-back.json
[debug] [2023-11-17T04:17:11.607Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-17T04:17:11.608Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-17T04:17:11.608Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-11-17T04:17:11.611Z] defaultcredentials: writing to file /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json
[debug] [2023-11-17T04:17:11.626Z] Setting GAC to /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json"}}
[debug] [2023-11-17T04:17:11.629Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig [none]
[debug] [2023-11-17T04:17:11.970Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig 200
[debug] [2023-11-17T04:17:11.970Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig {"projectId":"smapchat-back","storageBucket":"smapchat-back.appspot.com"}
[debug] [2023-11-17T04:17:12.000Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-11-17T04:17:12.000Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-11-17T04:17:12.000Z] Starting Emulator UI with command {"binary":"node","args":["/Users/binimark/.cache/firebase/emulators/ui-v1.11.7/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/binimark/.cache/firebase/emulators/ui-v1.11.7/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-11-17T04:17:12.217Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-11-17T04:17:12.217Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/binimark/Desktop/demo/Smapchat/Backend/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\" for Cloud Functions..."}}
[debug] [2023-11-17T04:17:12.269Z] Validating nodejs source
[debug] [2023-11-17T04:17:13.802Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:17:13.803Z] Building nodejs source
[debug] [2023-11-17T04:17:13.804Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:17:13.808Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:17:13.816Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8775

[error] (node:9770) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:9770) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:17:15.378Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/smapchat-back/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/smapchat-back/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-11-17T04:17:40.543Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T04:17:40.543Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:17:40.543Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T04:17:40.543Z"],"workRunningCount":1}
[debug] [2023-11-17T04:17:40.544Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T04:17:40.546Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:17:40.547Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:17:40.552Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T04:17:40.553Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T04:17:41.544Z] [runtime-status] [9781] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:17:41.544Z] [runtime-status] [9781] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:17:41.545Z] [runtime-status] [9781] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T04:17:41.546Z] [runtime-status] [9781] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:17:41.784Z] [runtime-status] [9781] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T04:17:41.784Z] [runtime-status] [9781] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T04:17:41.785Z] [runtime-status] [9781] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:17:41.786Z] [runtime-status] [9781] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:17:41.791Z] [runtime-status] [9781] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:17:41.791Z] [runtime-status] [9781] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T04:17:42.539Z] [runtime-status] [9781] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:9781) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9781) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9781) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:9781) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9781) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9781) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T04:17:42.542Z] [runtime-status] [9781] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_7f20365c6103758c.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9781] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_7f20365c6103758c.sock"}}
[debug] [2023-11-17T04:17:42.680Z] [worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: IDLE"}}
[debug] [2023-11-17T04:17:42.680Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:17:42.681Z] [worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: BUSY"}}
[debug] [2023-11-17T04:17:42.691Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 10.950782ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 10.950782ms"}}
[debug] [2023-11-17T04:17:42.692Z] [worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: IDLE"}}
[debug] [2023-11-17T04:17:42.692Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:17:42.692Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:17:42.693Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:17:42.698Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T04:17:42.698Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:17:42.698Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T04:17:42.698Z"],"workRunningCount":1}
[debug] [2023-11-17T04:17:42.698Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T04:17:42.701Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:17:42.701Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T04:17:42.702Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:17:42.702Z] [worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: BubbleMap validation failed: MapID: Path `MapID` is required. {"user":"Error: BubbleMap validation failed: MapID: Path `MapID` is required.","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: BubbleMap validation failed: MapID: Path `MapID` is required."}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:194:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:194:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:194:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:142:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:142:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:142:19)"}}
[debug] [2023-11-17T04:17:47.303Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4601.098855ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4601.098855ms"}}
[debug] [2023-11-17T04:17:47.303Z] [worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: IDLE"}}
[debug] [2023-11-17T04:17:47.304Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:17:47.304Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:17:47.304Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:18:25.713Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers"}}
[debug] [2023-11-17T04:18:26.715Z] Validating nodejs source
[debug] [2023-11-17T04:18:29.180Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:18:29.180Z] Building nodejs source
[debug] [2023-11-17T04:18:29.180Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:18:29.185Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:18:29.187Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8711

[error] (node:9793) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:9793) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:18:32.013Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T04:18:34.349Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T04:18:34.447Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T04:18:35.448Z] Validating nodejs source
[debug] [2023-11-17T04:18:37.835Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:18:37.835Z] Building nodejs source
[debug] [2023-11-17T04:18:37.835Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:18:37.836Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T04:18:37.840Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:18:37.842Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8457

[debug] [2023-11-17T04:18:38.847Z] Validating nodejs source
[debug] [2023-11-17T04:18:42.114Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:18:42.114Z] Building nodejs source
[debug] [2023-11-17T04:18:42.114Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:18:42.116Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:18:42.118Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:9808) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:9808) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:18:42.125Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:18:42.130Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T04:18:42.130Z] [worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: FINISHING"}}
[debug] [2023-11-17T04:18:42.149Z] [worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: exited"}}
[debug] [2023-11-17T04:18:42.149Z] [worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-07cec8a5-8c20-4dff-b64d-4e2385e1ccd1]: FINISHED"}}
[info] Serving at port 8882

[error] (node:9815) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:9815) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:18:44.099Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:18:52.734Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T04:18:52.733Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:18:52.734Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T04:18:52.733Z"],"workRunningCount":1}
[debug] [2023-11-17T04:18:52.734Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T04:18:52.739Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:18:52.739Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T04:18:52.739Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:18:52.741Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T04:18:52.742Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:18:55.691Z] [runtime-status] [9827] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:18:55.692Z] [runtime-status] [9827] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:18:55.693Z] [runtime-status] [9827] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T04:18:55.694Z] [runtime-status] [9827] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:18:55.957Z] [runtime-status] [9827] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T04:18:55.959Z] [runtime-status] [9827] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T04:18:55.959Z] [runtime-status] [9827] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:18:55.961Z] [runtime-status] [9827] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:18:55.967Z] [runtime-status] [9827] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:18:55.968Z] [runtime-status] [9827] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T04:18:56.404Z] [runtime-status] [9827] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:9827) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9827) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9827) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:9827) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9827) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9827) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T04:18:56.407Z] [runtime-status] [9827] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_b4c409aff2f93bdc.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9827] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_b4c409aff2f93bdc.sock"}}
[debug] [2023-11-17T04:18:56.535Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE"}}
[debug] [2023-11-17T04:18:56.535Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:18:56.536Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: BUSY"}}
[debug] [2023-11-17T04:18:56.542Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.651262ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.651262ms"}}
[debug] [2023-11-17T04:18:56.543Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE"}}
[debug] [2023-11-17T04:18:56.543Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:18:56.543Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:18:56.543Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:18:56.549Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T04:18:56.549Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:18:56.549Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T04:18:56.549Z"],"workRunningCount":1}
[debug] [2023-11-17T04:18:56.549Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T04:18:56.552Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:18:56.552Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T04:18:56.552Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:18:56.552Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: { {"user":"Created Bubble Map: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map: {"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    Location: [ {"user":"  Location: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Location: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Gershwin Theater', {"user":"      Name: 'Gershwin Theater',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Gershwin Theater',"}}
[info] >        Longitude: -73.9852, {"user":"      Longitude: -73.9852,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9852,"}}
[info] >        Latitude: 40.7624, {"user":"      Latitude: 40.7624,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7624,"}}
[info] >        Color: '#FF0000', {"user":"      Color: '#FF0000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FF0000',"}}
[info] >        Size: 5, {"user":"      Size: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 5,"}}
[info] >        _id: new ObjectId('6556e9b6a7276b354c531c76') {"user":"      _id: new ObjectId('6556e9b6a7276b354c531c76')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556e9b6a7276b354c531c76')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Time Square', {"user":"      Name: 'Time Square',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Time Square',"}}
[info] >        Longitude: -73.9853, {"user":"      Longitude: -73.9853,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9853,"}}
[info] >        Latitude: 40.7581, {"user":"      Latitude: 40.7581,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7581,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 1, {"user":"      Size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 1,"}}
[info] >        _id: new ObjectId('6556e9b6a7276b354c531c77') {"user":"      _id: new ObjectId('6556e9b6a7276b354c531c77')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556e9b6a7276b354c531c77')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'MoMA', {"user":"      Name: 'MoMA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'MoMA',"}}
[info] >        Longitude: -73.9776, {"user":"      Longitude: -73.9776,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9776,"}}
[info] >        Latitude: 40.7615, {"user":"      Latitude: 40.7615,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7615,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 3, {"user":"      Size: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 3,"}}
[info] >        _id: new ObjectId('6556e9b6a7276b354c531c78') {"user":"      _id: new ObjectId('6556e9b6a7276b354c531c78')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556e9b6a7276b354c531c78')"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    _id: new ObjectId('6556e9b6a7276b354c531c75'), {"user":"  _id: new ObjectId('6556e9b6a7276b354c531c75'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6556e9b6a7276b354c531c75'),"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T04:19:02.862Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6309.809913ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6309.809913ms"}}
[debug] [2023-11-17T04:19:02.862Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE"}}
[debug] [2023-11-17T04:19:02.863Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:19:02.863Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:19:02.863Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:19:28.622Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:19:28.622Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:19:28.623Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:19:28.622Z"],"workRunningCount":1}
[debug] [2023-11-17T04:19:28.623Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T04:19:28.625Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:19:28.625Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T04:19:28.625Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:19:28.626Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: BUSY"}}
[debug] [2023-11-17T04:19:28.966Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 340.258812ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 340.258812ms"}}
[debug] [2023-11-17T04:19:28.966Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE"}}
[debug] [2023-11-17T04:19:28.966Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:19:28.966Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:19:28.967Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:19:31.096Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:19:31.096Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:19:31.096Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:19:31.096Z"],"workRunningCount":1}
[debug] [2023-11-17T04:19:31.096Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T04:19:31.098Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:19:31.099Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T04:19:31.099Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:19:31.099Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: BUSY"}}
[debug] [2023-11-17T04:19:31.422Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 322.929692ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 322.929692ms"}}
[debug] [2023-11-17T04:19:31.422Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: IDLE"}}
[debug] [2023-11-17T04:19:31.422Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:19:31.422Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:19:31.422Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:20:16.319Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T04:20:17.323Z] Validating nodejs source
[debug] [2023-11-17T04:20:20.826Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:20:20.827Z] Building nodejs source
[debug] [2023-11-17T04:20:20.827Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:20:20.829Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:20:20.830Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8443

[error] (node:9857) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:9857) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:20:22.865Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:20:32.881Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T04:20:32.881Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: FINISHING"}}
[debug] [2023-11-17T04:20:32.897Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: exited"}}
[debug] [2023-11-17T04:20:32.897Z] [worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e7481fb1-716a-4088-90e5-0f0428a7e291]: FINISHED"}}
[debug] [2023-11-17T04:20:36.502Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T04:20:37.505Z] Validating nodejs source
[debug] [2023-11-17T04:20:39.568Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:20:39.568Z] Building nodejs source
[debug] [2023-11-17T04:20:39.568Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:20:39.570Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:20:39.571Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8735

[error] (node:9873) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:9873) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:20:40.969Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T04:20:42.196Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T04:20:43.200Z] Validating nodejs source
[debug] [2023-11-17T04:20:44.927Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:20:44.927Z] Building nodejs source
[debug] [2023-11-17T04:20:44.928Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T04:20:44.930Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:20:44.931Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8124

[error] (node:9880) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:9880) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:20:45.946Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:21:50.296Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:21:50.296Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:21:50.296Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:21:50.296Z"],"workRunningCount":1}
[debug] [2023-11-17T04:21:50.297Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T04:21:50.300Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:21:50.300Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T04:21:50.301Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:21:50.303Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T04:21:50.304Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T04:21:52.427Z] [runtime-status] [9894] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:21:52.427Z] [runtime-status] [9894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:21:52.430Z] [runtime-status] [9894] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T04:21:52.430Z] [runtime-status] [9894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:21:52.635Z] [runtime-status] [9894] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T04:21:52.635Z] [runtime-status] [9894] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T04:21:52.636Z] [runtime-status] [9894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:21:52.637Z] [runtime-status] [9894] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:21:52.648Z] [runtime-status] [9894] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:21:52.649Z] [runtime-status] [9894] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T04:21:53.171Z] [runtime-status] [9894] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:9894) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9894) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9894) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:9894) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9894) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9894) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T04:21:53.173Z] [runtime-status] [9894] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_c432b522be1ad3b8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9894] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_c432b522be1ad3b8.sock"}}
[debug] [2023-11-17T04:21:53.365Z] [worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: IDLE"}}
[debug] [2023-11-17T04:21:53.365Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:21:53.365Z] [worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T04:21:59.496Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6131.159901ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6131.159901ms"}}
[debug] [2023-11-17T04:21:59.497Z] [worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: IDLE"}}
[debug] [2023-11-17T04:21:59.497Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:21:59.497Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:21:59.497Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:21:59.498Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:21:59.498Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:21:59.498Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:21:59.498Z"],"workRunningCount":1}
[debug] [2023-11-17T04:21:59.498Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T04:21:59.501Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:21:59.501Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T04:21:59.501Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:21:59.502Z] [worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: BUSY"}}
[debug] [2023-11-17T04:21:59.802Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 300.211764ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 300.211764ms"}}
[debug] [2023-11-17T04:21:59.802Z] [worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: IDLE"}}
[debug] [2023-11-17T04:21:59.802Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:21:59.802Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:21:59.802Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:22:16.747Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T04:22:17.748Z] Validating nodejs source
[debug] [2023-11-17T04:22:20.016Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:22:20.018Z] Building nodejs source
[debug] [2023-11-17T04:22:20.018Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:22:20.020Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:22:20.021Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-17T04:22:20.096Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8236

[debug] [2023-11-17T04:22:21.102Z] Validating nodejs source
[debug] [2023-11-17T04:22:22.366Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:22:22.367Z] Building nodejs source
[debug] [2023-11-17T04:22:22.367Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:9911) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:9911) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:22:22.370Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T04:22:22.371Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:22:22.373Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8291

[info] Connected to MongoDB Atlas

[debug] [2023-11-17T04:22:24.718Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:9915) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:9915) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:22:24.763Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T04:22:25.722Z] Validating nodejs source
[debug] [2023-11-17T04:22:27.159Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:22:27.159Z] Building nodejs source
[debug] [2023-11-17T04:22:27.159Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:22:27.161Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T04:22:27.162Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:22:27.163Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[info] Serving at port 8628

[debug] [2023-11-17T04:22:28.161Z] Validating nodejs source
[debug] [2023-11-17T04:22:30.378Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:22:30.378Z] Building nodejs source
[debug] [2023-11-17T04:22:30.378Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:9922) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:9922) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:22:30.380Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T04:22:30.382Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:22:30.383Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8648

[error] (node:9927) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:9927) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:22:31.810Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:22:32.404Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T04:22:32.404Z] [worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: FINISHING"}}
[debug] [2023-11-17T04:22:32.418Z] [worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: exited"}}
[debug] [2023-11-17T04:22:32.418Z] [worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0bb9da9d-b6c1-4553-a14a-513a75b9e522]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:22:41.540Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:22:41.540Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:22:41.540Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:22:41.540Z"],"workRunningCount":1}
[debug] [2023-11-17T04:22:41.540Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T04:22:41.544Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:22:41.545Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T04:22:41.545Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:22:41.549Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T04:22:41.549Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:22:43.668Z] [runtime-status] [9934] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:22:43.670Z] [runtime-status] [9934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:22:43.670Z] [runtime-status] [9934] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T04:22:43.672Z] [runtime-status] [9934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:22:43.988Z] [runtime-status] [9934] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T04:22:43.989Z] [runtime-status] [9934] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T04:22:43.990Z] [runtime-status] [9934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:22:43.992Z] [runtime-status] [9934] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:22:44.010Z] [runtime-status] [9934] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:22:44.011Z] [runtime-status] [9934] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T04:22:44.562Z] [runtime-status] [9934] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:9934) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9934) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9934) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:9934) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9934) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9934) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T04:22:44.565Z] [runtime-status] [9934] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_aaea343a2486f769.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9934] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_aaea343a2486f769.sock"}}
[debug] [2023-11-17T04:22:44.671Z] [worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: IDLE"}}
[debug] [2023-11-17T04:22:44.671Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:22:44.672Z] [worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: BUSY"}}
[info] >  mapID is not defined {"user":"mapID is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m mapID is not defined"}}
[debug] [2023-11-17T04:22:44.781Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 109.425021ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 109.425021ms"}}
[debug] [2023-11-17T04:22:44.781Z] [worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: IDLE"}}
[debug] [2023-11-17T04:22:44.782Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:22:44.782Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:22:44.782Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T04:22:59.806Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T04:23:00.807Z] Validating nodejs source
[debug] [2023-11-17T04:23:02.002Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:23:02.003Z] Building nodejs source
[debug] [2023-11-17T04:23:02.004Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:23:02.006Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:23:02.007Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8143

[error] (node:9943) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:9943) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:23:04.377Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T04:23:10.118Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:23:10.118Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:23:10.118Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:23:10.118Z"],"workRunningCount":1}
[debug] [2023-11-17T04:23:10.118Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T04:23:10.121Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:23:10.122Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T04:23:10.122Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:23:10.122Z] [worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: BUSY"}}
[info] >  mapID is not defined {"user":"mapID is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m mapID is not defined"}}
[debug] [2023-11-17T04:23:10.128Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.304094ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.304094ms"}}
[debug] [2023-11-17T04:23:10.129Z] [worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: IDLE"}}
[debug] [2023-11-17T04:23:10.129Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:23:10.129Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:23:10.129Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:23:14.409Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T04:23:14.409Z] [worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: FINISHING"}}
[debug] [2023-11-17T04:23:14.424Z] [worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: exited"}}
[debug] [2023-11-17T04:23:14.424Z] [worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9e754f80-e5f2-4264-b9d2-93dbfe60886a]: FINISHED"}}
[debug] [2023-11-17T04:23:44.529Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T04:23:45.529Z] Validating nodejs source
[debug] [2023-11-17T04:23:47.151Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:23:47.151Z] Building nodejs source
[debug] [2023-11-17T04:23:47.151Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:23:47.153Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:23:47.154Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8981

[error] (node:9960) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:9960) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:23:48.181Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T04:23:52.637Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T04:23:53.639Z] Validating nodejs source
[debug] [2023-11-17T04:23:55.706Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:23:55.707Z] Building nodejs source
[debug] [2023-11-17T04:23:55.707Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:23:55.709Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T04:23:55.709Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:23:55.710Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8264

[debug] [2023-11-17T04:23:56.711Z] Validating nodejs source
[debug] [2023-11-17T04:24:01.094Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:24:01.094Z] Building nodejs source
[debug] [2023-11-17T04:24:01.095Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:9969) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:9969) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:24:01.098Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T04:24:01.108Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:24:01.109Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8087

[debug] [2023-11-17T04:24:02.679Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:24:02.679Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T04:24:02.679Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T04:24:02.679Z"],"workRunningCount":1}
[debug] [2023-11-17T04:24:02.679Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T04:24:02.683Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T04:24:02.684Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T04:24:02.684Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:24:02.687Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T04:24:02.687Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[error] (node:9973) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:9973) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:24:02.909Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T04:24:04.747Z] [runtime-status] [9974] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:24:04.747Z] [runtime-status] [9974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:24:04.747Z] [runtime-status] [9974] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T04:24:04.747Z] [runtime-status] [9974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:24:04.983Z] [runtime-status] [9974] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T04:24:04.983Z] [runtime-status] [9974] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T04:24:04.984Z] [runtime-status] [9974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:24:04.985Z] [runtime-status] [9974] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T04:24:04.989Z] [runtime-status] [9974] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T04:24:04.990Z] [runtime-status] [9974] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T04:24:05.444Z] [runtime-status] [9974] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:9974) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9974) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9974) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:9974) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:9974) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:9974) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T04:24:05.448Z] [runtime-status] [9974] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_d3c83137df9b7ae8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [9974] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_d3c83137df9b7ae8.sock"}}
[debug] [2023-11-17T04:24:05.521Z] [worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: IDLE"}}
[debug] [2023-11-17T04:24:05.522Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T04:24:05.522Z] [worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: BUSY"}}
[info] Connected to MongoDB Atlas

[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T04:24:10.061Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4539.565005ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4539.565005ms"}}
[debug] [2023-11-17T04:24:10.062Z] [worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: IDLE"}}
[debug] [2023-11-17T04:24:10.062Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T04:24:10.063Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T04:24:10.063Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:24:11.152Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T04:24:11.152Z] [worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: FINISHING"}}
[debug] [2023-11-17T04:24:11.164Z] [worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: exited"}}
[debug] [2023-11-17T04:24:11.165Z] [worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-df3898dc-5859-408d-a491-ff4fa459bae0]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:24:49.421Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers"}}
[debug] [2023-11-17T04:24:50.422Z] Validating nodejs source
[debug] [2023-11-17T04:24:51.719Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:24:51.719Z] Building nodejs source
[debug] [2023-11-17T04:24:51.720Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T04:24:51.722Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers"}}
[debug] [2023-11-17T04:24:51.723Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:24:51.724Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8271

[debug] [2023-11-17T04:24:52.726Z] Validating nodejs source
[debug] [2023-11-17T04:24:56.224Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T04:24:56.224Z] Building nodejs source
[debug] [2023-11-17T04:24:56.225Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:9998) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:9998) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:24:56.226Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T04:24:56.227Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T04:24:56.229Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8214

[error] (node:10002) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:10002) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T04:24:57.702Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T04:27:54.676Z] Received signal SIGHUP 1
[info]  
[info] i  emulators: Received SIGHUP for the first time. Starting a clean shutdown. 
[info] i  emulators: Please wait for a clean shutdown or send the SIGHUP signal again to stop right now. 
[debug] [2023-11-17T04:27:54.679Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.680Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.681Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.682Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.684Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.684Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.685Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.685Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.686Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.687Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.687Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.687Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.688Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.688Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.689Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.690Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.691Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.692Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.692Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.693Z] Ignoring signal SIGHUP due to short delay of 17ms
[debug] [2023-11-17T04:27:54.693Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.694Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.694Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.695Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.695Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.696Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.696Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.696Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.698Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.699Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.700Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.700Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.701Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.701Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.701Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.702Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.702Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.703Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.703Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.704Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.704Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.705Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.705Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.708Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.708Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.708Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.709Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.709Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.710Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.710Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.711Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.712Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.715Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.716Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.716Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.717Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.717Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.717Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.718Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.718Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.719Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.719Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.719Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[info] i  emulators: Shutting down emulators. {"metadata":{"emulator":{"name":"hub"},"message":"Shutting down emulators."}}
[info] i  ui: Stopping Emulator UI {"metadata":{"emulator":{"name":"ui"},"message":"Stopping Emulator UI"}}
[debug] [2023-11-17T04:27:54.735Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.736Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.736Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[warn] ⚠  Emulator UI has exited upon receiving signal: SIGINT 
[debug] [2023-11-17T04:27:54.739Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.739Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.740Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.740Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.741Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.741Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.742Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.742Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.742Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.744Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.748Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.748Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.749Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.749Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.750Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.750Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[info] i  functions: Stopping Functions Emulator {"metadata":{"emulator":{"name":"functions"},"message":"Stopping Functions Emulator"}}
[info] i  eventarc: Stopping Eventarc Emulator {"metadata":{"emulator":{"name":"eventarc"},"message":"Stopping Eventarc Emulator"}}
[info] i  hub: Stopping emulator hub {"metadata":{"emulator":{"name":"hub"},"message":"Stopping emulator hub"}}
[debug] [2023-11-17T04:27:54.755Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.756Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.756Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.757Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.757Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.758Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.758Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.759Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.760Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.761Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.763Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.765Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.766Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.766Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.767Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.767Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.767Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.768Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.773Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[info] i  logging: Stopping Logging Emulator {"metadata":{"emulator":{"name":"logging"},"message":"Stopping Logging Emulator"}}
[debug] [2023-11-17T04:27:54.792Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.792Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.792Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.793Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.794Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.797Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.797Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.798Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.798Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.799Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.799Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.799Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.800Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.801Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.801Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.802Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.802Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.802Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.803Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.804Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.804Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.805Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.805Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.806Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.806Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.806Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.807Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.808Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.808Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.809Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.809Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.810Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.812Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.813Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.813Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.813Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.814Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.814Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.816Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.817Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.818Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.818Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.819Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.819Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.819Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.820Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.824Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.826Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.827Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.829Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.830Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[error] 
[error] Error: An unexpected error has occurred.
[debug] [2023-11-17T04:27:54.831Z] Error: write EIO
    at afterWriteDispatched (node:internal/stream_base_commons:160:15)
    at writeGeneric (node:internal/stream_base_commons:151:3)
    at Socket._writeGeneric (node:net:930:11)
    at Socket._write (node:net:942:8)
    at writeOrBuffer (node:internal/streams/writable:392:12)
    at _write (node:internal/streams/writable:333:10)
    at Writable.write (node:internal/streams/writable:337:10)
    at Console.log (/usr/local/lib/node_modules/firebase-tools/node_modules/winston/lib/winston/transports/console.js:79:23)
    at Console._write (/usr/local/lib/node_modules/firebase-tools/node_modules/winston-transport/index.js:103:17)
    at doWrite (/usr/local/lib/node_modules/firebase-tools/node_modules/readable-stream/lib/_stream_writable.js:390:139)
[debug] [2023-11-17T20:06:28.312Z] ----------------------------------------------------------------------
[debug] [2023-11-17T20:06:28.315Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --only functions,firestore,database,pubsub,storage,eventarc
[debug] [2023-11-17T20:06:28.315Z] CLI Version:   12.8.1
[debug] [2023-11-17T20:06:28.316Z] Platform:      darwin
[debug] [2023-11-17T20:06:28.316Z] Node Version:  v18.14.2
[debug] [2023-11-17T20:06:28.318Z] Time:          Fri Nov 17 2023 15:06:28 GMT-0500 (Eastern Standard Time)
[debug] [2023-11-17T20:06:28.318Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-11-17T20:06:28.879Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-11-17T20:06:28.880Z] > authorizing via signed-in user (markosbiniam@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] ⚠  firestore: Not starting the firestore emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"firestore"},"message":"Not starting the \u001b[1mfirestore\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  database: Not starting the database emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"database"},"message":"Not starting the \u001b[1mdatabase\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  pubsub: Not starting the pubsub emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"pubsub"},"message":"Not starting the \u001b[1mpubsub\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  storage: Not starting the storage emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"storage"},"message":"Not starting the \u001b[1mstorage\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  eventarc: Not starting the eventarc emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"eventarc"},"message":"Not starting the \u001b[1meventarc\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[debug] [2023-11-17T20:06:29.592Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-17T20:06:29.593Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-11-17T20:06:29.636Z] [hub] writing locator at /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/hub-smapchat-back.json
[debug] [2023-11-17T20:06:30.354Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-17T20:06:30.354Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-17T20:06:30.355Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-11-17T20:06:30.360Z] defaultcredentials: writing to file /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json
[debug] [2023-11-17T20:06:30.363Z] Setting GAC to /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json"}}
[debug] [2023-11-17T20:06:30.365Z] > refreshing access token with scopes: []
[debug] [2023-11-17T20:06:30.367Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-11-17T20:06:30.367Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-11-17T20:06:30.468Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-11-17T20:06:30.468Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-11-17T20:06:30.553Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig [none]
[debug] [2023-11-17T20:06:31.271Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig 200
[debug] [2023-11-17T20:06:31.271Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig {"projectId":"smapchat-back","storageBucket":"smapchat-back.appspot.com"}
[debug] [2023-11-17T20:06:31.317Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-11-17T20:06:31.317Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-11-17T20:06:31.317Z] Starting Emulator UI with command {"binary":"node","args":["/Users/binimark/.cache/firebase/emulators/ui-v1.11.7/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/binimark/.cache/firebase/emulators/ui-v1.11.7/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-11-17T20:06:31.876Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-11-17T20:06:31.877Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/binimark/Desktop/Smapchat/Backend/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/binimark/Desktop/Smapchat/Backend/functions\" for Cloud Functions..."}}
[debug] [2023-11-17T20:06:32.105Z] Validating nodejs source
[debug] [2023-11-17T20:06:34.222Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:06:34.224Z] Building nodejs source
[debug] [2023-11-17T20:06:34.226Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:06:34.237Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:06:34.244Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8024

[error] (node:963) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:963) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:06:37.302Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/smapchat-back/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/smapchat-back/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-11-17T20:17:05.742Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:17:05.741Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:17:05.745Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:17:05.741Z"],"workRunningCount":1}
[debug] [2023-11-17T20:17:05.747Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T20:17:05.759Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:17:05.760Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:17:05.779Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:17:05.781Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T20:17:08.670Z] [runtime-status] [1224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:17:08.671Z] [runtime-status] [1224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:17:08.672Z] [runtime-status] [1224] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:17:08.673Z] [runtime-status] [1224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:17:09.219Z] [runtime-status] [1224] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:17:09.219Z] [runtime-status] [1224] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:17:09.219Z] [runtime-status] [1224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:17:09.219Z] [runtime-status] [1224] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:17:09.224Z] [runtime-status] [1224] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:17:09.225Z] [runtime-status] [1224] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:17:10.039Z] [runtime-status] [1224] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1224) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1224) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1224) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1224) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1224) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1224) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:17:10.042Z] [runtime-status] [1224] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_8cb7b02e8372326b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1224] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_8cb7b02e8372326b.sock"}}
[debug] [2023-11-17T20:17:10.198Z] [worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: IDLE"}}
[debug] [2023-11-17T20:17:10.199Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:17:10.202Z] [worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: BUSY"}}
[debug] [2023-11-17T20:17:10.241Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 40.114377ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 40.114377ms"}}
[debug] [2023-11-17T20:17:10.243Z] [worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: IDLE"}}
[debug] [2023-11-17T20:17:10.243Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:17:10.243Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:17:10.243Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:17:10.245Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:17:10.245Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:17:10.245Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:17:10.245Z"],"workRunningCount":1}
[debug] [2023-11-17T20:17:10.245Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T20:17:10.250Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:17:10.251Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T20:17:10.251Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:17:10.251Z] [worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: { {"user":"Created Bubble Map: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map: {"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    Location: [ {"user":"  Location: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Location: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Gershwin Theater', {"user":"      Name: 'Gershwin Theater',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Gershwin Theater',"}}
[info] >        Longitude: -73.9852, {"user":"      Longitude: -73.9852,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9852,"}}
[info] >        Latitude: 40.7624, {"user":"      Latitude: 40.7624,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7624,"}}
[info] >        Color: '#FF0000', {"user":"      Color: '#FF0000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FF0000',"}}
[info] >        Size: 5, {"user":"      Size: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 5,"}}
[info] >        _id: new ObjectId('6557ca4cbf422839e9957c0d') {"user":"      _id: new ObjectId('6557ca4cbf422839e9957c0d')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557ca4cbf422839e9957c0d')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Time Square', {"user":"      Name: 'Time Square',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Time Square',"}}
[info] >        Longitude: -73.9853, {"user":"      Longitude: -73.9853,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9853,"}}
[info] >        Latitude: 40.7581, {"user":"      Latitude: 40.7581,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7581,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 1, {"user":"      Size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 1,"}}
[info] >        _id: new ObjectId('6557ca4cbf422839e9957c0e') {"user":"      _id: new ObjectId('6557ca4cbf422839e9957c0e')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557ca4cbf422839e9957c0e')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'MoMA', {"user":"      Name: 'MoMA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'MoMA',"}}
[info] >        Longitude: -73.9776, {"user":"      Longitude: -73.9776,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9776,"}}
[info] >        Latitude: 40.7615, {"user":"      Latitude: 40.7615,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7615,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 3, {"user":"      Size: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 3,"}}
[info] >        _id: new ObjectId('6557ca4cbf422839e9957c0f') {"user":"      _id: new ObjectId('6557ca4cbf422839e9957c0f')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557ca4cbf422839e9957c0f')"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    _id: new ObjectId('6557ca4cbf422839e9957c0c'), {"user":"  _id: new ObjectId('6557ca4cbf422839e9957c0c'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6557ca4cbf422839e9957c0c'),"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T20:17:16.905Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6653.308826ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6653.308826ms"}}
[debug] [2023-11-17T20:17:16.905Z] [worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: IDLE"}}
[debug] [2023-11-17T20:17:16.905Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:17:16.905Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:17:16.905Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:21:35.553Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:21:36.557Z] Validating nodejs source
[debug] [2023-11-17T20:21:39.070Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:21:39.070Z] Building nodejs source
[debug] [2023-11-17T20:21:39.071Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:21:39.073Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:21:39.075Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8981

[error] (node:1325) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1325) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:21:40.785Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T20:21:45.620Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:21:46.621Z] Validating nodejs source
[debug] [2023-11-17T20:21:48.982Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:21:48.982Z] Building nodejs source
[debug] [2023-11-17T20:21:48.982Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:21:48.983Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:21:48.984Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8354

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:21:50.797Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T20:21:50.798Z] [worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: FINISHING"}}
[debug] [2023-11-17T20:21:50.814Z] [worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: exited"}}
[debug] [2023-11-17T20:21:50.815Z] [worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-a70698de-856a-4693-a4d4-eba5c26dd5c0]: FINISHED"}}
[debug] [2023-11-17T20:21:50.882Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:189
      const createdBubbleMap = await BubbleMapSchema.create({
            ^

SyntaxError: Identifier 'createdBubbleMap' has already been declared
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T20:21:51.411Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'createdBubbleMap' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T20:21:51.884Z] Validating nodejs source
[debug] [2023-11-17T20:21:53.787Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:21:53.788Z] Building nodejs source
[debug] [2023-11-17T20:21:53.788Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:21:53.789Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:21:53.791Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8884

[debug] [2023-11-17T20:21:55.717Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:1341) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1341) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:21:55.994Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T20:21:56.717Z] Validating nodejs source
[debug] [2023-11-17T20:21:58.538Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:21:58.538Z] Building nodejs source
[debug] [2023-11-17T20:21:58.538Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:21:58.540Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:21:58.541Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[info] Serving at port 8934

[error] (node:1349) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1349) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:22:00.416Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T20:22:01.747Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:22:02.753Z] Validating nodejs source
[debug] [2023-11-17T20:22:04.781Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:22:04.781Z] Building nodejs source
[debug] [2023-11-17T20:22:04.781Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:22:04.783Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:22:04.785Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T20:22:05.193Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8899

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:22:06.199Z] Validating nodejs source
[debug] [2023-11-17T20:22:07.483Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:22:07.483Z] Building nodejs source
[debug] [2023-11-17T20:22:07.483Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:1356) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1356) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:22:07.486Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T20:22:07.487Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:22:07.488Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8261

[info] Connected to MongoDB Atlas

[error] (node:1360) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1360) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:22:10.182Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:22:34.927Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:22:35.929Z] Validating nodejs source
[debug] [2023-11-17T20:22:37.187Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:22:37.187Z] Building nodejs source
[debug] [2023-11-17T20:22:37.187Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:22:37.189Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:22:37.189Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:22:37.190Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8620

[debug] [2023-11-17T20:22:38.190Z] Validating nodejs source
[debug] [2023-11-17T20:22:39.782Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:22:39.782Z] Building nodejs source
[debug] [2023-11-17T20:22:39.782Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:1385) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1385) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:22:39.784Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T20:22:39.785Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:22:39.786Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8829

[error] (node:1389) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1389) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:22:41.026Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:25:45.664Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T20:25:46.667Z] Validating nodejs source
[debug] [2023-11-17T20:25:48.113Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:25:48.113Z] Building nodejs source
[debug] [2023-11-17T20:25:48.113Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:25:48.115Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:25:48.116Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8393

[error] (node:1489) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1489) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:25:49.784Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T20:25:50.794Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T20:25:51.795Z] Validating nodejs source
[debug] [2023-11-17T20:25:53.625Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:25:53.626Z] Building nodejs source
[debug] [2023-11-17T20:25:53.626Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T20:25:53.628Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:25:53.630Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8778

[error] (node:1496) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1496) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:25:54.974Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:26:01.446Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T20:26:02.450Z] Validating nodejs source
[debug] [2023-11-17T20:26:04.721Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:26:04.721Z] Building nodejs source
[debug] [2023-11-17T20:26:04.721Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:26:04.724Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:26:04.725Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8573

[error] (node:1510) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1510) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:26:06.021Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T20:26:09.236Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:26:10.237Z] Validating nodejs source
[debug] [2023-11-17T20:26:11.393Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:26:11.393Z] Building nodejs source
[debug] [2023-11-17T20:26:11.393Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:26:11.395Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:26:11.396Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8111

[error] (node:1517) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1517) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:26:12.316Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:27:23.109Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:27:24.113Z] Validating nodejs source
[debug] [2023-11-17T20:27:25.657Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:27:25.657Z] Building nodejs source
[debug] [2023-11-17T20:27:25.658Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:27:25.660Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:27:25.662Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:27:25.663Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8020

[debug] [2023-11-17T20:27:26.662Z] Validating nodejs source
[debug] [2023-11-17T20:27:28.641Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:27:28.641Z] Building nodejs source
[debug] [2023-11-17T20:27:28.641Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:27:28.642Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:27:28.643Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:1537) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1537) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:27:28.647Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8735

[debug] [2023-11-17T20:27:29.410Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:27:29.511Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:27:30.512Z] Validating nodejs source
[debug] [2023-11-17T20:27:32.509Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:27:32.509Z] Building nodejs source
[debug] [2023-11-17T20:27:32.510Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:27:32.510Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:27:32.512Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:1541) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1541) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:27:32.515Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Serving at port 8059

[info] Connected to MongoDB Atlas

[error] (node:1548) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1548) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:27:33.820Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:27:45.157Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:27:45.157Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:27:45.157Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:27:45.157Z"],"workRunningCount":1}
[debug] [2023-11-17T20:27:45.158Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T20:27:45.165Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:27:45.165Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T20:27:45.165Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:27:45.169Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:27:45.170Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T20:27:47.744Z] [runtime-status] [1557] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:27:47.744Z] [runtime-status] [1557] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:27:47.745Z] [runtime-status] [1557] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:27:47.745Z] [runtime-status] [1557] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:27:47.947Z] [runtime-status] [1557] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:27:47.947Z] [runtime-status] [1557] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:27:47.948Z] [runtime-status] [1557] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:27:47.949Z] [runtime-status] [1557] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:27:47.954Z] [runtime-status] [1557] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:27:47.954Z] [runtime-status] [1557] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:27:48.323Z] [runtime-status] [1557] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1557) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1557) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1557) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1557) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1557) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1557) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:27:48.325Z] [runtime-status] [1557] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_5ec864bd766053ce.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1557] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_5ec864bd766053ce.sock"}}
[debug] [2023-11-17T20:27:48.469Z] [worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: IDLE"}}
[debug] [2023-11-17T20:27:48.469Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:27:48.470Z] [worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: BUSY"}}
[debug] [2023-11-17T20:27:48.477Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.705148ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.705148ms"}}
[debug] [2023-11-17T20:27:48.478Z] [worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: IDLE"}}
[debug] [2023-11-17T20:27:48.478Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:27:48.478Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:27:48.478Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:27:48.482Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:27:48.482Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:27:48.482Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:27:48.482Z"],"workRunningCount":1}
[debug] [2023-11-17T20:27:48.483Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T20:27:48.485Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:27:48.485Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T20:27:48.486Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:27:48.486Z] [worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: { {"user":"Created Bubble Map: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map: {"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    Location: [ {"user":"  Location: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Location: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Gershwin Theater', {"user":"      Name: 'Gershwin Theater',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Gershwin Theater',"}}
[info] >        Longitude: -73.9852, {"user":"      Longitude: -73.9852,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9852,"}}
[info] >        Latitude: 40.7624, {"user":"      Latitude: 40.7624,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7624,"}}
[info] >        Color: '#FF0000', {"user":"      Color: '#FF0000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FF0000',"}}
[info] >        Size: 5, {"user":"      Size: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 5,"}}
[info] >        _id: new ObjectId('6557ccca0167799a76fd27dc') {"user":"      _id: new ObjectId('6557ccca0167799a76fd27dc')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557ccca0167799a76fd27dc')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Time Square', {"user":"      Name: 'Time Square',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Time Square',"}}
[info] >        Longitude: -73.9853, {"user":"      Longitude: -73.9853,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9853,"}}
[info] >        Latitude: 40.7581, {"user":"      Latitude: 40.7581,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7581,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 1, {"user":"      Size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 1,"}}
[info] >        _id: new ObjectId('6557ccca0167799a76fd27dd') {"user":"      _id: new ObjectId('6557ccca0167799a76fd27dd')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557ccca0167799a76fd27dd')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'MoMA', {"user":"      Name: 'MoMA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'MoMA',"}}
[info] >        Longitude: -73.9776, {"user":"      Longitude: -73.9776,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9776,"}}
[info] >        Latitude: 40.7615, {"user":"      Latitude: 40.7615,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7615,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 3, {"user":"      Size: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 3,"}}
[info] >        _id: new ObjectId('6557ccca0167799a76fd27de') {"user":"      _id: new ObjectId('6557ccca0167799a76fd27de')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557ccca0167799a76fd27de')"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    _id: new ObjectId('6557ccca0167799a76fd27db'), {"user":"  _id: new ObjectId('6557ccca0167799a76fd27db'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6557ccca0167799a76fd27db'),"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T20:27:55.636Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7150.46758ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7150.46758ms"}}
[debug] [2023-11-17T20:27:55.652Z] [worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: IDLE"}}
[debug] [2023-11-17T20:27:55.652Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:27:55.652Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:27:55.652Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:30:06.395Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:30:07.396Z] Validating nodejs source
[debug] [2023-11-17T20:30:09.246Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:30:09.247Z] Building nodejs source
[debug] [2023-11-17T20:30:09.247Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:30:09.249Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:30:09.249Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:30:09.250Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8070

[debug] [2023-11-17T20:30:10.250Z] Validating nodejs source
[debug] [2023-11-17T20:30:14.688Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:30:14.689Z] Building nodejs source
[debug] [2023-11-17T20:30:14.689Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:30:14.690Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:30:14.691Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:1581) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1581) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:30:14.694Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8529

[info] Connected to MongoDB Atlas

[error] (node:1588) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1588) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:30:16.411Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:30:24.724Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T20:30:24.724Z] [worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: FINISHING"}}
[debug] [2023-11-17T20:30:24.752Z] [worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: exited"}}
[debug] [2023-11-17T20:30:24.753Z] [worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e74cb373-6f64-4cba-aabc-7d99eaae6f26]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:30:27.806Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:30:27.806Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:30:27.807Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:30:27.806Z"],"workRunningCount":1}
[debug] [2023-11-17T20:30:27.807Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T20:30:27.813Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:30:27.814Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T20:30:27.814Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:30:27.818Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:30:27.819Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T20:30:30.191Z] [runtime-status] [1596] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:30:30.192Z] [runtime-status] [1596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:30:30.193Z] [runtime-status] [1596] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:30:30.194Z] [runtime-status] [1596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:30:30.420Z] [runtime-status] [1596] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:30:30.420Z] [runtime-status] [1596] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:30:30.422Z] [runtime-status] [1596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:30:30.423Z] [runtime-status] [1596] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:30:30.428Z] [runtime-status] [1596] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:30:30.428Z] [runtime-status] [1596] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:30:30.795Z] [runtime-status] [1596] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1596) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1596) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1596) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1596) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1596) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1596) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:30:30.797Z] [runtime-status] [1596] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a6073b418a1cce97.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1596] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a6073b418a1cce97.sock"}}
[debug] [2023-11-17T20:30:30.906Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE"}}
[debug] [2023-11-17T20:30:30.906Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:30:30.907Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY"}}
[debug] [2023-11-17T20:30:30.913Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.965901ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.965901ms"}}
[debug] [2023-11-17T20:30:30.914Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE"}}
[debug] [2023-11-17T20:30:30.914Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:30:30.914Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:30:30.914Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:30:30.920Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:30:30.920Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:30:30.920Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:30:30.920Z"],"workRunningCount":1}
[debug] [2023-11-17T20:30:30.920Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T20:30:30.923Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:30:30.923Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T20:30:30.923Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:30:30.924Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: { {"user":"Created Bubble Map: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map: {"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    Location: [ {"user":"  Location: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Location: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Gershwin Theater', {"user":"      Name: 'Gershwin Theater',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Gershwin Theater',"}}
[info] >        Longitude: -73.9852, {"user":"      Longitude: -73.9852,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9852,"}}
[info] >        Latitude: 40.7624, {"user":"      Latitude: 40.7624,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7624,"}}
[info] >        Color: '#FF0000', {"user":"      Color: '#FF0000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FF0000',"}}
[info] >        Size: 5, {"user":"      Size: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 5,"}}
[info] >        _id: new ObjectId('6557cd6d72d102c82f3956c9') {"user":"      _id: new ObjectId('6557cd6d72d102c82f3956c9')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557cd6d72d102c82f3956c9')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Time Square', {"user":"      Name: 'Time Square',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Time Square',"}}
[info] >        Longitude: -73.9853, {"user":"      Longitude: -73.9853,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9853,"}}
[info] >        Latitude: 40.7581, {"user":"      Latitude: 40.7581,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7581,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 1, {"user":"      Size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 1,"}}
[info] >        _id: new ObjectId('6557cd6d72d102c82f3956ca') {"user":"      _id: new ObjectId('6557cd6d72d102c82f3956ca')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557cd6d72d102c82f3956ca')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'MoMA', {"user":"      Name: 'MoMA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'MoMA',"}}
[info] >        Longitude: -73.9776, {"user":"      Longitude: -73.9776,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9776,"}}
[info] >        Latitude: 40.7615, {"user":"      Latitude: 40.7615,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7615,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 3, {"user":"      Size: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 3,"}}
[info] >        _id: new ObjectId('6557cd6d72d102c82f3956cb') {"user":"      _id: new ObjectId('6557cd6d72d102c82f3956cb')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557cd6d72d102c82f3956cb')"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    _id: new ObjectId('6557cd6d72d102c82f3956c8'), {"user":"  _id: new ObjectId('6557cd6d72d102c82f3956c8'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6557cd6d72d102c82f3956c8'),"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T20:30:37.631Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6707.3437730000005ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6707.3437730000005ms"}}
[debug] [2023-11-17T20:30:37.631Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE"}}
[debug] [2023-11-17T20:30:37.631Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:30:37.631Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:30:37.631Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Error creating map: MongoServerError: E11000 duplicate key error collection: smapchat.mapschemas index: mapID_1 dup key: { mapID: null } {"user":"Error creating map: MongoServerError: E11000 duplicate key error collection: smapchat.mapschemas index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error creating map: MongoServerError: E11000 duplicate key error collection: smapchat.mapschemas index: mapID_1 dup key: { mapID: null }"}}
[info] >      at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19) {"user":"    at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) { {"user":"    at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) {"}}
[info] >    index: 0, {"user":"  index: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   index: 0,"}}
[info] >    code: 11000, {"user":"  code: 11000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 11000,"}}
[info] >    keyPattern: { mapID: 1 }, {"user":"  keyPattern: { mapID: 1 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   keyPattern: { mapID: 1 },"}}
[info] >    keyValue: { mapID: null }, {"user":"  keyValue: { mapID: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   keyValue: { mapID: null },"}}
[info] >    [Symbol(errorLabels)]: Set(0) {} {"user":"  [Symbol(errorLabels)]: Set(0) {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   [Symbol(errorLabels)]: Set(0) {}"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T20:33:59.346Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:33:59.346Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:33:59.347Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:33:59.346Z"],"workRunningCount":1}
[debug] [2023-11-17T20:33:59.347Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:33:59.349Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:33:59.349Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:33:59.350Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:33:59.350Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY"}}
[debug] [2023-11-17T20:33:59.641Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 290.923208ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 290.923208ms"}}
[debug] [2023-11-17T20:33:59.641Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE"}}
[debug] [2023-11-17T20:33:59.641Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:33:59.641Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:33:59.642Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:35:33.863Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:35:33.863Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:35:33.863Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:35:33.863Z"],"workRunningCount":1}
[debug] [2023-11-17T20:35:33.863Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:35:33.866Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:35:33.866Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:35:33.866Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:35:33.867Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY"}}
[debug] [2023-11-17T20:35:34.168Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 301.142245ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 301.142245ms"}}
[debug] [2023-11-17T20:35:34.168Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE"}}
[debug] [2023-11-17T20:35:34.168Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:35:34.169Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:35:34.169Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:35:59.738Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:36:00.740Z] Validating nodejs source
[debug] [2023-11-17T20:36:03.037Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:36:03.037Z] Building nodejs source
[debug] [2023-11-17T20:36:03.038Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:36:03.041Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:36:03.042Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:36:03.043Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8197

[debug] [2023-11-17T20:36:04.066Z] Validating nodejs source
[debug] [2023-11-17T20:36:08.966Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:36:08.966Z] Building nodejs source
[debug] [2023-11-17T20:36:08.966Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:36:08.967Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:36:08.968Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:1675) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1675) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:36:08.976Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8368

[error] (node:1679) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1679) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:36:10.908Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[debug] [2023-11-17T20:36:15.014Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:36:15.014Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:36:15.015Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:36:15.014Z"],"workRunningCount":1}
[debug] [2023-11-17T20:36:15.015Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:36:15.019Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:36:15.019Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:36:15.019Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:36:15.020Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: BUSY"}}
[debug] [2023-11-17T20:36:15.301Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 281.658718ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 281.658718ms"}}
[debug] [2023-11-17T20:36:15.302Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: IDLE"}}
[debug] [2023-11-17T20:36:15.302Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:36:15.302Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:36:15.302Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:36:19.048Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T20:36:19.048Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: FINISHING"}}
[debug] [2023-11-17T20:36:19.062Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: exited"}}
[debug] [2023-11-17T20:36:19.062Z] [worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-192d580b-e072-46a0-b184-32d6c442abce]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:36:24.815Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:36:24.815Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:36:24.816Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:36:24.815Z"],"workRunningCount":1}
[debug] [2023-11-17T20:36:24.816Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:36:24.818Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:36:24.819Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:36:24.819Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:36:24.822Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:36:24.822Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T20:36:27.398Z] [runtime-status] [1689] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:36:27.400Z] [runtime-status] [1689] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:36:27.400Z] [runtime-status] [1689] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:36:27.402Z] [runtime-status] [1689] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:36:27.773Z] [runtime-status] [1689] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:36:27.774Z] [runtime-status] [1689] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:36:27.775Z] [runtime-status] [1689] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:36:27.776Z] [runtime-status] [1689] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:36:27.784Z] [runtime-status] [1689] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:36:27.784Z] [runtime-status] [1689] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:36:28.460Z] [runtime-status] [1689] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1689) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1689) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1689) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1689) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1689) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1689) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:36:28.463Z] [runtime-status] [1689] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_6f9662da85030bda.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1689] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_6f9662da85030bda.sock"}}
[debug] [2023-11-17T20:36:28.518Z] [worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: IDLE"}}
[debug] [2023-11-17T20:36:28.519Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:36:28.519Z] [worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-11-17T20:36:34.894Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6375.812173ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6375.812173ms"}}
[debug] [2023-11-17T20:36:34.895Z] [worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: IDLE"}}
[debug] [2023-11-17T20:36:34.895Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:36:34.895Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:36:34.895Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:36:34.898Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:36:34.898Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:36:34.898Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:36:34.898Z"],"workRunningCount":1}
[debug] [2023-11-17T20:36:34.898Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:36:34.901Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:36:34.901Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:36:34.901Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:36:34.901Z] [worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: BUSY"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-11-17T20:36:35.177Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 275.983421ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 275.983421ms"}}
[debug] [2023-11-17T20:36:35.178Z] [worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: IDLE"}}
[debug] [2023-11-17T20:36:35.178Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:36:35.178Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:36:35.178Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:37:16.192Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers"}}
[debug] [2023-11-17T20:37:17.194Z] Validating nodejs source
[debug] [2023-11-17T20:37:18.209Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:37:18.210Z] Building nodejs source
[debug] [2023-11-17T20:37:18.210Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:37:18.211Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:37:18.212Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8011

[error] (node:1708) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1708) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:37:20.645Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:37:30.673Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T20:37:30.674Z] [worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: FINISHING"}}
[debug] [2023-11-17T20:37:30.684Z] [worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: exited"}}
[debug] [2023-11-17T20:37:30.684Z] [worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7605cd55-0ea3-4b91-89c3-d943ff02aaa3]: FINISHED"}}
[debug] [2023-11-17T20:37:58.094Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:37:58.094Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:37:58.094Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:37:58.094Z"],"workRunningCount":1}
[debug] [2023-11-17T20:37:58.094Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T20:37:58.098Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:37:58.098Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T20:37:58.098Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:37:58.101Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:37:58.101Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T20:38:00.191Z] [runtime-status] [1732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:38:00.193Z] [runtime-status] [1732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:38:00.193Z] [runtime-status] [1732] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:38:00.194Z] [runtime-status] [1732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:38:00.395Z] [runtime-status] [1732] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:38:00.395Z] [runtime-status] [1732] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:38:00.396Z] [runtime-status] [1732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:38:00.397Z] [runtime-status] [1732] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:38:00.417Z] [runtime-status] [1732] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:38:00.417Z] [runtime-status] [1732] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:38:00.778Z] [runtime-status] [1732] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1732) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1732) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1732) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1732) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1732) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1732) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:38:00.780Z] [runtime-status] [1732] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_4e2c557564278236.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1732] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_4e2c557564278236.sock"}}
[debug] [2023-11-17T20:38:00.886Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE"}}
[debug] [2023-11-17T20:38:00.886Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:38:00.886Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY"}}
[debug] [2023-11-17T20:38:00.910Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 23.599109ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 23.599109ms"}}
[debug] [2023-11-17T20:38:00.912Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE"}}
[debug] [2023-11-17T20:38:00.912Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:38:00.912Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:38:00.912Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:38:00.919Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:38:00.919Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:38:00.919Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T20:38:00.919Z"],"workRunningCount":1}
[debug] [2023-11-17T20:38:00.920Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T20:38:00.922Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:38:00.922Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T20:38:00.922Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:38:00.923Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: { {"user":"Created Bubble Map: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map: {"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    Location: [ {"user":"  Location: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Location: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Gershwin Theater', {"user":"      Name: 'Gershwin Theater',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Gershwin Theater',"}}
[info] >        Longitude: -73.9852, {"user":"      Longitude: -73.9852,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9852,"}}
[info] >        Latitude: 40.7624, {"user":"      Latitude: 40.7624,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7624,"}}
[info] >        Color: '#FF0000', {"user":"      Color: '#FF0000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FF0000',"}}
[info] >        Size: 5, {"user":"      Size: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 5,"}}
[info] >        _id: new ObjectId('6557cf2d77ff333b8859de95') {"user":"      _id: new ObjectId('6557cf2d77ff333b8859de95')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557cf2d77ff333b8859de95')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Time Square', {"user":"      Name: 'Time Square',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Time Square',"}}
[info] >        Longitude: -73.9853, {"user":"      Longitude: -73.9853,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9853,"}}
[info] >        Latitude: 40.7581, {"user":"      Latitude: 40.7581,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7581,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 1, {"user":"      Size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 1,"}}
[info] >        _id: new ObjectId('6557cf2d77ff333b8859de96') {"user":"      _id: new ObjectId('6557cf2d77ff333b8859de96')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557cf2d77ff333b8859de96')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'MoMA', {"user":"      Name: 'MoMA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'MoMA',"}}
[info] >        Longitude: -73.9776, {"user":"      Longitude: -73.9776,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9776,"}}
[info] >        Latitude: 40.7615, {"user":"      Latitude: 40.7615,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7615,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 3, {"user":"      Size: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 3,"}}
[info] >        _id: new ObjectId('6557cf2d77ff333b8859de97') {"user":"      _id: new ObjectId('6557cf2d77ff333b8859de97')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6557cf2d77ff333b8859de97')"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    _id: new ObjectId('6557cf2d77ff333b8859de94'), {"user":"  _id: new ObjectId('6557cf2d77ff333b8859de94'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6557cf2d77ff333b8859de94'),"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T20:38:06.136Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5213.708153ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5213.708153ms"}}
[debug] [2023-11-17T20:38:06.136Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE"}}
[debug] [2023-11-17T20:38:06.136Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:38:06.137Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:38:06.137Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Map created: { {"user":"Map created: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Map created: {"}}
[info] >    mapType: 3, {"user":"  mapType: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   mapType: 3,"}}
[info] >    title: 'City Map', {"user":"  title: 'City Map',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   title: 'City Map',"}}
[info] >    description: 'Detailed map of the city center', {"user":"  description: 'Detailed map of the city center',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   description: 'Detailed map of the city center',"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    avgRate: 4.5, {"user":"  avgRate: 4.5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   avgRate: 4.5,"}}
[info] >    comment: [ 10, 15, 20 ], {"user":"  comment: [ 10, 15, 20 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   comment: [ 10, 15, 20 ],"}}
[info] >    mapFile: 'city_map.pdf', {"user":"  mapFile: 'city_map.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   mapFile: 'city_map.pdf',"}}
[info] >    public: 1, {"user":"  public: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   public: 1,"}}
[info] >    _id: new ObjectId('6557cf2e77ff333b8859de9b'), {"user":"  _id: new ObjectId('6557cf2e77ff333b8859de9b'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6557cf2e77ff333b8859de9b'),"}}
[info] >    date: 2023-11-17T20:38:06.127Z, {"user":"  date: 2023-11-17T20:38:06.127Z,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   date: 2023-11-17T20:38:06.127Z,"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T20:38:43.584Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:38:43.584Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:38:43.584Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:38:43.584Z"],"workRunningCount":1}
[debug] [2023-11-17T20:38:43.584Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:38:43.588Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:38:43.588Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:38:43.589Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:38:43.589Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-11-17T20:38:43.884Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 295.66184ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 295.66184ms"}}
[debug] [2023-11-17T20:38:43.885Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE"}}
[debug] [2023-11-17T20:38:43.885Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:38:43.885Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:38:43.885Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:38:49.814Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:38:49.814Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:38:49.815Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:38:49.814Z"],"workRunningCount":1}
[debug] [2023-11-17T20:38:49.815Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:38:49.817Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:38:49.817Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:38:49.818Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:38:49.818Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-11-17T20:38:50.105Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 287.637766ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 287.637766ms"}}
[debug] [2023-11-17T20:38:50.106Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE"}}
[debug] [2023-11-17T20:38:50.106Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:38:50.106Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:38:50.106Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:39:14.083Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:39:15.084Z] Validating nodejs source
[debug] [2023-11-17T20:39:16.607Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:39:16.607Z] Building nodejs source
[debug] [2023-11-17T20:39:16.608Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:39:16.610Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:39:16.610Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:39:16.611Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8245

[debug] [2023-11-17T20:39:17.611Z] Validating nodejs source
[debug] [2023-11-17T20:39:20.066Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:39:20.066Z] Building nodejs source
[debug] [2023-11-17T20:39:20.066Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:39:20.069Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:39:20.070Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:1778) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1778) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:39:20.074Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T20:39:20.076Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:39:20.076Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:39:20.076Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:39:20.076Z"],"workRunningCount":1}
[debug] [2023-11-17T20:39:20.076Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:39:20.078Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:39:20.079Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:39:20.079Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:39:20.079Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY"}}
[info] Serving at port 8732

[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-11-17T20:39:20.477Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 398.05301ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 398.05301ms"}}
[debug] [2023-11-17T20:39:20.478Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE"}}
[debug] [2023-11-17T20:39:20.478Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:39:20.478Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:39:20.478Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[error] (node:1782) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1782) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:39:21.311Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[debug] [2023-11-17T20:39:27.940Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:39:27.940Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:39:27.940Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:39:27.940Z"],"workRunningCount":1}
[debug] [2023-11-17T20:39:27.940Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:39:27.942Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:39:27.943Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:39:27.943Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:39:27.943Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: BUSY"}}
[info] >  null {"user":null,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m null"}}
[debug] [2023-11-17T20:39:28.356Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 412.777678ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 412.777678ms"}}
[debug] [2023-11-17T20:39:28.356Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: IDLE"}}
[debug] [2023-11-17T20:39:28.356Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:39:28.356Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:39:28.357Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:39:30.123Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T20:39:30.124Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: FINISHING"}}
[debug] [2023-11-17T20:39:30.133Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: exited"}}
[debug] [2023-11-17T20:39:30.133Z] [worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ede85d1b-3141-4e7f-8f5d-25bbfb6c1b45]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:40:12.086Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T20:40:13.089Z] Validating nodejs source
[debug] [2023-11-17T20:40:15.277Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:40:15.277Z] Building nodejs source
[debug] [2023-11-17T20:40:15.277Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:40:15.279Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:40:15.280Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8829

[debug] [2023-11-17T20:40:16.147Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T20:40:17.148Z] Validating nodejs source
[debug] [2023-11-17T20:40:19.290Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:40:19.290Z] Building nodejs source
[debug] [2023-11-17T20:40:19.290Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:40:19.291Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:40:19.292Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:1807) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1807) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:40:19.295Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T20:40:19.297Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:40:19.297Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:40:19.297Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:40:19.297Z"],"workRunningCount":1}
[debug] [2023-11-17T20:40:19.297Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:40:19.299Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:40:19.300Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:40:19.300Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:40:19.302Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:40:19.303Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] Serving at port 8797

[error] (node:1814) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1814) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:40:20.545Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T20:40:21.843Z] [runtime-status] [1815] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:40:21.847Z] [runtime-status] [1815] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:40:21.847Z] [runtime-status] [1815] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:40:21.847Z] [runtime-status] [1815] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:40:22.062Z] [runtime-status] [1815] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:40:22.062Z] [runtime-status] [1815] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:40:22.063Z] [runtime-status] [1815] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:40:22.064Z] [runtime-status] [1815] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:40:22.070Z] [runtime-status] [1815] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:40:22.070Z] [runtime-status] [1815] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:40:22.456Z] [runtime-status] [1815] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1815) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1815) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1815) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1815) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1815) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1815) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:40:22.459Z] [runtime-status] [1815] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_462a3e780c5aaca5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1815] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_462a3e780c5aaca5.sock"}}
[debug] [2023-11-17T20:40:22.570Z] [worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: IDLE"}}
[debug] [2023-11-17T20:40:22.570Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:40:22.571Z] [worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: BUSY"}}
[info] Connected to MongoDB Atlas

[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-11-17T20:40:27.027Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4456.556031ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4456.556031ms"}}
[debug] [2023-11-17T20:40:27.027Z] [worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: IDLE"}}
[debug] [2023-11-17T20:40:27.027Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:40:27.028Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:40:27.028Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:40:27.030Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:40:27.030Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:40:27.030Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:40:27.030Z"],"workRunningCount":1}
[debug] [2023-11-17T20:40:27.030Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:40:27.032Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:40:27.033Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:40:27.033Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:40:27.033Z] [worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: BUSY"}}
[info] >  undefined {"user":"undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m undefined"}}
[debug] [2023-11-17T20:40:27.946Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 912.535316ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 912.535316ms"}}
[debug] [2023-11-17T20:40:27.946Z] [worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: IDLE"}}
[debug] [2023-11-17T20:40:27.946Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:40:27.946Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:40:27.946Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:40:29.319Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T20:40:29.319Z] [worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: FINISHING"}}
[debug] [2023-11-17T20:40:29.330Z] [worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: exited"}}
[debug] [2023-11-17T20:40:29.331Z] [worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-195051eb-3a30-4441-9726-220f68f65e83]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:42:14.995Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers"}}
[debug] [2023-11-17T20:42:15.997Z] Validating nodejs source
[debug] [2023-11-17T20:42:18.528Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:42:18.529Z] Building nodejs source
[debug] [2023-11-17T20:42:18.529Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:42:18.532Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:42:18.533Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8074

[error] (node:1873) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1873) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:42:21.710Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T20:42:25.803Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:42:25.803Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:42:25.803Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:42:25.803Z"],"workRunningCount":1}
[debug] [2023-11-17T20:42:25.803Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:42:25.807Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:42:25.807Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:42:25.807Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:42:25.810Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:42:25.811Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T20:42:28.203Z] [runtime-status] [1878] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:42:28.205Z] [runtime-status] [1878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:42:28.207Z] [runtime-status] [1878] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:42:28.207Z] [runtime-status] [1878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:42:28.548Z] [runtime-status] [1878] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:42:28.549Z] [runtime-status] [1878] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:42:28.549Z] [runtime-status] [1878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:42:28.550Z] [runtime-status] [1878] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:42:28.554Z] [runtime-status] [1878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:42:28.554Z] [runtime-status] [1878] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:42:29.030Z] [runtime-status] [1878] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1878) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1878) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1878) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1878) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1878) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1878) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:42:29.033Z] [runtime-status] [1878] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_49a90baa0b35d5b3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1878] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_49a90baa0b35d5b3.sock"}}
[debug] [2023-11-17T20:42:29.166Z] [worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: IDLE"}}
[debug] [2023-11-17T20:42:29.166Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:42:29.166Z] [worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: BUSY"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:42:31.856Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-17T20:42:31.856Z] [worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: FINISHING"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  12345 {"user":12345,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m 12345"}}
[debug] [2023-11-17T20:42:35.334Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6168.481584ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6168.481584ms"}}
[debug] [2023-11-17T20:42:35.335Z] [worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: IDLE --> FINISHING"}}
[debug] [2023-11-17T20:42:35.335Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:42:35.335Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:42:35.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:42:35.348Z] [worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: exited"}}
[debug] [2023-11-17T20:42:35.348Z] [worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-41844637-0ae2-4cda-8150-5a2a7b40c618]: FINISHED"}}
[debug] [2023-11-17T20:42:35.350Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:42:35.350Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:42:35.350Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:42:35.350Z"],"workRunningCount":1}
[debug] [2023-11-17T20:42:35.350Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:42:35.353Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:42:35.353Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:42:35.353Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:42:35.358Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:42:35.358Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T20:42:36.387Z] [runtime-status] [1884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:42:36.388Z] [runtime-status] [1884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:42:36.389Z] [runtime-status] [1884] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:42:36.390Z] [runtime-status] [1884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:42:36.596Z] [runtime-status] [1884] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:42:36.596Z] [runtime-status] [1884] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:42:36.597Z] [runtime-status] [1884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:42:36.598Z] [runtime-status] [1884] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:42:36.600Z] [runtime-status] [1884] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:42:36.600Z] [runtime-status] [1884] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:42:36.960Z] [runtime-status] [1884] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1884) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1884) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1884) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1884) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1884) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1884) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:42:36.963Z] [runtime-status] [1884] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_61286c43abda47c4.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1884] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_61286c43abda47c4.sock"}}
[debug] [2023-11-17T20:42:37.077Z] [worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: IDLE"}}
[debug] [2023-11-17T20:42:37.078Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:42:37.078Z] [worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  12345 {"user":12345,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m 12345"}}
[debug] [2023-11-17T20:42:43.216Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6138.762632ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6138.762632ms"}}
[debug] [2023-11-17T20:42:43.217Z] [worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: IDLE"}}
[debug] [2023-11-17T20:42:43.217Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:42:43.217Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:42:43.217Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:42:59.440Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:43:00.454Z] Validating nodejs source
[debug] [2023-11-17T20:43:02.926Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:43:02.926Z] Building nodejs source
[debug] [2023-11-17T20:43:02.926Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:43:02.928Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:43:02.928Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:43:02.928Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:43:02.928Z"],"workRunningCount":1}
[debug] [2023-11-17T20:43:02.928Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:43:02.932Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:43:02.932Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:43:02.932Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:43:02.932Z] [worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: BUSY"}}
[debug] [2023-11-17T20:43:02.933Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:43:02.934Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] >  12345 {"user":12345,"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m 12345"}}
[debug] [2023-11-17T20:43:03.297Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 365.14167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 365.14167ms"}}
[debug] [2023-11-17T20:43:03.299Z] [worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: IDLE"}}
[debug] [2023-11-17T20:43:03.299Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:43:03.299Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:43:03.299Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Serving at port 8597

[error] (node:1901) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:1901) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:43:04.765Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:43:14.782Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T20:43:14.782Z] [worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: FINISHING"}}
[debug] [2023-11-17T20:43:14.793Z] [worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: exited"}}
[debug] [2023-11-17T20:43:14.793Z] [worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ba8a087f-89e8-4692-b1c9-9c985231243f]: FINISHED"}}
[debug] [2023-11-17T20:43:18.990Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:43:18.990Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:43:18.990Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:43:18.990Z"],"workRunningCount":1}
[debug] [2023-11-17T20:43:18.990Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:43:18.992Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:43:18.992Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:43:18.992Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:43:18.994Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:43:18.995Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T20:43:21.384Z] [runtime-status] [1908] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:43:21.386Z] [runtime-status] [1908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:43:21.386Z] [runtime-status] [1908] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:43:21.387Z] [runtime-status] [1908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:43:21.591Z] [runtime-status] [1908] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:43:21.591Z] [runtime-status] [1908] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:43:21.592Z] [runtime-status] [1908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:43:21.593Z] [runtime-status] [1908] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:43:21.597Z] [runtime-status] [1908] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:43:21.597Z] [runtime-status] [1908] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:43:21.962Z] [runtime-status] [1908] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1908) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1908) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1908) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1908) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1908) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1908) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:43:21.964Z] [runtime-status] [1908] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_b134a1ef105de29f.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1908] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_b134a1ef105de29f.sock"}}
[debug] [2023-11-17T20:43:22.082Z] [worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: IDLE"}}
[debug] [2023-11-17T20:43:22.083Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:43:22.083Z] [worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    _id: new ObjectId('6557cf2e77ff333b8859de9b'), {"user":"  _id: new ObjectId('6557cf2e77ff333b8859de9b'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6557cf2e77ff333b8859de9b'),"}}
[info] >    mapType: 3, {"user":"  mapType: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   mapType: 3,"}}
[info] >    title: 'City Map', {"user":"  title: 'City Map',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   title: 'City Map',"}}
[info] >    description: 'Detailed map of the city center', {"user":"  description: 'Detailed map of the city center',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   description: 'Detailed map of the city center',"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    avgRate: 4.5, {"user":"  avgRate: 4.5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   avgRate: 4.5,"}}
[info] >    comment: [ 10, 15, 20 ], {"user":"  comment: [ 10, 15, 20 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   comment: [ 10, 15, 20 ],"}}
[info] >    mapFile: 'city_map.pdf', {"user":"  mapFile: 'city_map.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   mapFile: 'city_map.pdf',"}}
[info] >    public: 1, {"user":"  public: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   public: 1,"}}
[info] >    date: 2023-11-17T20:38:06.127Z, {"user":"  date: 2023-11-17T20:38:06.127Z,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   date: 2023-11-17T20:38:06.127Z,"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T20:43:28.206Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6123.602989ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6123.602989ms"}}
[debug] [2023-11-17T20:43:28.207Z] [worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: IDLE"}}
[debug] [2023-11-17T20:43:28.207Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:43:28.207Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:43:28.207Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:44:18.911Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T20:44:19.911Z] Validating nodejs source
[debug] [2023-11-17T20:44:22.666Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T20:44:22.666Z] Building nodejs source
[debug] [2023-11-17T20:44:22.666Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:44:22.667Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T20:44:22.668Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8710

[error] (node:1925) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:1925) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T20:44:24.090Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T20:44:34.105Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T20:44:34.105Z] [worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: FINISHING"}}
[debug] [2023-11-17T20:44:34.116Z] [worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: exited"}}
[debug] [2023-11-17T20:44:34.116Z] [worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e87badd3-ce77-4793-aa63-5cd6740f7ff1]: FINISHED"}}
[debug] [2023-11-17T20:44:45.381Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:44:45.381Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T20:44:45.381Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/specific/12345-2023-11-17T20:44:45.381Z"],"workRunningCount":1}
[debug] [2023-11-17T20:44:45.382Z] Accepted request GET /smapchat-back/us-central1/api/map/specific/12345 --> us-central1-api
[debug] [2023-11-17T20:44:45.384Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T20:44:45.384Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/specific/12345, mapping to path=/map/specific/12345"}}
[debug] [2023-11-17T20:44:45.385Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T20:44:45.387Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T20:44:45.387Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T20:44:47.231Z] [runtime-status] [1945] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:44:47.235Z] [runtime-status] [1945] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:44:47.235Z] [runtime-status] [1945] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T20:44:47.236Z] [runtime-status] [1945] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:44:47.439Z] [runtime-status] [1945] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T20:44:47.439Z] [runtime-status] [1945] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T20:44:47.440Z] [runtime-status] [1945] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:44:47.441Z] [runtime-status] [1945] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T20:44:47.443Z] [runtime-status] [1945] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T20:44:47.443Z] [runtime-status] [1945] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T20:44:47.800Z] [runtime-status] [1945] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:1945) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1945) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1945) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:1945) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:1945) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:1945) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T20:44:47.802Z] [runtime-status] [1945] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a2c4fd9a25cc3977.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [1945] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a2c4fd9a25cc3977.sock"}}
[debug] [2023-11-17T20:44:47.835Z] [worker-us-central1-api-caf26d7f-322a-4086-ba9c-ba636bcacdfb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-caf26d7f-322a-4086-ba9c-ba636bcacdfb]: IDLE"}}
[debug] [2023-11-17T20:44:47.836Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T20:44:47.836Z] [worker-us-central1-api-caf26d7f-322a-4086-ba9c-ba636bcacdfb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-caf26d7f-322a-4086-ba9c-ba636bcacdfb]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T20:44:54.185Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6349.643946ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6349.643946ms"}}
[debug] [2023-11-17T20:44:54.186Z] [worker-us-central1-api-caf26d7f-322a-4086-ba9c-ba636bcacdfb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-caf26d7f-322a-4086-ba9c-ba636bcacdfb]: IDLE"}}
[debug] [2023-11-17T20:44:54.186Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T20:44:54.186Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T20:44:54.186Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
