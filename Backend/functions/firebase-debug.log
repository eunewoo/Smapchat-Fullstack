[debug] [2023-11-18T23:01:39.631Z] ----------------------------------------------------------------------
[debug] [2023-11-18T23:01:39.634Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --only functions,firestore,database,pubsub,storage,eventarc
[debug] [2023-11-18T23:01:39.634Z] CLI Version:   12.8.1
[debug] [2023-11-18T23:01:39.634Z] Platform:      darwin
[debug] [2023-11-18T23:01:39.635Z] Node Version:  v18.14.2
[debug] [2023-11-18T23:01:39.636Z] Time:          Sat Nov 18 2023 18:01:39 GMT-0500 (Eastern Standard Time)
[debug] [2023-11-18T23:01:39.636Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-11-18T23:01:39.843Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-11-18T23:01:39.844Z] > authorizing via signed-in user (markosbiniam@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] ⚠  firestore: Not starting the firestore emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"firestore"},"message":"Not starting the \u001b[1mfirestore\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  database: Not starting the database emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"database"},"message":"Not starting the \u001b[1mdatabase\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  pubsub: Not starting the pubsub emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"pubsub"},"message":"Not starting the \u001b[1mpubsub\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  storage: Not starting the storage emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"storage"},"message":"Not starting the \u001b[1mstorage\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  eventarc: Not starting the eventarc emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"eventarc"},"message":"Not starting the \u001b[1meventarc\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[debug] [2023-11-18T23:01:40.323Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-18T23:01:40.324Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-11-18T23:01:40.338Z] [hub] writing locator at /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/hub-smapchat-back.json
[debug] [2023-11-18T23:01:40.647Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-18T23:01:40.647Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-18T23:01:40.647Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-11-18T23:01:40.651Z] defaultcredentials: writing to file /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json
[debug] [2023-11-18T23:01:40.661Z] Setting GAC to /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json"}}
[debug] [2023-11-18T23:01:40.662Z] > refreshing access token with scopes: []
[debug] [2023-11-18T23:01:40.665Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-11-18T23:01:40.665Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-11-18T23:01:40.914Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-11-18T23:01:40.914Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-11-18T23:01:40.928Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig [none]
[debug] [2023-11-18T23:01:41.489Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig 200
[debug] [2023-11-18T23:01:41.489Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig {"projectId":"smapchat-back","storageBucket":"smapchat-back.appspot.com"}
[debug] [2023-11-18T23:01:41.513Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-11-18T23:01:41.514Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-11-18T23:01:41.514Z] Starting Emulator UI with command {"binary":"node","args":["/Users/binimark/.cache/firebase/emulators/ui-v1.11.7/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/binimark/.cache/firebase/emulators/ui-v1.11.7/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-11-18T23:01:41.777Z] Web / API server started at 127.0.0.1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\n"}}
[debug] [2023-11-18T23:01:41.777Z] Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/binimark/Desktop/Smapchat/Backend/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/binimark/Desktop/Smapchat/Backend/functions\" for Cloud Functions..."}}
[debug] [2023-11-18T23:01:42.030Z] Validating nodejs source
[debug] [2023-11-18T23:01:43.508Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:01:43.509Z] Building nodejs source
[debug] [2023-11-18T23:01:43.509Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:01:43.513Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:01:43.521Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8280

[error] (node:2575) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2575) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:01:44.566Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/smapchat-back/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/smapchat-back/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-11-18T23:02:00.139Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:02:00.139Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:02:00.140Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:02:00.139Z"],"workRunningCount":1}
[debug] [2023-11-18T23:02:00.140Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:02:00.143Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:02:00.144Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:02:00.148Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:02:00.149Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:02:01.281Z] [runtime-status] [2585] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:02:01.281Z] [runtime-status] [2585] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:02:01.282Z] [runtime-status] [2585] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:02:01.283Z] [runtime-status] [2585] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:02:01.497Z] [runtime-status] [2585] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:02:01.497Z] [runtime-status] [2585] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:02:01.498Z] [runtime-status] [2585] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:02:01.499Z] [runtime-status] [2585] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:02:01.505Z] [runtime-status] [2585] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:02:01.505Z] [runtime-status] [2585] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:02:01.903Z] [runtime-status] [2585] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:2585) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2585) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2585) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2585) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2585) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2585) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:02:01.905Z] [runtime-status] [2585] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_7685f1c5b68aafca.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2585] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_7685f1c5b68aafca.sock"}}
[debug] [2023-11-18T23:02:02.029Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE"}}
[debug] [2023-11-18T23:02:02.029Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:02:02.030Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: BUSY"}}
[debug] [2023-11-18T23:02:02.037Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.680908ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.680908ms"}}
[debug] [2023-11-18T23:02:02.038Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE"}}
[debug] [2023-11-18T23:02:02.038Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:02:02.038Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:02:02.038Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:02:02.043Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:02:02.043Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:02:02.043Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:02:02.043Z"],"workRunningCount":1}
[debug] [2023-11-18T23:02:02.044Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:02:02.047Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:02:02.047Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:02:02.047Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:02:02.047Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:251:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:251:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:251:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:02:09.652Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7604.935407ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7604.935407ms"}}
[debug] [2023-11-18T23:02:09.653Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE"}}
[debug] [2023-11-18T23:02:09.653Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:02:09.653Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:02:09.653Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:02:31.745Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:02:32.747Z] Validating nodejs source
[debug] [2023-11-18T23:02:37.142Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:02:37.142Z] Building nodejs source
[debug] [2023-11-18T23:02:37.142Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:02:37.144Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:02:37.147Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-18T23:02:37.330Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:02:37.330Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:02:37.331Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:02:37.330Z"],"workRunningCount":1}
[debug] [2023-11-18T23:02:37.331Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:02:37.334Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:02:37.334Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:02:37.335Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:02:37.335Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: BUSY"}}
[debug] [2023-11-18T23:02:37.346Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 11.803298ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 11.803298ms"}}
[debug] [2023-11-18T23:02:37.348Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE"}}
[debug] [2023-11-18T23:02:37.348Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:02:37.348Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:02:37.352Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:02:37.358Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:02:37.358Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:02:37.358Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:02:37.358Z"],"workRunningCount":1}
[debug] [2023-11-18T23:02:37.358Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:02:37.373Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:02:37.373Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:02:37.373Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:02:37.373Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: BUSY"}}
[info] Serving at port 8813

[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:251:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:251:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:251:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:02:38.628Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1263.2559959999999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1263.2559959999999ms"}}
[debug] [2023-11-18T23:02:38.637Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: IDLE"}}
[debug] [2023-11-18T23:02:38.637Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:02:38.637Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:02:38.637Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[error] (node:2601) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2601) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:02:39.814Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:02:46.839Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:02:47.845Z] Validating nodejs source
[debug] [2023-11-18T23:02:50.331Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:02:50.331Z] Building nodejs source
[debug] [2023-11-18T23:02:50.331Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:02:50.332Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:02:50.333Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:02:50.341Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-18T23:02:50.341Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: FINISHING"}}
[debug] [2023-11-18T23:02:50.374Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: exited"}}
[debug] [2023-11-18T23:02:50.374Z] [worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-65bd4eef-0bc4-41bf-b425-aa8f928e0b85]: FINISHED"}}
[info] Serving at port 8794

[error] (node:2614) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2614) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:02:52.325Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:03:23.310Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:03:24.312Z] Validating nodejs source
[debug] [2023-11-18T23:03:32.201Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:03:32.201Z] Building nodejs source
[debug] [2023-11-18T23:03:32.201Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:03:32.203Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:03:32.204Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8389

[error] (node:2625) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2625) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:03:36.370Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:03:52.121Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:03:52.121Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:03:52.121Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:03:52.121Z"],"workRunningCount":1}
[debug] [2023-11-18T23:03:52.121Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:03:52.126Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:03:52.126Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:03:52.127Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:03:52.129Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:03:52.129Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:03:54.743Z] [runtime-status] [2636] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:03:54.749Z] [runtime-status] [2636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:03:54.749Z] [runtime-status] [2636] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:03:54.749Z] [runtime-status] [2636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:03:54.961Z] [runtime-status] [2636] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:03:54.961Z] [runtime-status] [2636] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:03:54.962Z] [runtime-status] [2636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:03:54.963Z] [runtime-status] [2636] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:03:54.970Z] [runtime-status] [2636] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:03:54.970Z] [runtime-status] [2636] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:03:55.369Z] [runtime-status] [2636] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:2636) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2636) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2636) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2636) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2636) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2636) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:03:55.372Z] [runtime-status] [2636] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_457b73a8445c146b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2636] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_457b73a8445c146b.sock"}}
[debug] [2023-11-18T23:03:55.422Z] [worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: IDLE"}}
[debug] [2023-11-18T23:03:55.422Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:03:55.423Z] [worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: BUSY"}}
[debug] [2023-11-18T23:03:55.452Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 30.034175ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 30.034175ms"}}
[debug] [2023-11-18T23:03:55.453Z] [worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: IDLE"}}
[debug] [2023-11-18T23:03:55.453Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:03:55.453Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:03:55.454Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:03:55.459Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:03:55.459Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:03:55.459Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:03:55.459Z"],"workRunningCount":1}
[debug] [2023-11-18T23:03:55.459Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:03:55.462Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:03:55.462Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:03:55.462Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:03:55.463Z] [worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: {"user":"Created Bubble Map:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map:"}}
[debug] [2023-11-18T23:04:02.397Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6934.362854ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6934.362854ms"}}
[debug] [2023-11-18T23:04:02.397Z] [worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: IDLE"}}
[debug] [2023-11-18T23:04:02.397Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:04:02.397Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:04:02.397Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Map created: {"user":"Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Map created:"}}
[debug] [2023-11-18T23:04:35.667Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:04:36.667Z] Validating nodejs source
[debug] [2023-11-18T23:04:39.614Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:04:39.614Z] Building nodejs source
[debug] [2023-11-18T23:04:39.614Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:04:39.616Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:04:39.617Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8855

[error] (node:2651) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2651) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:04:41.938Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:04:51.957Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-18T23:04:51.957Z] [worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: FINISHING"}}
[debug] [2023-11-18T23:04:51.971Z] [worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: exited"}}
[debug] [2023-11-18T23:04:51.971Z] [worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-0da8d455-5513-4321-ba47-c517fd88ee9f]: FINISHED"}}
[debug] [2023-11-18T23:06:07.286Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:06:08.301Z] Validating nodejs source
[debug] [2023-11-18T23:06:11.483Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:06:11.483Z] Building nodejs source
[debug] [2023-11-18T23:06:11.483Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:06:11.485Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:06:11.485Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:06:11.486Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8487

[debug] [2023-11-18T23:06:12.486Z] Validating nodejs source
[debug] [2023-11-18T23:06:15.401Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:06:15.402Z] Building nodejs source
[debug] [2023-11-18T23:06:15.402Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:2691) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2691) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:06:15.403Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:06:15.404Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:06:15.405Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8614

[debug] [2023-11-18T23:06:16.814Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:237
        );
        ^

SyntaxError: Unexpected token ')'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-18T23:06:17.668Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ')'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-18T23:06:17.815Z] Validating nodejs source
[debug] [2023-11-18T23:06:21.471Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:06:21.471Z] Building nodejs source
[debug] [2023-11-18T23:06:21.471Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:06:21.473Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:06:21.474Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:06:21.476Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8386

[debug] [2023-11-18T23:06:22.476Z] Validating nodejs source
[debug] [2023-11-18T23:06:24.082Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:06:24.083Z] Building nodejs source
[debug] [2023-11-18T23:06:24.083Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:2705) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2705) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:06:24.086Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:06:24.087Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:06:24.088Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8279

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] (node:2712) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2712) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:06:26.004Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:06:39.993Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:06:39.992Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:06:39.993Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:06:39.992Z"],"workRunningCount":1}
[debug] [2023-11-18T23:06:39.993Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:06:39.997Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:06:39.997Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:06:39.997Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:06:39.999Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:06:40.000Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:06:42.444Z] [runtime-status] [2719] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:06:42.448Z] [runtime-status] [2719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:06:42.449Z] [runtime-status] [2719] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:06:42.449Z] [runtime-status] [2719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:06:42.724Z] [runtime-status] [2719] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:06:42.724Z] [runtime-status] [2719] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:06:42.725Z] [runtime-status] [2719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:06:42.726Z] [runtime-status] [2719] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:06:42.733Z] [runtime-status] [2719] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:06:42.733Z] [runtime-status] [2719] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:06:43.320Z] [runtime-status] [2719] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:2719) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2719) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2719) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2719) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2719) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2719) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:06:43.323Z] [runtime-status] [2719] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_fab070fe87bc298e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2719] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_fab070fe87bc298e.sock"}}
[debug] [2023-11-18T23:06:43.525Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE"}}
[debug] [2023-11-18T23:06:43.525Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:06:43.526Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: BUSY"}}
[debug] [2023-11-18T23:06:43.531Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5.833515ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.833515ms"}}
[debug] [2023-11-18T23:06:43.532Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE"}}
[debug] [2023-11-18T23:06:43.532Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:06:43.532Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:06:43.532Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:06:43.538Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:06:43.538Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:06:43.538Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:06:43.538Z"],"workRunningCount":1}
[debug] [2023-11-18T23:06:43.539Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:06:43.541Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:06:43.541Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:06:43.541Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:06:43.542Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:250:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:250:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:250:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:06:49.559Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6017.472905ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6017.472905ms"}}
[debug] [2023-11-18T23:06:49.560Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE"}}
[debug] [2023-11-18T23:06:49.560Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:06:49.560Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:06:49.560Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:07:32.674Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:07:32.674Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:07:32.674Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:07:32.674Z"],"workRunningCount":1}
[debug] [2023-11-18T23:07:32.674Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:07:32.687Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:07:32.687Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:07:32.687Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:07:32.688Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: BUSY"}}
[debug] [2023-11-18T23:07:32.698Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 10.72659ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 10.72659ms"}}
[debug] [2023-11-18T23:07:32.699Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE"}}
[debug] [2023-11-18T23:07:32.699Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:07:32.699Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:07:32.699Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:07:32.730Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:07:32.730Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:07:32.730Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:07:32.730Z"],"workRunningCount":1}
[debug] [2023-11-18T23:07:32.730Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:07:32.732Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:07:32.732Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:07:32.733Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:07:32.733Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: BUSY"}}
[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:250:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:250:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:250:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:07:34.116Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1383.510505ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1383.510505ms"}}
[debug] [2023-11-18T23:07:34.117Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: IDLE"}}
[debug] [2023-11-18T23:07:34.117Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:07:34.117Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:07:34.117Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:07:47.897Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:07:48.899Z] Validating nodejs source
[debug] [2023-11-18T23:07:50.943Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:07:50.943Z] Building nodejs source
[debug] [2023-11-18T23:07:50.943Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:07:50.945Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:07:50.947Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8972

[debug] [2023-11-18T23:07:51.642Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:07:52.643Z] Validating nodejs source
[debug] [2023-11-18T23:07:55.638Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:07:55.638Z] Building nodejs source
[debug] [2023-11-18T23:07:55.638Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:07:55.639Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:07:55.640Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:2750) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2750) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:07:55.646Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8769

[info] Connected to MongoDB Atlas

[error] (node:2754) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2754) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:07:58.274Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:08:05.688Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-18T23:08:05.688Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: FINISHING"}}
[debug] [2023-11-18T23:08:05.709Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: exited"}}
[debug] [2023-11-18T23:08:05.709Z] [worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150690a4-541a-4068-8270-6bf8b065c9f9]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:14:49.400Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:14:50.414Z] Validating nodejs source
[debug] [2023-11-18T23:14:53.096Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:14:53.097Z] Building nodejs source
[debug] [2023-11-18T23:14:53.097Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:14:53.101Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:14:53.105Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8111

[error] (node:2798) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2798) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:14:55.674Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:15:02.826Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:15:02.826Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:15:02.826Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:15:02.826Z"],"workRunningCount":1}
[debug] [2023-11-18T23:15:02.827Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:15:02.834Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:15:02.834Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:15:02.835Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:15:02.838Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:15:02.839Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:15:05.388Z] [runtime-status] [2803] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:15:05.389Z] [runtime-status] [2803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:15:05.389Z] [runtime-status] [2803] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:15:05.391Z] [runtime-status] [2803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:15:05.858Z] [runtime-status] [2803] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:15:05.858Z] [runtime-status] [2803] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:15:05.859Z] [runtime-status] [2803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:15:05.860Z] [runtime-status] [2803] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:15:05.865Z] [runtime-status] [2803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:15:05.865Z] [runtime-status] [2803] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:15:06.602Z] [runtime-status] [2803] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:2803) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2803) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2803) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2803) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2803) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2803) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:15:06.604Z] [runtime-status] [2803] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_b8dfca2f84d57053.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2803] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_b8dfca2f84d57053.sock"}}
[debug] [2023-11-18T23:15:06.735Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE"}}
[debug] [2023-11-18T23:15:06.736Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:15:06.736Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: BUSY"}}
[debug] [2023-11-18T23:15:06.742Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.228782ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.228782ms"}}
[debug] [2023-11-18T23:15:06.743Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE"}}
[debug] [2023-11-18T23:15:06.743Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:15:06.743Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:15:06.743Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:15:06.751Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:15:06.750Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:15:06.751Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:15:06.750Z"],"workRunningCount":1}
[debug] [2023-11-18T23:15:06.751Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:15:06.753Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:15:06.753Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:15:06.753Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:15:06.754Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Error: BubbleMapSchema.index is not a function {"user":"Error: BubbleMapSchema.index is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: BubbleMapSchema.index is not a function"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:15:13.508Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6754.095495ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6754.095495ms"}}
[debug] [2023-11-18T23:15:13.509Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE"}}
[debug] [2023-11-18T23:15:13.509Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:15:13.509Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:15:13.509Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:16:03.266Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:16:03.362Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:16:04.368Z] Validating nodejs source
[debug] [2023-11-18T23:16:08.109Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:16:08.109Z] Building nodejs source
[debug] [2023-11-18T23:16:08.110Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:16:08.112Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:16:08.116Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8294

[error] (node:2821) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2821) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:16:10.187Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:16:16.774Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:16:16.774Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:16:16.775Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:16:16.774Z"],"workRunningCount":1}
[debug] [2023-11-18T23:16:16.775Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:16:16.779Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:16:16.780Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:16:16.780Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:16:16.780Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: BUSY"}}
[debug] [2023-11-18T23:16:16.783Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.317ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.317ms"}}
[debug] [2023-11-18T23:16:16.784Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE"}}
[debug] [2023-11-18T23:16:16.784Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:16:16.784Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:16:16.785Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:16:16.791Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:16:16.791Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:16:16.791Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:16:16.791Z"],"workRunningCount":1}
[debug] [2023-11-18T23:16:16.791Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:16:16.794Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:16:16.794Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:16:16.794Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:16:16.795Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: BUSY"}}
[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Error: BubbleMapSchema.index is not a function {"user":"Error: BubbleMapSchema.index is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: BubbleMapSchema.index is not a function"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:16:17.624Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 829.345456ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 829.345456ms"}}
[debug] [2023-11-18T23:16:17.624Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: IDLE"}}
[debug] [2023-11-18T23:16:17.624Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:16:17.624Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:16:17.624Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:16:20.199Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-18T23:16:20.199Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: FINISHING"}}
[debug] [2023-11-18T23:16:20.211Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: exited"}}
[debug] [2023-11-18T23:16:20.212Z] [worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-425d3d19-b380-4243-b3d8-40f74de0f4fb]: FINISHED"}}
[debug] [2023-11-18T23:16:28.516Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:16:29.517Z] Validating nodejs source
[debug] [2023-11-18T23:16:31.965Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:16:31.966Z] Building nodejs source
[debug] [2023-11-18T23:16:31.966Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:16:31.981Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:16:31.982Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8057

[error] (node:2832) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2832) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:16:34.196Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:16:40.598Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:16:40.598Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:16:40.599Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:16:40.598Z"],"workRunningCount":1}
[debug] [2023-11-18T23:16:40.599Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:16:40.601Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:16:40.602Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:16:40.602Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:16:40.606Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:16:40.606Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:16:43.146Z] [runtime-status] [2840] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:16:43.147Z] [runtime-status] [2840] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:16:43.148Z] [runtime-status] [2840] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:16:43.150Z] [runtime-status] [2840] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:16:43.374Z] [runtime-status] [2840] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:16:43.375Z] [runtime-status] [2840] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:16:43.375Z] [runtime-status] [2840] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:16:43.376Z] [runtime-status] [2840] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:16:43.381Z] [runtime-status] [2840] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:16:43.381Z] [runtime-status] [2840] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:16:43.768Z] [runtime-status] [2840] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:2840) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2840) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2840) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2840) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2840) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2840) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:16:43.770Z] [runtime-status] [2840] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_db975363d90f3a00.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2840] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_db975363d90f3a00.sock"}}
[debug] [2023-11-18T23:16:44.069Z] [worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: IDLE"}}
[debug] [2023-11-18T23:16:44.069Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:16:44.069Z] [worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: BUSY"}}
[debug] [2023-11-18T23:16:44.077Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8.120064ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8.120064ms"}}
[debug] [2023-11-18T23:16:44.078Z] [worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: IDLE"}}
[debug] [2023-11-18T23:16:44.078Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:16:44.078Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:16:44.078Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:16:44.082Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:16:44.082Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:16:44.082Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:16:44.082Z"],"workRunningCount":1}
[debug] [2023-11-18T23:16:44.082Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:16:44.084Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:16:44.084Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:16:44.085Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:16:44.085Z] [worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: BUSY"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:16:44.399Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-18T23:16:44.399Z] [worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: FINISHING"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Error: BubbleMapModel is not defined {"user":"Error: BubbleMapModel is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: BubbleMapModel is not defined"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:16:53.311Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 9226.029806ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 9226.029806ms"}}
[debug] [2023-11-18T23:16:53.312Z] [worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: IDLE --> FINISHING"}}
[debug] [2023-11-18T23:16:53.312Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:16:53.312Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:16:53.312Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:16:53.329Z] [worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: exited"}}
[debug] [2023-11-18T23:16:53.329Z] [worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-379c8fa3-2aec-4742-a3b6-61a8a4741c10]: FINISHED"}}
[debug] [2023-11-18T23:16:55.618Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:16:56.620Z] Validating nodejs source
[debug] [2023-11-18T23:16:58.067Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:16:58.067Z] Building nodejs source
[debug] [2023-11-18T23:16:58.067Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:16:58.068Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:16:58.068Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:16:58.070Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8901

[debug] [2023-11-18T23:16:59.072Z] Validating nodejs source
[debug] [2023-11-18T23:17:02.540Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:17:02.540Z] Building nodejs source
[debug] [2023-11-18T23:17:02.540Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:17:02.541Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:17:02.541Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:17:02.542Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:2853) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2853) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:17:02.545Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8929

[debug] [2023-11-18T23:17:03.558Z] Validating nodejs source
[debug] [2023-11-18T23:17:05.248Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:17:05.248Z] Building nodejs source
[debug] [2023-11-18T23:17:05.248Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:17:05.249Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:17:05.250Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:2858) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2858) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:17:05.254Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:17:05.256Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:17:05.256Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:17:05.256Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:17:05.256Z"],"workRunningCount":1}
[debug] [2023-11-18T23:17:05.257Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:17:05.259Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:17:05.260Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:17:05.260Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:17:05.263Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:17:05.263Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] Connected to MongoDB Atlas

[info] Serving at port 8483

[error] (node:2863) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2863) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:17:07.344Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:17:08.167Z] [runtime-status] [2864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:17:08.169Z] [runtime-status] [2864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:17:08.170Z] [runtime-status] [2864] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:17:08.172Z] [runtime-status] [2864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:17:08.781Z] [runtime-status] [2864] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:17:08.798Z] [runtime-status] [2864] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:17:08.803Z] [runtime-status] [2864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:17:08.804Z] [runtime-status] [2864] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:17:08.811Z] [runtime-status] [2864] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:17:08.813Z] [runtime-status] [2864] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:17:09.462Z] [runtime-status] [2864] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:2864) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2864) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2864) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2864) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2864) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2864) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:17:09.465Z] [runtime-status] [2864] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a68958b265bbd632.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2864] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a68958b265bbd632.sock"}}
[debug] [2023-11-18T23:17:09.624Z] [worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: IDLE"}}
[debug] [2023-11-18T23:17:09.625Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:17:09.625Z] [worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: BUSY"}}
[debug] [2023-11-18T23:17:09.632Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.929332ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.929332ms"}}
[debug] [2023-11-18T23:17:09.632Z] [worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: IDLE"}}
[debug] [2023-11-18T23:17:09.632Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:17:09.632Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:17:09.632Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:17:09.636Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:17:09.636Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:17:09.637Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:17:09.636Z"],"workRunningCount":1}
[debug] [2023-11-18T23:17:09.637Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:17:09.639Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:17:09.639Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:17:09.639Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:17:09.640Z] [worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: BUSY"}}
[info] Connected to MongoDB Atlas

[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:17:12.586Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-18T23:17:12.586Z] [worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: FINISHING"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:17:16.379Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6739.273598ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6739.273598ms"}}
[debug] [2023-11-18T23:17:16.379Z] [worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: IDLE --> FINISHING"}}
[debug] [2023-11-18T23:17:16.379Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:17:16.379Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:17:16.379Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:17:16.394Z] [worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: exited"}}
[debug] [2023-11-18T23:17:16.394Z] [worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1160b299-b440-486b-b39f-a657195803ff]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:18:12.080Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:18:12.080Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:18:12.081Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:18:12.080Z"],"workRunningCount":1}
[debug] [2023-11-18T23:18:12.081Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:18:12.083Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:18:12.083Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:18:12.083Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:18:12.085Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:18:12.086Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:18:13.593Z] [runtime-status] [2878] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:18:13.595Z] [runtime-status] [2878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:18:13.596Z] [runtime-status] [2878] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:18:13.597Z] [runtime-status] [2878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:18:13.835Z] [runtime-status] [2878] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:18:13.835Z] [runtime-status] [2878] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:18:13.836Z] [runtime-status] [2878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:18:13.837Z] [runtime-status] [2878] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:18:13.841Z] [runtime-status] [2878] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:18:13.842Z] [runtime-status] [2878] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:18:14.293Z] [runtime-status] [2878] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:2878) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2878) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2878) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2878) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2878) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2878) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:18:14.295Z] [runtime-status] [2878] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a70604512a0e3db7.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2878] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a70604512a0e3db7.sock"}}
[debug] [2023-11-18T23:18:14.346Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE"}}
[debug] [2023-11-18T23:18:14.346Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:18:14.347Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: BUSY"}}
[debug] [2023-11-18T23:18:14.470Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 123.278799ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 123.278799ms"}}
[debug] [2023-11-18T23:18:14.471Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE"}}
[debug] [2023-11-18T23:18:14.471Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:18:14.471Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:18:14.471Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:18:14.475Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:18:14.475Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:18:14.475Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:18:14.475Z"],"workRunningCount":1}
[debug] [2023-11-18T23:18:14.475Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:18:14.477Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:18:14.477Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:18:14.477Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:18:14.478Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Created Bubble Map: {"user":"Created Bubble Map:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map:"}}
[debug] [2023-11-18T23:18:21.709Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7231.376117ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7231.376117ms"}}
[debug] [2023-11-18T23:18:21.709Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE"}}
[debug] [2023-11-18T23:18:21.709Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:18:21.709Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:18:21.709Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Map created: {"user":"Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Map created:"}}
[debug] [2023-11-18T23:18:59.946Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:18:59.946Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:18:59.946Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:18:59.946Z"],"workRunningCount":1}
[debug] [2023-11-18T23:18:59.946Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:18:59.950Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:18:59.950Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:18:59.950Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:18:59.951Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: BUSY"}}
[debug] [2023-11-18T23:18:59.955Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.993799ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.993799ms"}}
[debug] [2023-11-18T23:18:59.955Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE"}}
[debug] [2023-11-18T23:18:59.955Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:18:59.955Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:18:59.955Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:18:59.962Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:18:59.962Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:18:59.963Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:18:59.962Z"],"workRunningCount":1}
[debug] [2023-11-18T23:18:59.963Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:18:59.965Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:18:59.965Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:18:59.965Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:18:59.965Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: BUSY"}}
[info] >  -----> null {"user":"-----> null","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m -----> null"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:249:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:19:01.341Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1375.6274819999999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1375.6274819999999ms"}}
[debug] [2023-11-18T23:19:01.341Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: IDLE"}}
[debug] [2023-11-18T23:19:01.341Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:19:01.341Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:19:01.341Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:19:11.556Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:19:12.557Z] Validating nodejs source
[debug] [2023-11-18T23:19:14.902Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:19:14.903Z] Building nodejs source
[debug] [2023-11-18T23:19:14.903Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:19:14.904Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:19:14.905Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8922

[error] (node:2911) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2911) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:19:16.790Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:19:26.806Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-18T23:19:26.806Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: FINISHING"}}
[debug] [2023-11-18T23:19:26.817Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: exited"}}
[debug] [2023-11-18T23:19:26.817Z] [worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-757f65c2-7904-4cfb-99a7-ba4532f6283f]: FINISHED"}}
[debug] [2023-11-18T23:20:15.412Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[debug] [2023-11-18T23:20:16.413Z] Validating nodejs source
[debug] [2023-11-18T23:20:19.156Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:20:19.156Z] Building nodejs source
[debug] [2023-11-18T23:20:19.156Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:20:19.158Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:20:19.158Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8557

[error] (node:2927) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2927) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:20:21.339Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:20:27.275Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:20:27.275Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:20:27.275Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:20:27.275Z"],"workRunningCount":1}
[debug] [2023-11-18T23:20:27.275Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:20:27.279Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:20:27.279Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:20:27.279Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:20:27.283Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:20:27.283Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:20:29.942Z] [runtime-status] [2932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:20:29.942Z] [runtime-status] [2932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:20:29.942Z] [runtime-status] [2932] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:20:29.944Z] [runtime-status] [2932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:20:30.163Z] [runtime-status] [2932] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:20:30.163Z] [runtime-status] [2932] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:20:30.166Z] [runtime-status] [2932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:20:30.166Z] [runtime-status] [2932] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:20:30.176Z] [runtime-status] [2932] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:20:30.177Z] [runtime-status] [2932] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:20:30.603Z] [runtime-status] [2932] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:2932) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2932) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2932) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2932) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2932) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2932) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:20:30.605Z] [runtime-status] [2932] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_094e264f913edc94.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2932] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_094e264f913edc94.sock"}}
[debug] [2023-11-18T23:20:30.735Z] [worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: IDLE"}}
[debug] [2023-11-18T23:20:30.736Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:20:30.736Z] [worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: BUSY"}}
[debug] [2023-11-18T23:20:30.766Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 30.391262ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 30.391262ms"}}
[debug] [2023-11-18T23:20:30.767Z] [worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: IDLE"}}
[debug] [2023-11-18T23:20:30.768Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:20:30.769Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:20:30.769Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:20:30.784Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:20:30.784Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:20:30.785Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:20:30.784Z"],"workRunningCount":1}
[debug] [2023-11-18T23:20:30.785Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:20:30.788Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:20:30.789Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:20:30.789Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:20:30.790Z] [worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: BUSY"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:20:31.358Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-18T23:20:31.358Z] [worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: FINISHING"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:248:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:248:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:248:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:20:37.904Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7113.958974ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7113.958974ms"}}
[debug] [2023-11-18T23:20:37.904Z] [worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: IDLE --> FINISHING"}}
[debug] [2023-11-18T23:20:37.904Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:20:37.904Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:20:37.905Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:20:37.919Z] [worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: exited"}}
[debug] [2023-11-18T23:20:37.920Z] [worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-be4bc114-8f15-4d1c-b05b-3501ee481853]: FINISHED"}}
[debug] [2023-11-18T23:20:44.799Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[debug] [2023-11-18T23:20:45.801Z] Validating nodejs source
[debug] [2023-11-18T23:20:47.962Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:20:47.962Z] Building nodejs source
[debug] [2023-11-18T23:20:47.963Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:20:47.964Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:20:47.965Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8403

[error] (node:2944) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2944) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:20:49.397Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:29:18.231Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:29:19.245Z] Validating nodejs source
[debug] [2023-11-18T23:29:21.751Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:29:21.751Z] Building nodejs source
[debug] [2023-11-18T23:29:21.751Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:29:21.755Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:29:21.758Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8633

[error] (node:2979) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:2979) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:29:23.727Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:33:48.741Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:33:49.742Z] Validating nodejs source
[debug] [2023-11-18T23:33:53.476Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:33:53.476Z] Building nodejs source
[debug] [2023-11-18T23:33:53.476Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:33:53.478Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:33:53.480Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8811

[error] (node:2995) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:2995) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:33:55.471Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:33:57.823Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:33:57.823Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:33:57.823Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:33:57.823Z"],"workRunningCount":1}
[debug] [2023-11-18T23:33:57.823Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:33:57.831Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:33:57.831Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:33:57.832Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:33:57.836Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:33:57.836Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:34:00.422Z] [runtime-status] [2998] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:34:00.424Z] [runtime-status] [2998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:34:00.424Z] [runtime-status] [2998] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:34:00.426Z] [runtime-status] [2998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:34:00.973Z] [runtime-status] [2998] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:34:00.973Z] [runtime-status] [2998] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:34:00.974Z] [runtime-status] [2998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:34:00.976Z] [runtime-status] [2998] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:34:00.986Z] [runtime-status] [2998] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:34:00.986Z] [runtime-status] [2998] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:34:01.914Z] [runtime-status] [2998] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:2998) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2998) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2998) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:2998) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:2998) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:2998) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:34:01.917Z] [runtime-status] [2998] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_225709d0649fde52.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [2998] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_225709d0649fde52.sock"}}
[debug] [2023-11-18T23:34:02.049Z] [worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: IDLE"}}
[debug] [2023-11-18T23:34:02.049Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:34:02.049Z] [worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: BUSY"}}
[debug] [2023-11-18T23:34:02.057Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.468029ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.468029ms"}}
[debug] [2023-11-18T23:34:02.057Z] [worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: IDLE"}}
[debug] [2023-11-18T23:34:02.057Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:34:02.057Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:34:02.057Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:34:02.062Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:34:02.062Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:34:02.063Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:34:02.062Z"],"workRunningCount":1}
[debug] [2023-11-18T23:34:02.063Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:34:02.065Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:34:02.065Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:34:02.065Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:34:02.066Z] [worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:34:05.489Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-18T23:34:05.489Z] [worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: FINISHING"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:248:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:248:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:248:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:34:09.007Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6941.494392ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6941.494392ms"}}
[debug] [2023-11-18T23:34:09.007Z] [worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: IDLE --> FINISHING"}}
[debug] [2023-11-18T23:34:09.008Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:34:09.008Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:34:09.008Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:34:09.020Z] [worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: exited"}}
[debug] [2023-11-18T23:34:09.020Z] [worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-175ec16d-8138-444a-99c4-8807b2a7fdca]: FINISHED"}}
[debug] [2023-11-18T23:34:26.976Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:34:27.978Z] Validating nodejs source
[debug] [2023-11-18T23:34:31.417Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:34:31.417Z] Building nodejs source
[debug] [2023-11-18T23:34:31.417Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:34:31.418Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:34:31.420Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8233

[error] (node:3022) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3022) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:34:34.449Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:43:42.442Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:43:42.442Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:43:42.445Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:43:42.442Z"],"workRunningCount":1}
[debug] [2023-11-18T23:43:42.446Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:43:42.459Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:43:42.460Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:43:42.460Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:43:42.468Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:43:42.468Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:43:45.130Z] [runtime-status] [3103] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:43:45.132Z] [runtime-status] [3103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:43:45.133Z] [runtime-status] [3103] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:43:45.134Z] [runtime-status] [3103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:43:45.584Z] [runtime-status] [3103] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:43:45.584Z] [runtime-status] [3103] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:43:45.585Z] [runtime-status] [3103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:43:45.586Z] [runtime-status] [3103] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:43:45.591Z] [runtime-status] [3103] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:43:45.591Z] [runtime-status] [3103] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:43:46.401Z] [runtime-status] [3103] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3103) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3103) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3103) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3103) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3103) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3103) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:43:46.404Z] [runtime-status] [3103] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_2ab14a5cf3938797.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3103] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_2ab14a5cf3938797.sock"}}
[debug] [2023-11-18T23:43:46.563Z] [worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: IDLE"}}
[debug] [2023-11-18T23:43:46.563Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:43:46.564Z] [worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: BUSY"}}
[debug] [2023-11-18T23:43:46.584Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 21.625538ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 21.625538ms"}}
[debug] [2023-11-18T23:43:46.586Z] [worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: IDLE"}}
[debug] [2023-11-18T23:43:46.586Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:43:46.586Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:43:46.586Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:43:46.592Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:43:46.592Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:43:46.592Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:43:46.592Z"],"workRunningCount":1}
[debug] [2023-11-18T23:43:46.592Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:43:46.595Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:43:46.595Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:43:46.595Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:43:46.596Z] [worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:247:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:247:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:247:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-18T23:43:52.376Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5780.699273ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5780.699273ms"}}
[debug] [2023-11-18T23:43:52.376Z] [worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: IDLE"}}
[debug] [2023-11-18T23:43:52.377Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:43:52.377Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:43:52.377Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:49:40.004Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:49:41.021Z] Validating nodejs source
[debug] [2023-11-18T23:49:44.013Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:49:44.013Z] Building nodejs source
[debug] [2023-11-18T23:49:44.014Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:49:44.015Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:49:44.016Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:49:44.017Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8410

[debug] [2023-11-18T23:49:45.023Z] Validating nodejs source
[debug] [2023-11-18T23:49:48.473Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:49:48.474Z] Building nodejs source
[debug] [2023-11-18T23:49:48.474Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:49:48.476Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:49:48.476Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:49:48.477Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3147) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3147) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:49:48.480Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8044

[debug] [2023-11-18T23:49:49.490Z] Validating nodejs source
[debug] [2023-11-18T23:49:52.190Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:49:52.190Z] Building nodejs source
[debug] [2023-11-18T23:49:52.191Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:3154) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3154) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:49:52.192Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:49:52.193Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:49:52.194Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-18T23:49:52.682Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:49:52.739Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8318

[debug] [2023-11-18T23:49:53.741Z] Validating nodejs source
[debug] [2023-11-18T23:49:55.662Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:49:55.662Z] Building nodejs source
[debug] [2023-11-18T23:49:55.662Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:3161) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3161) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:49:55.664Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:49:55.669Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:49:55.670Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8298

[error] (node:3166) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3166) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:49:57.092Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:49:57.336Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:49:58.345Z] Validating nodejs source
[debug] [2023-11-18T23:49:59.887Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:49:59.887Z] Building nodejs source
[debug] [2023-11-18T23:49:59.887Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:49:59.888Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:49:59.889Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:49:59.890Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:49:59.900Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-18T23:49:59.900Z] [worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: FINISHING"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:49:59.931Z] [worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: exited"}}
[debug] [2023-11-18T23:49:59.931Z] [worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-150b1bf0-d98d-4fbd-8b34-bdd023d3f23d]: FINISHED"}}
[info] Serving at port 8462

[debug] [2023-11-18T23:50:00.890Z] Validating nodejs source
[debug] [2023-11-18T23:50:02.782Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:50:02.782Z] Building nodejs source
[debug] [2023-11-18T23:50:02.783Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:50:02.785Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:50:02.787Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:50:02.791Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3172) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3172) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:50:02.796Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8995

[debug] [2023-11-18T23:50:03.786Z] Validating nodejs source
[debug] [2023-11-18T23:50:05.138Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:50:05.138Z] Building nodejs source
[debug] [2023-11-18T23:50:05.138Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:50:05.139Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:50:05.139Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:235
        const createdBubbleMap = BubbleMapSchema.create(mapData)
        ^^^^^

SyntaxError: Unexpected token 'const'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-18T23:50:05.143Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'const'
[info] Connected to MongoDB Atlas

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8937

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:50:06.118Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:235
        const createdBubbleMap = BubbleMapSchema.create(mapData)
        ^^^^^

SyntaxError: Unexpected token 'const'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-18T23:50:06.423Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'const'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:50:07.119Z] Validating nodejs source
[debug] [2023-11-18T23:50:08.561Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:50:08.561Z] Building nodejs source
[debug] [2023-11-18T23:50:08.562Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:50:08.562Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:50:08.563Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:50:08.563Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8185

[debug] [2023-11-18T23:50:09.565Z] Validating nodejs source
[debug] [2023-11-18T23:50:11.122Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:50:11.122Z] Building nodejs source
[debug] [2023-11-18T23:50:11.122Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:50:11.123Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:50:11.124Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:50:11.125Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:235
        const createdBubbleMap = BubbleMapSchema.create(mapData)
        ^^^^^

SyntaxError: Unexpected token 'const'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-18T23:50:11.128Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'const'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8476

[debug] [2023-11-18T23:50:12.126Z] Validating nodejs source
[debug] [2023-11-18T23:50:14.429Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:50:14.430Z] Building nodejs source
[debug] [2023-11-18T23:50:14.430Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:3192) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3192) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:50:14.432Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:50:14.439Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:50:14.440Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8343

[error] (node:3197) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3197) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:50:15.998Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:50:16.785Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:50:17.788Z] Validating nodejs source
[debug] [2023-11-18T23:50:19.100Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:50:19.101Z] Building nodejs source
[debug] [2023-11-18T23:50:19.101Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:50:19.104Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:50:19.105Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-18T23:50:19.144Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8074

[debug] [2023-11-18T23:50:20.145Z] Validating nodejs source
[debug] [2023-11-18T23:50:23.608Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:50:23.608Z] Building nodejs source
[debug] [2023-11-18T23:50:23.608Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:50:23.609Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:50:23.613Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:50:23.614Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3204) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3204) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:50:23.623Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8244

[debug] [2023-11-18T23:50:24.615Z] Validating nodejs source
[debug] [2023-11-18T23:50:26.905Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:50:26.905Z] Building nodejs source
[debug] [2023-11-18T23:50:26.905Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:50:26.906Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:50:26.907Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[error] (node:3211) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3211) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:50:26.911Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8072

[debug] [2023-11-18T23:50:28.826Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:3215) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3215) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:50:28.888Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:50:28.926Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:50:29.930Z] Validating nodejs source
[debug] [2023-11-18T23:50:33.355Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:50:33.355Z] Building nodejs source
[debug] [2023-11-18T23:50:33.356Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:50:33.359Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:50:33.360Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8135

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] (node:3222) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3222) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:50:37.490Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:50:53.679Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:50:53.679Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:50:53.680Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:50:53.679Z"],"workRunningCount":1}
[debug] [2023-11-18T23:50:53.680Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:50:53.691Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:50:53.691Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:50:53.691Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:50:53.695Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:50:53.696Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:50:56.415Z] [runtime-status] [3233] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:50:56.415Z] [runtime-status] [3233] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:50:56.415Z] [runtime-status] [3233] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:50:56.415Z] [runtime-status] [3233] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:50:56.640Z] [runtime-status] [3233] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:50:56.641Z] [runtime-status] [3233] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:50:56.642Z] [runtime-status] [3233] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:50:56.643Z] [runtime-status] [3233] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:50:56.651Z] [runtime-status] [3233] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:50:56.651Z] [runtime-status] [3233] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:50:57.081Z] [runtime-status] [3233] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3233) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3233) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3233) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3233) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3233) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3233) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:50:57.084Z] [runtime-status] [3233] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_0a26a15abcdc17a8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3233] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_0a26a15abcdc17a8.sock"}}
[debug] [2023-11-18T23:50:57.173Z] [worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: IDLE"}}
[debug] [2023-11-18T23:50:57.174Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:50:57.174Z] [worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: BUSY"}}
[debug] [2023-11-18T23:50:57.185Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 11.575612ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 11.575612ms"}}
[debug] [2023-11-18T23:50:57.186Z] [worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: IDLE"}}
[debug] [2023-11-18T23:50:57.186Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:50:57.186Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:50:57.186Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:50:57.195Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:50:57.195Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:50:57.195Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:50:57.195Z"],"workRunningCount":1}
[debug] [2023-11-18T23:50:57.195Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:50:57.197Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:50:57.198Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:50:57.198Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:50:57.199Z] [worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: {"user":"Created Bubble Map:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map:"}}
[debug] [2023-11-18T23:51:09.943Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 12744.405777ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 12744.405777ms"}}
[debug] [2023-11-18T23:51:09.943Z] [worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: IDLE"}}
[debug] [2023-11-18T23:51:09.943Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:51:09.943Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:51:09.943Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Error creating Bubble map: MongoServerError: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error creating Bubble map: MongoServerError: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error creating Bubble map: MongoServerError: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19) {"user":"    at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) { {"user":"    at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) {"}}
[info] >    index: 0, {"user":"  index: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   index: 0,"}}
[info] >    code: 11000, {"user":"  code: 11000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 11000,"}}
[info] >    keyPattern: { mapID: 1 }, {"user":"  keyPattern: { mapID: 1 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   keyPattern: { mapID: 1 },"}}
[info] >    keyValue: { mapID: null }, {"user":"  keyValue: { mapID: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   keyValue: { mapID: null },"}}
[info] >    [Symbol(errorLabels)]: Set(0) {} {"user":"  [Symbol(errorLabels)]: Set(0) {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   [Symbol(errorLabels)]: Set(0) {}"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Map created: {"user":"Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Map created:"}}
[debug] [2023-11-18T23:54:40.872Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:54:41.873Z] Validating nodejs source
[debug] [2023-11-18T23:54:44.987Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:54:44.987Z] Building nodejs source
[debug] [2023-11-18T23:54:44.987Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:54:44.989Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:54:44.989Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:54:44.990Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8339

[debug] [2023-11-18T23:54:46.012Z] Validating nodejs source
[debug] [2023-11-18T23:54:48.377Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:54:48.378Z] Building nodejs source
[debug] [2023-11-18T23:54:48.378Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:54:48.379Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:54:48.380Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:242
            });
            ^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-18T23:54:48.385Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-18T23:54:48.738Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:54:48.829Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8953

[debug] [2023-11-18T23:54:49.831Z] Validating nodejs source
[debug] [2023-11-18T23:54:52.515Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:54:52.515Z] Building nodejs source
[debug] [2023-11-18T23:54:52.515Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:54:52.516Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:54:52.516Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:54:52.517Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3262) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3262) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:54:52.520Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8597

[debug] [2023-11-18T23:54:53.517Z] Validating nodejs source
[debug] [2023-11-18T23:54:55.633Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:54:55.633Z] Building nodejs source
[debug] [2023-11-18T23:54:55.633Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[error] (node:3269) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3269) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:54:55.635Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:54:55.636Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:54:55.637Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8419

[debug] [2023-11-18T23:54:57.277Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:3271) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3271) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:54:57.539Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:54:58.282Z] Validating nodejs source
[debug] [2023-11-18T23:55:00.318Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:55:00.318Z] Building nodejs source
[debug] [2023-11-18T23:55:00.318Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:55:00.320Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:55:00.321Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8312

[info] Connected to MongoDB Atlas

[error] (node:3278) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3278) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:55:02.499Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:55:02.541Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-18T23:55:02.541Z] [worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: FINISHING"}}
[debug] [2023-11-18T23:55:02.559Z] [worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: exited"}}
[debug] [2023-11-18T23:55:02.560Z] [worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f8b9d546-80ed-491f-838f-7ddfdc9f96b5]: FINISHED"}}
[debug] [2023-11-18T23:55:03.461Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:55:04.465Z] Validating nodejs source
[debug] [2023-11-18T23:55:06.150Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:55:06.151Z] Building nodejs source
[debug] [2023-11-18T23:55:06.151Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:55:06.153Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:55:06.154Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:55:06.202Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8412

[debug] [2023-11-18T23:55:07.203Z] Validating nodejs source
[debug] [2023-11-18T23:55:08.999Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:55:08.999Z] Building nodejs source
[debug] [2023-11-18T23:55:08.999Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:55:09.000Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:3290) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3290) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:55:09.000Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:55:09.003Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:55:09.007Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8916

[debug] [2023-11-18T23:55:10.001Z] Validating nodejs source
[debug] [2023-11-18T23:55:12.584Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:55:12.584Z] Building nodejs source
[debug] [2023-11-18T23:55:12.584Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:55:12.586Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:55:12.587Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:55:12.592Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[error] (node:3294) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3294) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:55:12.597Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8914

[debug] [2023-11-18T23:55:13.590Z] Validating nodejs source
[debug] [2023-11-18T23:55:16.826Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:55:16.826Z] Building nodejs source
[debug] [2023-11-18T23:55:16.827Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:55:16.828Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:55:16.829Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3304) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3304) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:55:16.833Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8563

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] (node:3313) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3313) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:55:19.706Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:55:38.955Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:55:38.955Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:55:38.955Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:55:38.955Z"],"workRunningCount":1}
[debug] [2023-11-18T23:55:38.956Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:55:38.961Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:55:38.961Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:55:38.961Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:55:38.964Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:55:38.964Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:55:41.457Z] [runtime-status] [3322] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:55:41.459Z] [runtime-status] [3322] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:55:41.459Z] [runtime-status] [3322] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:55:41.461Z] [runtime-status] [3322] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:55:42.100Z] [runtime-status] [3322] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:55:42.100Z] [runtime-status] [3322] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:55:42.101Z] [runtime-status] [3322] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:55:42.102Z] [runtime-status] [3322] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:55:42.107Z] [runtime-status] [3322] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:55:42.108Z] [runtime-status] [3322] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:55:43.109Z] [runtime-status] [3322] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3322) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3322) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3322) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3322) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3322) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3322) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:55:43.112Z] [runtime-status] [3322] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_49665d5acad9fc11.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3322] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_49665d5acad9fc11.sock"}}
[debug] [2023-11-18T23:55:43.140Z] [worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: IDLE"}}
[debug] [2023-11-18T23:55:43.140Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:55:43.141Z] [worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: BUSY"}}
[debug] [2023-11-18T23:55:43.231Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 90.136267ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 90.136267ms"}}
[debug] [2023-11-18T23:55:43.231Z] [worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: IDLE"}}
[debug] [2023-11-18T23:55:43.231Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:55:43.231Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:55:43.231Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:55:43.236Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:55:43.236Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:55:43.236Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:55:43.236Z"],"workRunningCount":1}
[debug] [2023-11-18T23:55:43.236Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:55:43.238Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:55:43.239Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:55:43.239Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:55:43.239Z] [worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: {"user":"Created Bubble Map:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map:"}}
[debug] [2023-11-18T23:55:49.828Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6588.7546ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6588.7546ms"}}
[debug] [2023-11-18T23:55:49.828Z] [worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: IDLE"}}
[debug] [2023-11-18T23:55:49.828Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:55:49.828Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:55:49.829Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Map created: {"user":"Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Map created:"}}
[info] >  Error creating Bubble map: Promise { <pending> } {"user":"Error creating Bubble map: Promise { <pending> }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error creating Bubble map: Promise { <pending> }"}}
[debug] [2023-11-18T23:56:03.955Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:56:04.958Z] Validating nodejs source
[debug] [2023-11-18T23:56:07.146Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:56:07.146Z] Building nodejs source
[debug] [2023-11-18T23:56:07.146Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:56:07.149Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:56:07.150Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8231

[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:240
              console.error("Error creating Bubble map:", await BubbleMapSchema.collection.getIndexes());
                                                          ^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-18T23:56:10.139Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-18T23:56:23.869Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:56:24.870Z] Validating nodejs source
[debug] [2023-11-18T23:56:27.515Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:56:27.515Z] Building nodejs source
[debug] [2023-11-18T23:56:27.515Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:56:27.517Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:56:27.518Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8873

[debug] [2023-11-18T23:56:29.455Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:3351) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3351) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:56:29.538Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:56:30.456Z] Validating nodejs source
[debug] [2023-11-18T23:56:32.344Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:56:32.344Z] Building nodejs source
[debug] [2023-11-18T23:56:32.344Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:56:32.345Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:56:32.346Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[info] Serving at port 8680

[error] (node:3359) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3359) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:56:34.007Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:56:37.411Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:56:38.414Z] Validating nodejs source
[debug] [2023-11-18T23:56:39.882Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:56:39.882Z] Building nodejs source
[debug] [2023-11-18T23:56:39.883Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:56:39.886Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:56:39.888Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:56:39.896Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-18T23:56:39.896Z] [worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: FINISHING"}}
[debug] [2023-11-18T23:56:39.918Z] [worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: exited"}}
[debug] [2023-11-18T23:56:39.918Z] [worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42a3a21d-425d-41d6-8b70-d569faa74771]: FINISHED"}}
[debug] [2023-11-18T23:56:39.989Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8292

[debug] [2023-11-18T23:56:40.990Z] Validating nodejs source
[debug] [2023-11-18T23:56:43.059Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:56:43.059Z] Building nodejs source
[debug] [2023-11-18T23:56:43.059Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:56:43.061Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:56:43.062Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3374) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3374) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:56:43.066Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:56:43.699Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8401

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:56:44.728Z] Validating nodejs source
[debug] [2023-11-18T23:56:46.260Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:56:46.260Z] Building nodejs source
[debug] [2023-11-18T23:56:46.260Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:56:46.261Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:56:46.261Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:56:46.262Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[error] (node:3376) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3376) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:56:46.266Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8830

[debug] [2023-11-18T23:56:47.262Z] Validating nodejs source
[debug] [2023-11-18T23:56:48.833Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:56:48.834Z] Building nodejs source
[debug] [2023-11-18T23:56:48.834Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:56:48.835Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:56:48.835Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:56:48.836Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:240
              var c = await BubbleMapSchema.collection.getIndexes();
                      ^^^^^

SyntaxError: await is only valid in async functions and the top level bodies of modules
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-18T23:56:48.839Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: await is only valid in async functions and the top level bodies of modules
[info] Connected to MongoDB Atlas

[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8008

[debug] [2023-11-18T23:56:49.843Z] Validating nodejs source
[debug] [2023-11-18T23:56:51.997Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:56:51.997Z] Building nodejs source
[debug] [2023-11-18T23:56:51.997Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:56:52.000Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:56:52.001Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:240
              var c = await BubbleMapSchema.collection.getIndexes();
                      ^^^^^

SyntaxError: await is only valid in async functions and the top level bodies of modules
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-18T23:56:52.005Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: await is only valid in async functions and the top level bodies of modules
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8263

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:240
              var c = await BubbleMapSchema.collection.getIndexes();
                      ^^^^^

SyntaxError: await is only valid in async functions and the top level bodies of modules
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-18T23:56:53.622Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: await is only valid in async functions and the top level bodies of modules
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:57:07.225Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:57:08.227Z] Validating nodejs source
[debug] [2023-11-18T23:57:10.038Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:57:10.038Z] Building nodejs source
[debug] [2023-11-18T23:57:10.038Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:57:10.039Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:57:10.040Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:57:10.041Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8459

[debug] [2023-11-18T23:57:11.041Z] Validating nodejs source
[debug] [2023-11-18T23:57:12.536Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:57:12.537Z] Building nodejs source
[debug] [2023-11-18T23:57:12.537Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:57:12.538Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:57:12.539Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3414) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3414) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:57:12.541Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8530

[debug] [2023-11-18T23:57:13.982Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:3418) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3418) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:57:14.666Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:57:14.984Z] Validating nodejs source
[debug] [2023-11-18T23:57:16.249Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:57:16.249Z] Building nodejs source
[debug] [2023-11-18T23:57:16.249Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:57:16.251Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:57:16.252Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8598

[info] Connected to MongoDB Atlas

[error] (node:3427) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3427) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:57:17.871Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:57:20.446Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:57:21.447Z] Validating nodejs source
[debug] [2023-11-18T23:57:24.036Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:57:24.037Z] Building nodejs source
[debug] [2023-11-18T23:57:24.037Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:57:24.038Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:57:24.039Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8302

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] (node:3437) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3437) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:57:25.559Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:57:32.302Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:57:32.302Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:57:32.303Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:57:32.302Z"],"workRunningCount":1}
[debug] [2023-11-18T23:57:32.303Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:57:32.306Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:57:32.306Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:57:32.306Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:57:32.308Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:57:32.308Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-18T23:57:34.854Z] [runtime-status] [3442] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:57:34.854Z] [runtime-status] [3442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:57:34.854Z] [runtime-status] [3442] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:57:34.854Z] [runtime-status] [3442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:57:35.056Z] [runtime-status] [3442] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:57:35.056Z] [runtime-status] [3442] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:57:35.057Z] [runtime-status] [3442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:57:35.058Z] [runtime-status] [3442] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:57:35.065Z] [runtime-status] [3442] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:57:35.065Z] [runtime-status] [3442] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:57:35.441Z] [runtime-status] [3442] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3442) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3442) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3442) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3442) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3442) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3442) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:57:35.444Z] [runtime-status] [3442] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_1f7069b7a73be95e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3442] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_1f7069b7a73be95e.sock"}}
[debug] [2023-11-18T23:57:35.480Z] [worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: IDLE"}}
[debug] [2023-11-18T23:57:35.480Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:57:35.480Z] [worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: BUSY"}}
[debug] [2023-11-18T23:57:35.576Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 96.186752ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 96.186752ms"}}
[debug] [2023-11-18T23:57:35.577Z] [worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: IDLE"}}
[debug] [2023-11-18T23:57:35.577Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:57:35.577Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:57:35.577Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:57:35.581Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:57:35.581Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:57:35.581Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:57:35.581Z"],"workRunningCount":1}
[debug] [2023-11-18T23:57:35.581Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:57:35.583Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:57:35.584Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:57:35.584Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:57:35.584Z] [worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: BUSY"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:57:35.696Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-18T23:57:35.696Z] [worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: FINISHING"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    _id_: [ [ '_id', 1 ] ], {"user":"  _id_: [ [ '_id', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id_: [ [ '_id', 1 ] ],"}}
[info] >    mapID_1: [ [ 'mapID', 1 ] ], {"user":"  mapID_1: [ [ 'mapID', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   mapID_1: [ [ 'mapID', 1 ] ],"}}
[info] >    MapID_1: [ [ 'MapID', 1 ] ] {"user":"  MapID_1: [ [ 'MapID', 1 ] ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID_1: [ [ 'MapID', 1 ] ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[info] >  Created Bubble Map: {"user":"Created Bubble Map:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map:"}}
[debug] [2023-11-18T23:57:42.790Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7206.612763ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7206.612763ms"}}
[debug] [2023-11-18T23:57:42.791Z] [worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: IDLE --> FINISHING"}}
[debug] [2023-11-18T23:57:42.791Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:57:42.791Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:57:42.791Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:57:42.938Z] [worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: exited"}}
[debug] [2023-11-18T23:57:42.939Z] [worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-20fe862b-3db4-4fae-9d6e-f46661c33f2b]: FINISHED"}}
[debug] [2023-11-18T23:58:40.793Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:58:41.800Z] Validating nodejs source
[debug] [2023-11-18T23:58:44.156Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:58:44.156Z] Building nodejs source
[debug] [2023-11-18T23:58:44.156Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:58:44.158Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:58:44.159Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8164

[error] (node:3454) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3454) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:58:45.723Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:58:46.474Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:58:47.484Z] Validating nodejs source
[debug] [2023-11-18T23:58:48.974Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:58:48.974Z] Building nodejs source
[debug] [2023-11-18T23:58:48.974Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:58:48.975Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:58:48.976Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[info] Serving at port 8157

[debug] [2023-11-18T23:58:49.798Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:58:50.799Z] Validating nodejs source
[debug] [2023-11-18T23:58:53.258Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:58:53.258Z] Building nodejs source
[debug] [2023-11-18T23:58:53.258Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:58:53.259Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:58:53.259Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:58:53.260Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3463) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3463) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:58:53.263Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8986

[debug] [2023-11-18T23:58:54.260Z] Validating nodejs source
[debug] [2023-11-18T23:58:56.764Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:58:56.765Z] Building nodejs source
[debug] [2023-11-18T23:58:56.765Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[error] (node:3473) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3473) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:58:56.767Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:58:56.768Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:58:56.768Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8011

[error] (node:3478) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3478) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:58:58.302Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:59:04.112Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:59:05.115Z] Validating nodejs source
[debug] [2023-11-18T23:59:07.526Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:59:07.526Z] Building nodejs source
[debug] [2023-11-18T23:59:07.527Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:59:07.538Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:59:07.540Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8696

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] (node:3487) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3487) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:59:09.242Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:59:15.927Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:59:15.927Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:59:15.927Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:59:15.927Z"],"workRunningCount":1}
[debug] [2023-11-18T23:59:15.927Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:59:15.932Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:59:15.933Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:59:15.933Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:59:15.935Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:59:15.935Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:59:18.412Z] [runtime-status] [3492] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:59:18.413Z] [runtime-status] [3492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:59:18.413Z] [runtime-status] [3492] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:59:18.414Z] [runtime-status] [3492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:59:18.623Z] [runtime-status] [3492] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:59:18.623Z] [runtime-status] [3492] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:59:18.624Z] [runtime-status] [3492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:59:18.625Z] [runtime-status] [3492] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:59:18.630Z] [runtime-status] [3492] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:59:18.630Z] [runtime-status] [3492] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:59:19.016Z] [runtime-status] [3492] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3492) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3492) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3492) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3492) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3492) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3492) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:59:19.019Z] [runtime-status] [3492] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_0a4f94a7a1368f06.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3492] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_0a4f94a7a1368f06.sock"}}
[debug] [2023-11-18T23:59:19.134Z] [worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: IDLE"}}
[debug] [2023-11-18T23:59:19.134Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:59:19.135Z] [worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: BUSY"}}
[debug] [2023-11-18T23:59:19.140Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5.709659ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.709659ms"}}
[debug] [2023-11-18T23:59:19.141Z] [worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: IDLE"}}
[debug] [2023-11-18T23:59:19.141Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:59:19.142Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:59:19.142Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:59:19.148Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:59:19.148Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:59:19.148Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:59:19.148Z"],"workRunningCount":1}
[debug] [2023-11-18T23:59:19.148Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:59:19.150Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:59:19.150Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:59:19.150Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:59:19.151Z] [worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: BUSY"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:59:19.264Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-18T23:59:19.264Z] [worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: FINISHING"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  { _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] } {"user":"{ _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m { _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] }"}}
[debug] [2023-11-18T23:59:27.321Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8170.641638ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8170.641638ms"}}
[debug] [2023-11-18T23:59:27.322Z] [worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: IDLE --> FINISHING"}}
[debug] [2023-11-18T23:59:27.322Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:59:27.322Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:59:27.322Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:59:27.335Z] [worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: exited"}}
[debug] [2023-11-18T23:59:27.335Z] [worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-64ade1fc-3b88-4b31-aba6-a5f05990cb40]: FINISHED"}}
[debug] [2023-11-18T23:59:39.833Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:59:40.835Z] Validating nodejs source
[debug] [2023-11-18T23:59:42.033Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:59:42.033Z] Building nodejs source
[debug] [2023-11-18T23:59:42.033Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:59:42.034Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-18T23:59:42.035Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:59:42.035Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8589

[debug] [2023-11-18T23:59:43.036Z] Validating nodejs source
[debug] [2023-11-18T23:59:45.529Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:59:45.529Z] Building nodejs source
[debug] [2023-11-18T23:59:45.529Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:59:45.530Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:3503) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3503) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:59:45.530Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:59:45.538Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:59:45.539Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8730

[debug] [2023-11-18T23:59:46.534Z] Validating nodejs source
[debug] [2023-11-18T23:59:49.394Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-18T23:59:49.395Z] Building nodejs source
[debug] [2023-11-18T23:59:49.395Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[error] (node:3507) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3507) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:59:49.397Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-18T23:59:49.398Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-18T23:59:49.399Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8971

[error] (node:3514) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3514) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-18T23:59:50.711Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-18T23:59:52.657Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:59:52.657Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:59:52.657Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:59:52.657Z"],"workRunningCount":1}
[debug] [2023-11-18T23:59:52.657Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:59:52.660Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:59:52.660Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:59:52.660Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-18T23:59:52.666Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-18T23:59:52.666Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:59:56.258Z] [runtime-status] [3515] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:59:56.258Z] [runtime-status] [3515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:59:56.258Z] [runtime-status] [3515] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-18T23:59:56.258Z] [runtime-status] [3515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:59:57.434Z] [runtime-status] [3515] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-18T23:59:57.435Z] [runtime-status] [3515] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-18T23:59:57.436Z] [runtime-status] [3515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:59:57.438Z] [runtime-status] [3515] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-18T23:59:57.463Z] [runtime-status] [3515] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-18T23:59:57.463Z] [runtime-status] [3515] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-18T23:59:58.412Z] [runtime-status] [3515] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3515) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3515) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3515) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3515) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3515) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3515) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-18T23:59:58.423Z] [runtime-status] [3515] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_e12ae695804c1e6a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3515] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_e12ae695804c1e6a.sock"}}
[debug] [2023-11-18T23:59:58.507Z] [worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: IDLE"}}
[debug] [2023-11-18T23:59:58.508Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:59:58.508Z] [worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: BUSY"}}
[debug] [2023-11-18T23:59:58.572Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 63.730111ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 63.730111ms"}}
[debug] [2023-11-18T23:59:58.572Z] [worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: IDLE"}}
[debug] [2023-11-18T23:59:58.573Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-18T23:59:58.573Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-18T23:59:58.573Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:59:58.578Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:59:58.578Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-18T23:59:58.578Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-18T23:59:58.578Z"],"workRunningCount":1}
[debug] [2023-11-18T23:59:58.578Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-18T23:59:58.580Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-18T23:59:58.580Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-18T23:59:58.580Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-18T23:59:58.581Z] [worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: BUSY"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-18T23:59:59.431Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-18T23:59:59.431Z] [worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: FINISHING"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    _id_: [ [ '_id', 1 ] ], {"user":"  _id_: [ [ '_id', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id_: [ [ '_id', 1 ] ],"}}
[info] >    mapID_1: [ [ 'mapID', 1 ] ], {"user":"  mapID_1: [ [ 'mapID', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   mapID_1: [ [ 'mapID', 1 ] ],"}}
[info] >    MapID_1: [ [ 'MapID', 1 ] ] {"user":"  MapID_1: [ [ 'MapID', 1 ] ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID_1: [ [ 'MapID', 1 ] ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-19T00:00:05.728Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7147.069371ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7147.069371ms"}}
[debug] [2023-11-19T00:00:05.728Z] [worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: IDLE --> FINISHING"}}
[debug] [2023-11-19T00:00:05.728Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:00:05.728Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:00:05.728Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:00:05.762Z] [worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: exited"}}
[debug] [2023-11-19T00:00:05.762Z] [worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-86ba0edd-042a-445b-a301-a540a63d79a7]: FINISHED"}}
[debug] [2023-11-19T00:01:42.890Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[debug] [2023-11-19T00:01:43.892Z] Validating nodejs source
[debug] [2023-11-19T00:01:46.230Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:01:46.230Z] Building nodejs source
[debug] [2023-11-19T00:01:46.230Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:01:46.232Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:01:46.233Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8030

[error] (node:3536) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3536) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:01:48.767Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:01:58.984Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:01:58.984Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:01:58.984Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:01:58.984Z"],"workRunningCount":1}
[debug] [2023-11-19T00:01:58.984Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:01:58.988Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:01:58.989Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:01:58.989Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:01:58.992Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-19T00:01:58.992Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-19T00:02:01.401Z] [runtime-status] [3546] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:02:01.405Z] [runtime-status] [3546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:02:01.405Z] [runtime-status] [3546] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-19T00:02:01.405Z] [runtime-status] [3546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:02:01.855Z] [runtime-status] [3546] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-19T00:02:01.855Z] [runtime-status] [3546] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-19T00:02:01.856Z] [runtime-status] [3546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:02:01.859Z] [runtime-status] [3546] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:02:01.862Z] [runtime-status] [3546] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:02:01.863Z] [runtime-status] [3546] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-19T00:02:02.701Z] [runtime-status] [3546] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3546) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3546) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3546) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3546) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3546) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3546) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-19T00:02:02.703Z] [runtime-status] [3546] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_757705c6eaeeef13.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3546] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_757705c6eaeeef13.sock"}}
[debug] [2023-11-19T00:02:02.829Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE"}}
[debug] [2023-11-19T00:02:02.829Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:02:02.830Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: BUSY"}}
[debug] [2023-11-19T00:02:02.834Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.772234ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.772234ms"}}
[debug] [2023-11-19T00:02:02.835Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE"}}
[debug] [2023-11-19T00:02:02.835Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:02:02.835Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:02:02.835Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:02:02.843Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:02:02.843Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:02:02.844Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:02:02.843Z"],"workRunningCount":1}
[debug] [2023-11-19T00:02:02.844Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:02:02.846Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:02:02.846Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:02:02.849Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:02:02.849Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    _id_: [ [ '_id', 1 ] ], {"user":"  _id_: [ [ '_id', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id_: [ [ '_id', 1 ] ],"}}
[info] >    mapID_1: [ [ 'mapID', 1 ] ], {"user":"  mapID_1: [ [ 'mapID', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   mapID_1: [ [ 'mapID', 1 ] ],"}}
[info] >    MapID_1: [ [ 'MapID', 1 ] ] {"user":"  MapID_1: [ [ 'MapID', 1 ] ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID_1: [ [ 'MapID', 1 ] ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-19T00:02:08.684Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5834.732894ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5834.732894ms"}}
[debug] [2023-11-19T00:02:08.684Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE"}}
[debug] [2023-11-19T00:02:08.684Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:02:08.684Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:02:08.685Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Bubble Map created: {"user":"Bubble Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Bubble Map created:"}}
[debug] [2023-11-19T00:02:33.856Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:02:33.856Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:02:33.856Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:02:33.856Z"],"workRunningCount":1}
[debug] [2023-11-19T00:02:33.856Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:02:33.860Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:02:33.860Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:02:33.860Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:02:33.861Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: BUSY"}}
[debug] [2023-11-19T00:02:33.864Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.448193ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.448193ms"}}
[debug] [2023-11-19T00:02:33.865Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE"}}
[debug] [2023-11-19T00:02:33.865Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:02:33.865Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:02:33.865Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:02:33.869Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:02:33.869Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:02:33.870Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:02:33.869Z"],"workRunningCount":1}
[debug] [2023-11-19T00:02:33.870Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:02:33.872Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:02:33.872Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:02:33.872Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:02:33.873Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: BUSY"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    _id_: [ [ '_id', 1 ] ], {"user":"  _id_: [ [ '_id', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id_: [ [ '_id', 1 ] ],"}}
[info] >    mapID_1: [ [ 'mapID', 1 ] ], {"user":"  mapID_1: [ [ 'mapID', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   mapID_1: [ [ 'mapID', 1 ] ],"}}
[info] >    MapID_1: [ [ 'MapID', 1 ] ] {"user":"  MapID_1: [ [ 'MapID', 1 ] ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID_1: [ [ 'MapID', 1 ] ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-19T00:02:35.121Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1248.638926ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1248.638926ms"}}
[debug] [2023-11-19T00:02:35.122Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: IDLE"}}
[debug] [2023-11-19T00:02:35.122Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:02:35.122Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:02:35.122Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Map created: {"user":"Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Map created:"}}
[info] >  Error creating Bubble map: MongoServerError: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error creating Bubble map: MongoServerError: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error creating Bubble map: MongoServerError: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19) {"user":"    at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) { {"user":"    at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) {"}}
[info] >    index: 0, {"user":"  index: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   index: 0,"}}
[info] >    code: 11000, {"user":"  code: 11000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 11000,"}}
[info] >    keyPattern: { mapID: 1 }, {"user":"  keyPattern: { mapID: 1 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   keyPattern: { mapID: 1 },"}}
[info] >    keyValue: { mapID: null }, {"user":"  keyValue: { mapID: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   keyValue: { mapID: null },"}}
[info] >    [Symbol(errorLabels)]: Set(0) {} {"user":"  [Symbol(errorLabels)]: Set(0) {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   [Symbol(errorLabels)]: Set(0) {}"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-19T00:06:43.647Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[debug] [2023-11-19T00:06:44.655Z] Validating nodejs source
[debug] [2023-11-19T00:06:47.991Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:06:47.991Z] Building nodejs source
[debug] [2023-11-19T00:06:47.991Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:06:47.998Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:06:48.006Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8542

[error] (node:3621) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3621) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:06:50.860Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:06:51.384Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[debug] [2023-11-19T00:06:52.386Z] Validating nodejs source
[debug] [2023-11-19T00:06:55.556Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:06:55.556Z] Building nodejs source
[debug] [2023-11-19T00:06:55.556Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:06:55.557Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[debug] [2023-11-19T00:06:55.557Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:06:55.558Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[info] Serving at port 8832

[debug] [2023-11-19T00:06:56.565Z] Validating nodejs source
[debug] [2023-11-19T00:06:59.675Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:06:59.675Z] Building nodejs source
[debug] [2023-11-19T00:06:59.675Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:06:59.680Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:06:59.681Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3630) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3630) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:06:59.685Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8361

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:07:00.915Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-19T00:07:00.915Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: FINISHING"}}
[debug] [2023-11-19T00:07:00.935Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: exited"}}
[debug] [2023-11-19T00:07:00.935Z] [worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7feaf9c9-c113-4a83-be34-4b725a5ac039]: FINISHED"}}
[error] (node:3639) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3639) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:07:01.509Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:07:11.716Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[debug] [2023-11-19T00:07:12.718Z] Validating nodejs source
[debug] [2023-11-19T00:07:15.202Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:07:15.202Z] Building nodejs source
[debug] [2023-11-19T00:07:15.202Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:07:15.203Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:07:15.204Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-19T00:07:15.705Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[info] Serving at port 8294

[debug] [2023-11-19T00:07:16.706Z] Validating nodejs source
[debug] [2023-11-19T00:07:18.382Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:07:18.382Z] Building nodejs source
[debug] [2023-11-19T00:07:18.383Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js:29
    default
    ^^^^^^^

SyntaxError: Unexpected token 'default'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:8:25)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-19T00:07:18.384Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'default'
[debug] [2023-11-19T00:07:18.384Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:07:18.385Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-19T00:07:18.709Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[info] Serving at port 8891

[debug] [2023-11-19T00:07:19.716Z] Validating nodejs source
[debug] [2023-11-19T00:07:22.355Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:07:22.355Z] Building nodejs source
[debug] [2023-11-19T00:07:22.355Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:07:22.356Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/schema/BubbleMap.js changed, reloading triggers"}}
[error] (node:3656) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3656) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:07:22.357Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:07:22.359Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:07:22.360Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8364

[debug] [2023-11-19T00:07:23.358Z] Validating nodejs source
[debug] [2023-11-19T00:07:25.744Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:07:25.744Z] Building nodejs source
[debug] [2023-11-19T00:07:25.744Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[error] (node:3660) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3660) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:07:25.748Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:07:25.748Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:07:25.749Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8772

[error] (node:3667) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3667) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:07:28.501Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:07:37.308Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:07:37.308Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:07:37.308Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:07:37.308Z"],"workRunningCount":1}
[debug] [2023-11-19T00:07:37.308Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:07:37.316Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:07:37.317Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:07:37.317Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:07:37.319Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-19T00:07:37.319Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:07:39.658Z] [runtime-status] [3672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:07:39.659Z] [runtime-status] [3672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:07:39.659Z] [runtime-status] [3672] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-19T00:07:39.662Z] [runtime-status] [3672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:07:39.878Z] [runtime-status] [3672] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-19T00:07:39.878Z] [runtime-status] [3672] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-19T00:07:39.879Z] [runtime-status] [3672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:07:39.880Z] [runtime-status] [3672] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:07:39.886Z] [runtime-status] [3672] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:07:39.886Z] [runtime-status] [3672] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-19T00:07:40.310Z] [runtime-status] [3672] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[debug] [2023-11-19T00:07:40.313Z] [runtime-status] [3672] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_9c04d560278b83a5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3672] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_9c04d560278b83a5.sock"}}
[info] >  (node:3672) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3672) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3672) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3672) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3672) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3672) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-19T00:07:40.433Z] [worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: IDLE"}}
[debug] [2023-11-19T00:07:40.433Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:07:40.433Z] [worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: BUSY"}}
[debug] [2023-11-19T00:07:40.440Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.353963ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.353963ms"}}
[debug] [2023-11-19T00:07:40.440Z] [worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: IDLE"}}
[debug] [2023-11-19T00:07:40.440Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:07:40.440Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:07:40.440Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:07:40.445Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:07:40.445Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:07:40.445Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:07:40.445Z"],"workRunningCount":1}
[debug] [2023-11-19T00:07:40.445Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:07:40.447Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:07:40.448Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:07:40.448Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:07:40.448Z] [worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  { {"user":"{","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m {"}}
[info] >    _id_: [ [ '_id', 1 ] ], {"user":"  _id_: [ [ '_id', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id_: [ [ '_id', 1 ] ],"}}
[info] >    mapID_1: [ [ 'mapID', 1 ] ], {"user":"  mapID_1: [ [ 'mapID', 1 ] ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   mapID_1: [ [ 'mapID', 1 ] ],"}}
[info] >    MapID_1: [ [ 'MapID', 1 ] ] {"user":"  MapID_1: [ [ 'MapID', 1 ] ]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID_1: [ [ 'MapID', 1 ] ]"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-19T00:07:49.422Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8974.062313ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8974.062313ms"}}
[debug] [2023-11-19T00:07:49.422Z] [worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: IDLE"}}
[debug] [2023-11-19T00:07:49.423Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:07:49.423Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:07:49.423Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Error creating Bubble map: MongoServerError: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error creating Bubble map: MongoServerError: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error creating Bubble map: MongoServerError: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19) {"user":"    at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at InsertOneOperation.execute (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/insert.js:48:19)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) { {"user":"    at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async executeOperationAsync (/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/mongodb/lib/operations/execute_operation.js:106:16) {"}}
[info] >    index: 0, {"user":"  index: 0,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   index: 0,"}}
[info] >    code: 11000, {"user":"  code: 11000,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   code: 11000,"}}
[info] >    keyPattern: { mapID: 1 }, {"user":"  keyPattern: { mapID: 1 },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   keyPattern: { mapID: 1 },"}}
[info] >    keyValue: { mapID: null }, {"user":"  keyValue: { mapID: null },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   keyValue: { mapID: null },"}}
[info] >    [Symbol(errorLabels)]: Set(0) {} {"user":"  [Symbol(errorLabels)]: Set(0) {}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   [Symbol(errorLabels)]: Set(0) {}"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-19T00:09:30.474Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:09:31.476Z] Validating nodejs source
[debug] [2023-11-19T00:09:33.390Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:09:33.390Z] Building nodejs source
[debug] [2023-11-19T00:09:33.390Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:09:33.392Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:09:33.392Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:09:33.393Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-19T00:09:33.763Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8638

[debug] [2023-11-19T00:09:34.765Z] Validating nodejs source
[debug] [2023-11-19T00:09:36.777Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:09:36.778Z] Building nodejs source
[debug] [2023-11-19T00:09:36.778Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:09:36.779Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:09:36.780Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3697) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3697) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:09:36.783Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8925

[debug] [2023-11-19T00:09:37.791Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:3701) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3701) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:09:38.382Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-19T00:09:38.793Z] Validating nodejs source
[debug] [2023-11-19T00:09:41.930Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:09:41.930Z] Building nodejs source
[debug] [2023-11-19T00:09:41.930Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:09:41.931Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:09:41.932Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:09:41.933Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[info] Serving at port 8636

[debug] [2023-11-19T00:09:42.540Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:3705) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3705) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:09:43.212Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:09:43.547Z] Validating nodejs source
[debug] [2023-11-19T00:09:45.558Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:09:45.559Z] Building nodejs source
[debug] [2023-11-19T00:09:45.559Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:09:45.560Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:09:45.561Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:09:45.562Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8370

[info] Connected to MongoDB Atlas

[debug] [2023-11-19T00:09:46.562Z] Validating nodejs source
[debug] [2023-11-19T00:09:48.112Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:09:48.113Z] Building nodejs source
[debug] [2023-11-19T00:09:48.113Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:09:48.114Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:09:48.116Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:09:48.117Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3709) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3709) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:09:48.121Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:09:48.126Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-19T00:09:48.127Z] [worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: FINISHING"}}
[debug] [2023-11-19T00:09:48.155Z] [worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: exited"}}
[debug] [2023-11-19T00:09:48.155Z] [worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-814129c8-f3b3-475f-abc5-32429370d8bb]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8175

[debug] [2023-11-19T00:09:49.117Z] Validating nodejs source
[debug] [2023-11-19T00:09:50.597Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:09:50.597Z] Building nodejs source
[debug] [2023-11-19T00:09:50.597Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:09:50.598Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:09:50.598Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:09:50.599Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3711) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3711) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:09:50.602Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Serving at port 8753

[debug] [2023-11-19T00:09:51.600Z] Validating nodejs source
[debug] [2023-11-19T00:09:52.941Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:09:52.942Z] Building nodejs source
[debug] [2023-11-19T00:09:52.942Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:09:52.943Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:09:52.944Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:09:52.946Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3715) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3715) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:09:52.948Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8558

[debug] [2023-11-19T00:09:53.955Z] Validating nodejs source
[debug] [2023-11-19T00:09:56.147Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:09:56.147Z] Building nodejs source
[debug] [2023-11-19T00:09:56.147Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:09:56.149Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:09:56.151Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[error] (node:3717) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3717) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:09:56.154Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8829

[debug] [2023-11-19T00:09:57.038Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:246
          var d = await BubbleMapSchema.collection.dropIndex("mapID_"${})
                                                             ^^^^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-19T00:09:57.288Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-19T00:09:58.039Z] Validating nodejs source
[debug] [2023-11-19T00:09:59.944Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:09:59.944Z] Building nodejs source
[debug] [2023-11-19T00:09:59.944Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:09:59.946Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:09:59.947Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8541

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:246
          var d = await BubbleMapSchema.collection.dropIndex("mapID_"${})
                                                             ^^^^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-19T00:10:01.216Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-19T00:10:01.875Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:10:02.876Z] Validating nodejs source
[debug] [2023-11-19T00:10:04.135Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:04.135Z] Building nodejs source
[debug] [2023-11-19T00:10:04.135Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:10:04.136Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:10:04.137Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:04.138Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8564

[debug] [2023-11-19T00:10:05.137Z] Validating nodejs source
[debug] [2023-11-19T00:10:06.555Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:06.555Z] Building nodejs source
[debug] [2023-11-19T00:10:06.555Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:10:06.556Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:10:06.557Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:06.558Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:246
          var d = await BubbleMapSchema.collection.dropIndex("mapID_"${})
                                                             ^^^^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-19T00:10:06.563Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8494

[debug] [2023-11-19T00:10:07.600Z] Validating nodejs source
[debug] [2023-11-19T00:10:09.475Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:09.476Z] Building nodejs source
[debug] [2023-11-19T00:10:09.476Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:246
          var d = await BubbleMapSchema.collection.dropIndex("mapID_"${})
                                                             ^^^^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-19T00:10:09.482Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[debug] [2023-11-19T00:10:09.482Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:09.483Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8644

[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:246
          var d = await BubbleMapSchema.collection.dropIndex("mapID_"${})
                                                             ^^^^^^^^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-19T00:10:10.675Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-19T00:10:10.921Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:10:11.923Z] Validating nodejs source
[debug] [2023-11-19T00:10:13.071Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:13.071Z] Building nodejs source
[debug] [2023-11-19T00:10:13.071Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:10:13.073Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:13.074Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8613

[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:246
          var d = await BubbleMapSchema.collection.dropIndex(`"mapID_"${}`)
                                                                        ^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-19T00:10:14.845Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-19T00:10:20.122Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:10:21.123Z] Validating nodejs source
[debug] [2023-11-19T00:10:22.591Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:22.591Z] Building nodejs source
[debug] [2023-11-19T00:10:22.591Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:10:22.592Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:22.593Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8472

[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:246
          var d = await BubbleMapSchema.collection.dropIndex(`"mapID_${}`)
                                                                       ^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-19T00:10:24.157Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-19T00:10:26.082Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:10:27.084Z] Validating nodejs source
[debug] [2023-11-19T00:10:28.982Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:28.982Z] Building nodejs source
[debug] [2023-11-19T00:10:28.982Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:10:28.983Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:28.984Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8092

[error] /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:246
          var d = await BubbleMapSchema.collection.dropIndex(`mapID_${}`)
                                                                      ^

SyntaxError: Unexpected token '}'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-19T00:10:30.340Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token '}'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-19T00:10:30.979Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:10:31.980Z] Validating nodejs source
[debug] [2023-11-19T00:10:33.486Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:33.486Z] Building nodejs source
[debug] [2023-11-19T00:10:33.486Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:10:33.488Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:33.489Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-19T00:10:33.532Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8883

[debug] [2023-11-19T00:10:34.534Z] Validating nodejs source
[debug] [2023-11-19T00:10:36.281Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:36.282Z] Building nodejs source
[debug] [2023-11-19T00:10:36.282Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:10:36.283Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:10:36.283Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:36.285Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3753) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3753) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:10:36.288Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8089

[debug] [2023-11-19T00:10:37.287Z] Validating nodejs source
[debug] [2023-11-19T00:10:39.159Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:39.159Z] Building nodejs source
[debug] [2023-11-19T00:10:39.159Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:3757) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3757) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:10:39.161Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-19T00:10:39.163Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:39.163Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8519

[error] (node:3759) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3759) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:10:40.724Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:10:41.331Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-19T00:10:41.431Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:10:42.432Z] Validating nodejs source
[debug] [2023-11-19T00:10:44.567Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:10:44.567Z] Building nodejs source
[debug] [2023-11-19T00:10:44.567Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:10:44.569Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:10:44.570Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[info] Serving at port 8611

[error] (node:3765) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3765) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:10:46.321Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:11:00.386Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:11:01.388Z] Validating nodejs source
[debug] [2023-11-19T00:11:03.797Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:11:03.797Z] Building nodejs source
[debug] [2023-11-19T00:11:03.797Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:11:03.798Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:11:03.799Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:11:03.799Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8047

[debug] [2023-11-19T00:11:04.804Z] Validating nodejs source
[debug] [2023-11-19T00:11:07.988Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:11:07.988Z] Building nodejs source
[debug] [2023-11-19T00:11:07.988Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:3780) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3780) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:11:07.989Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:11:07.990Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:11:07.993Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8268

[error] (node:3787) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3787) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:11:09.454Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:11:23.127Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:11:23.127Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:11:23.127Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:11:23.127Z"],"workRunningCount":1}
[debug] [2023-11-19T00:11:23.127Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:11:23.133Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:11:23.134Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:11:23.134Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:11:23.136Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-19T00:11:23.136Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-19T00:11:25.825Z] [runtime-status] [3799] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:11:25.827Z] [runtime-status] [3799] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:11:25.828Z] [runtime-status] [3799] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-19T00:11:25.829Z] [runtime-status] [3799] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:11:26.386Z] [runtime-status] [3799] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-19T00:11:26.387Z] [runtime-status] [3799] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-19T00:11:26.387Z] [runtime-status] [3799] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:11:26.389Z] [runtime-status] [3799] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:11:26.394Z] [runtime-status] [3799] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:11:26.394Z] [runtime-status] [3799] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-19T00:11:27.295Z] [runtime-status] [3799] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3799) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3799) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3799) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3799) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3799) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3799) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-19T00:11:27.309Z] [runtime-status] [3799] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_d66dc164a13e37d2.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3799] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_d66dc164a13e37d2.sock"}}
[debug] [2023-11-19T00:11:27.331Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE"}}
[debug] [2023-11-19T00:11:27.331Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:11:27.332Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY"}}
[debug] [2023-11-19T00:11:27.431Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 99.820923ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 99.820923ms"}}
[debug] [2023-11-19T00:11:27.432Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE"}}
[debug] [2023-11-19T00:11:27.432Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:11:27.432Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:11:27.432Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:11:27.436Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:11:27.436Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:11:27.436Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:11:27.436Z"],"workRunningCount":1}
[debug] [2023-11-19T00:11:27.436Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:11:27.438Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:11:27.438Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:11:27.439Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:11:27.439Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  { _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] } {"user":"{ _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m { _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] }"}}
[debug] [2023-11-19T00:11:36.014Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8575.488333ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8575.488333ms"}}
[debug] [2023-11-19T00:11:36.015Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE"}}
[debug] [2023-11-19T00:11:36.015Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:11:36.015Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:11:36.015Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Bubble Map created: {"user":"Bubble Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Bubble Map created:"}}
[debug] [2023-11-19T00:12:30.860Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:12:30.860Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:12:30.860Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:12:30.860Z"],"workRunningCount":1}
[debug] [2023-11-19T00:12:30.860Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:12:30.864Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:12:30.864Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:12:30.864Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:12:30.864Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY"}}
[debug] [2023-11-19T00:12:30.868Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.244447ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.244447ms"}}
[debug] [2023-11-19T00:12:30.868Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE"}}
[debug] [2023-11-19T00:12:30.869Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:12:30.869Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:12:30.869Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:12:30.874Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:12:30.874Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:12:30.874Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:12:30.874Z"],"workRunningCount":1}
[debug] [2023-11-19T00:12:30.874Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:12:30.877Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:12:30.877Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:12:30.877Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:12:30.877Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY"}}
[info] >  Error: index not found with name [mapID_2] {"user":"Error: index not found with name [mapID_2]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: index not found with name [mapID_2]"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:258:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:258:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:258:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-19T00:12:31.983Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1106.299411ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1106.299411ms"}}
[debug] [2023-11-19T00:12:31.984Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE"}}
[debug] [2023-11-19T00:12:31.984Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:12:31.984Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:12:31.984Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:13:06.425Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:13:07.434Z] Validating nodejs source
[debug] [2023-11-19T00:13:11.122Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:13:11.122Z] Building nodejs source
[debug] [2023-11-19T00:13:11.122Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:13:11.124Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:13:11.124Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:13:11.126Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-19T00:13:11.308Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:13:11.308Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:13:11.308Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:13:11.308Z"],"workRunningCount":1}
[debug] [2023-11-19T00:13:11.308Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:13:11.310Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:13:11.311Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:13:11.311Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:13:11.312Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY"}}
[debug] [2023-11-19T00:13:11.316Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.818522ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.818522ms"}}
[debug] [2023-11-19T00:13:11.320Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE"}}
[debug] [2023-11-19T00:13:11.320Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:13:11.320Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:13:11.320Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:13:11.327Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:13:11.327Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:13:11.327Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:13:11.327Z"],"workRunningCount":1}
[debug] [2023-11-19T00:13:11.327Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:13:11.333Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:13:11.334Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:13:11.334Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:13:11.334Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: BUSY"}}
[info] Serving at port 8105

[debug] [2023-11-19T00:13:12.126Z] Validating nodejs source
[debug] [2023-11-19T00:13:14.756Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:13:14.756Z] Building nodejs source
[debug] [2023-11-19T00:13:14.756Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] >  Error: index not found with name [mapID_2] {"user":"Error: index not found with name [mapID_2]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: index not found with name [mapID_2]"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:258:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:258:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:258:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-19T00:13:14.759Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3424.829467ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3424.829467ms"}}
[debug] [2023-11-19T00:13:14.760Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: IDLE"}}
[debug] [2023-11-19T00:13:14.760Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:13:14.760Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:13:14.760Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[error] (node:3834) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3834) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:13:14.761Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:13:14.762Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:13:14.763Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8790

[error] (node:3838) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3838) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:13:16.094Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:13:24.787Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-19T00:13:24.787Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: FINISHING"}}
[debug] [2023-11-19T00:13:24.803Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: exited"}}
[debug] [2023-11-19T00:13:24.803Z] [worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-bbeb5f02-20bf-4e06-9ac9-ecfbac582958]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:13:41.990Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:13:41.990Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:13:41.990Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:13:41.990Z"],"workRunningCount":1}
[debug] [2023-11-19T00:13:41.990Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:13:41.994Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:13:41.995Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:13:41.995Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:13:41.998Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-19T00:13:41.999Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-19T00:13:44.392Z] [runtime-status] [3845] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:13:44.394Z] [runtime-status] [3845] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:13:44.394Z] [runtime-status] [3845] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-19T00:13:44.395Z] [runtime-status] [3845] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:13:44.936Z] [runtime-status] [3845] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-19T00:13:44.937Z] [runtime-status] [3845] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-19T00:13:44.937Z] [runtime-status] [3845] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:13:44.939Z] [runtime-status] [3845] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:13:44.949Z] [runtime-status] [3845] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:13:44.950Z] [runtime-status] [3845] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-19T00:13:45.993Z] [runtime-status] [3845] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3845) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3845) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3845) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3845) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3845) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3845) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-19T00:13:45.996Z] [runtime-status] [3845] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a6558b0685fbd5bd.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3845] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a6558b0685fbd5bd.sock"}}
[debug] [2023-11-19T00:13:46.123Z] [worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: IDLE"}}
[debug] [2023-11-19T00:13:46.124Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:13:46.124Z] [worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: BUSY"}}
[debug] [2023-11-19T00:13:46.130Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.276001ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.276001ms"}}
[debug] [2023-11-19T00:13:46.130Z] [worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: IDLE"}}
[debug] [2023-11-19T00:13:46.130Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:13:46.131Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:13:46.131Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:13:46.138Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:13:46.138Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:13:46.138Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:13:46.138Z"],"workRunningCount":1}
[debug] [2023-11-19T00:13:46.138Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:13:46.140Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:13:46.140Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:13:46.140Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:13:46.140Z] [worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Error: index not found with name [mapID_1] {"user":"Error: index not found with name [mapID_1]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: index not found with name [mapID_1]"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:258:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:258:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js:258:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/Smapchat/Backend/functions/controllers/mapController.js:146:19)"}}
[debug] [2023-11-19T00:13:54.591Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 8450.853048ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 8450.853048ms"}}
[debug] [2023-11-19T00:13:54.592Z] [worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: IDLE"}}
[debug] [2023-11-19T00:13:54.592Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:13:54.592Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:13:54.592Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:15:11.957Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:15:12.958Z] Validating nodejs source
[debug] [2023-11-19T00:15:15.008Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:15:15.008Z] Building nodejs source
[debug] [2023-11-19T00:15:15.008Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:15:15.010Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:15:15.014Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:15:15.020Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8791

[debug] [2023-11-19T00:15:16.011Z] Validating nodejs source
[debug] [2023-11-19T00:15:18.766Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:15:18.767Z] Building nodejs source
[debug] [2023-11-19T00:15:18.767Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:3864) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3864) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:15:18.769Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:15:18.770Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:15:18.771Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8944

[error] (node:3871) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3871) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:15:20.674Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:15:28.833Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-19T00:15:28.833Z] [worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: FINISHING"}}
[debug] [2023-11-19T00:15:28.851Z] [worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: exited"}}
[debug] [2023-11-19T00:15:28.852Z] [worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-1df9f828-87cc-4d74-bad9-93f64d371196]: FINISHED"}}
[debug] [2023-11-19T00:15:30.129Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:15:30.129Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:15:30.129Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:15:30.129Z"],"workRunningCount":1}
[debug] [2023-11-19T00:15:30.129Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:15:30.133Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:15:30.133Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:15:30.134Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:15:30.137Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-19T00:15:30.137Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:15:32.683Z] [runtime-status] [3876] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:15:32.685Z] [runtime-status] [3876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:15:32.685Z] [runtime-status] [3876] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-19T00:15:32.686Z] [runtime-status] [3876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:15:32.915Z] [runtime-status] [3876] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-19T00:15:32.915Z] [runtime-status] [3876] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-19T00:15:32.916Z] [runtime-status] [3876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:15:32.917Z] [runtime-status] [3876] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:15:32.923Z] [runtime-status] [3876] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:15:32.923Z] [runtime-status] [3876] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-19T00:15:33.300Z] [runtime-status] [3876] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3876) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3876) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3876) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3876) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3876) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3876) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-19T00:15:33.304Z] [runtime-status] [3876] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_7e25b5a1ad5cceee.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3876] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_7e25b5a1ad5cceee.sock"}}
[debug] [2023-11-19T00:15:33.430Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE"}}
[debug] [2023-11-19T00:15:33.431Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:15:33.431Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: BUSY"}}
[debug] [2023-11-19T00:15:33.437Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.40444ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.40444ms"}}
[debug] [2023-11-19T00:15:33.438Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE"}}
[debug] [2023-11-19T00:15:33.438Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:15:33.438Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:15:33.438Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:15:33.443Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:15:33.443Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:15:33.443Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:15:33.443Z"],"workRunningCount":1}
[debug] [2023-11-19T00:15:33.443Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:15:33.445Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:15:33.445Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:15:33.445Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:15:33.446Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  { _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] } {"user":"{ _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m { _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] }"}}
[debug] [2023-11-19T00:15:40.889Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7443.534246ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7443.534246ms"}}
[debug] [2023-11-19T00:15:40.889Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE"}}
[debug] [2023-11-19T00:15:40.890Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:15:40.890Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:15:40.890Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Bubble Map created: {"user":"Bubble Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Bubble Map created:"}}
[debug] [2023-11-19T00:16:17.637Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:16:17.637Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:16:17.637Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:16:17.637Z"],"workRunningCount":1}
[debug] [2023-11-19T00:16:17.637Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:16:17.640Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:16:17.640Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:16:17.640Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:16:17.640Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: BUSY"}}
[debug] [2023-11-19T00:16:17.643Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.157703ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.157703ms"}}
[debug] [2023-11-19T00:16:17.645Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE"}}
[debug] [2023-11-19T00:16:17.645Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:16:17.645Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:16:17.645Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:16:17.649Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:16:17.649Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:16:17.649Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:16:17.649Z"],"workRunningCount":1}
[debug] [2023-11-19T00:16:17.649Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:16:17.652Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:16:17.652Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:16:17.652Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:16:17.653Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: BUSY"}}
[info] >  Map created: {"user":"Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Map created:"}}
[info] >  { _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] } {"user":"{ _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m { _id_: [ [ '_id', 1 ] ], MapID_1: [ [ 'MapID', 1 ] ] }"}}
[debug] [2023-11-19T00:16:19.850Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2197.893736ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2197.893736ms"}}
[debug] [2023-11-19T00:16:19.851Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: IDLE"}}
[debug] [2023-11-19T00:16:19.851Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:16:19.851Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:16:19.851Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Bubble Map created: {"user":"Bubble Map created:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Bubble Map created:"}}
[debug] [2023-11-19T00:16:37.688Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:16:38.688Z] Validating nodejs source
[debug] [2023-11-19T00:16:40.864Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:16:40.864Z] Building nodejs source
[debug] [2023-11-19T00:16:40.864Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:16:40.866Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:16:40.867Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8979

[error] (node:3911) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3911) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:16:42.598Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:16:52.620Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-19T00:16:52.620Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: FINISHING"}}
[debug] [2023-11-19T00:16:52.631Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: exited"}}
[debug] [2023-11-19T00:16:52.631Z] [worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-71cc161d-c9d5-4d2d-9340-7bf073eb5bf9]: FINISHED"}}
[debug] [2023-11-19T00:20:36.309Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:20:37.314Z] Validating nodejs source
[debug] [2023-11-19T00:20:39.760Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:20:39.760Z] Building nodejs source
[debug] [2023-11-19T00:20:39.760Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:20:39.762Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:20:39.763Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8969

[error] (node:3973) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:3973) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:20:42.329Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[debug] [2023-11-19T00:20:50.503Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:20:50.503Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:20:50.503Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:20:50.503Z"],"workRunningCount":1}
[debug] [2023-11-19T00:20:50.503Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:20:50.508Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:20:50.508Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:20:50.508Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:20:50.510Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-19T00:20:50.510Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:20:53.185Z] [runtime-status] [3978] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:20:53.189Z] [runtime-status] [3978] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:20:53.189Z] [runtime-status] [3978] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-19T00:20:53.189Z] [runtime-status] [3978] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:20:53.728Z] [runtime-status] [3978] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-19T00:20:53.729Z] [runtime-status] [3978] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-19T00:20:53.729Z] [runtime-status] [3978] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:20:53.731Z] [runtime-status] [3978] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:20:53.735Z] [runtime-status] [3978] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:20:53.736Z] [runtime-status] [3978] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-19T00:20:54.494Z] [runtime-status] [3978] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:3978) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3978) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3978) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:3978) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:3978) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:3978) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-19T00:20:54.496Z] [runtime-status] [3978] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a6397f46187304e8.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [3978] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_a6397f46187304e8.sock"}}
[debug] [2023-11-19T00:20:54.619Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: IDLE"}}
[debug] [2023-11-19T00:20:54.619Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:20:54.619Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: BUSY"}}
[debug] [2023-11-19T00:20:54.626Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.150437ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.150437ms"}}
[debug] [2023-11-19T00:20:54.627Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: IDLE"}}
[debug] [2023-11-19T00:20:54.627Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:20:54.627Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:20:54.627Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:20:54.633Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:20:54.633Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:20:54.633Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-19T00:20:54.633Z"],"workRunningCount":1}
[debug] [2023-11-19T00:20:54.633Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-19T00:20:54.636Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:20:54.636Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-19T00:20:54.636Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:20:54.636Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Updated Bubble Map: {"user":"Updated Bubble Map:","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Updated Bubble Map:"}}
[debug] [2023-11-19T00:21:01.591Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6955.591126ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6955.591126ms"}}
[debug] [2023-11-19T00:21:01.592Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: IDLE"}}
[debug] [2023-11-19T00:21:01.592Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:21:01.592Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:21:01.592Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:21:33.139Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:21:33.139Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:21:33.139Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:21:33.139Z"],"workRunningCount":1}
[debug] [2023-11-19T00:21:33.139Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:21:33.141Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:21:33.142Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:21:33.142Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:21:33.142Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: BUSY"}}
[info] >  [ 1, 2, 3, 10 ] {"user":[1,2,3,10],"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m [ 1, 2, 3, 10 ]"}}
[debug] [2023-11-19T00:21:33.864Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 721.497897ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 721.497897ms"}}
[debug] [2023-11-19T00:21:33.864Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: IDLE"}}
[debug] [2023-11-19T00:21:33.864Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:21:33.864Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:21:33.865Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:21:43.029Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:21:44.031Z] Validating nodejs source
[debug] [2023-11-19T00:21:46.342Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:21:46.342Z] Building nodejs source
[debug] [2023-11-19T00:21:46.343Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:21:46.345Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:21:46.346Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8201

[debug] [2023-11-19T00:21:46.997Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:21:47.998Z] Validating nodejs source
[debug] [2023-11-19T00:21:54.454Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:21:54.454Z] Building nodejs source
[debug] [2023-11-19T00:21:54.454Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:21:54.455Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:21:54.455Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:21:54.456Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:3999) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:3999) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:21:54.459Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Serving at port 8053

[debug] [2023-11-19T00:21:55.459Z] Validating nodejs source
[debug] [2023-11-19T00:21:58.575Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:21:58.576Z] Building nodejs source
[debug] [2023-11-19T00:21:58.576Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:21:58.577Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:21:58.578Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:21:58.579Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:4008) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:4008) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:21:58.585Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8624

[debug] [2023-11-19T00:21:59.577Z] Validating nodejs source
[debug] [2023-11-19T00:22:02.762Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:22:02.763Z] Building nodejs source
[debug] [2023-11-19T00:22:02.763Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[error] (node:4015) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:4015) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:22:02.765Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:22:02.850Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:22:02.851Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8442

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:22:04.517Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-19T00:22:04.517Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: FINISHING"}}
[debug] [2023-11-19T00:22:04.542Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: exited"}}
[debug] [2023-11-19T00:22:04.542Z] [worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-fca693b2-4c1c-4209-8ca7-752eb42c2ad6]: FINISHED"}}
[error] (node:4022) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:4022) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:22:04.733Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-19T00:22:05.045Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:22:05.045Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:22:05.045Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:22:05.045Z"],"workRunningCount":1}
[debug] [2023-11-19T00:22:05.045Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:22:05.048Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:22:05.048Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:22:05.049Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:22:05.052Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-19T00:22:05.056Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-19T00:22:07.254Z] [runtime-status] [4023] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:22:07.256Z] [runtime-status] [4023] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:22:07.257Z] [runtime-status] [4023] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-19T00:22:07.258Z] [runtime-status] [4023] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:22:07.752Z] [runtime-status] [4023] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-19T00:22:07.752Z] [runtime-status] [4023] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-19T00:22:07.753Z] [runtime-status] [4023] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:22:07.754Z] [runtime-status] [4023] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:22:07.758Z] [runtime-status] [4023] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:22:07.764Z] [runtime-status] [4023] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-19T00:22:08.367Z] [runtime-status] [4023] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:4023) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:4023) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:4023) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:4023) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:4023) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:4023) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-19T00:22:08.370Z] [runtime-status] [4023] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_fc57e8a9dff184fa.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4023] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_fc57e8a9dff184fa.sock"}}
[debug] [2023-11-19T00:22:08.489Z] [worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: IDLE"}}
[debug] [2023-11-19T00:22:08.489Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:22:08.490Z] [worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: BUSY"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:22:08.600Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-19T00:22:08.600Z] [worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: FINISHING"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] >  [ {"user":"[","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ["}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      _id: new ObjectId('6559509aa355cc30122a9d8f'), {"user":"    _id: new ObjectId('6559509aa355cc30122a9d8f'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _id: new ObjectId('6559509aa355cc30122a9d8f'),"}}
[info] >      mapType: 3, {"user":"    mapType: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     mapType: 3,"}}
[info] >      title: 'City Map', {"user":"    title: 'City Map',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'City Map',"}}
[info] >      description: 'Detailed map of the city center', {"user":"    description: 'Detailed map of the city center',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     description: 'Detailed map of the city center',"}}
[info] >      MapID: 1, {"user":"    MapID: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     MapID: 1,"}}
[info] >      avgRate: 4.5, {"user":"    avgRate: 4.5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     avgRate: 4.5,"}}
[info] >      comment: [ 10, 15, 20 ], {"user":"    comment: [ 10, 15, 20 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     comment: [ 10, 15, 20 ],"}}
[info] >      mapFile: 'city_map.pdf', {"user":"    mapFile: 'city_map.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     mapFile: 'city_map.pdf',"}}
[info] >      public: 1, {"user":"    public: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     public: 1,"}}
[info] >      date: 2023-11-19T00:02:34.833Z, {"user":"    date: 2023-11-19T00:02:34.833Z,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 2023-11-19T00:02:34.833Z,"}}
[info] >      __v: 0 {"user":"    __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     __v: 0"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      _id: new ObjectId('6559463df91417b966e160de'), {"user":"    _id: new ObjectId('6559463df91417b966e160de'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _id: new ObjectId('6559463df91417b966e160de'),"}}
[info] >      mapType: 3, {"user":"    mapType: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     mapType: 3,"}}
[info] >      title: 'City Map', {"user":"    title: 'City Map',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'City Map',"}}
[info] >      description: 'Detailed map of the city center', {"user":"    description: 'Detailed map of the city center',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     description: 'Detailed map of the city center',"}}
[info] >      MapID: 2, {"user":"    MapID: 2,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     MapID: 2,"}}
[info] >      avgRate: 4.5, {"user":"    avgRate: 4.5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     avgRate: 4.5,"}}
[info] >      comment: [ 10, 15, 20 ], {"user":"    comment: [ 10, 15, 20 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     comment: [ 10, 15, 20 ],"}}
[info] >      mapFile: 'city_map.pdf', {"user":"    mapFile: 'city_map.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     mapFile: 'city_map.pdf',"}}
[info] >      public: 1, {"user":"    public: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     public: 1,"}}
[info] >      date: 2023-11-18T23:18:21.707Z, {"user":"    date: 2023-11-18T23:18:21.707Z,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 2023-11-18T23:18:21.707Z,"}}
[info] >      __v: 0 {"user":"    __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     __v: 0"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      _id: new ObjectId('655953d3f2ba9dbe37c96a8e'), {"user":"    _id: new ObjectId('655953d3f2ba9dbe37c96a8e'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _id: new ObjectId('655953d3f2ba9dbe37c96a8e'),"}}
[info] >      mapType: 3, {"user":"    mapType: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     mapType: 3,"}}
[info] >      title: 'City Map', {"user":"    title: 'City Map',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'City Map',"}}
[info] >      description: 'Detailed map of the city center', {"user":"    description: 'Detailed map of the city center',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     description: 'Detailed map of the city center',"}}
[info] >      MapID: 3, {"user":"    MapID: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     MapID: 3,"}}
[info] >      avgRate: 4.5, {"user":"    avgRate: 4.5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     avgRate: 4.5,"}}
[info] >      comment: [ 10, 15, 20 ], {"user":"    comment: [ 10, 15, 20 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     comment: [ 10, 15, 20 ],"}}
[info] >      mapFile: 'city_map.pdf', {"user":"    mapFile: 'city_map.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     mapFile: 'city_map.pdf',"}}
[info] >      public: 1, {"user":"    public: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     public: 1,"}}
[info] >      date: 2023-11-19T00:16:19.267Z, {"user":"    date: 2023-11-19T00:16:19.267Z,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 2023-11-19T00:16:19.267Z,"}}
[info] >      __v: 0 {"user":"    __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     __v: 0"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    { {"user":"  {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   {"}}
[info] >      _id: new ObjectId('65594f05d35b108f2a2daca7'), {"user":"    _id: new ObjectId('65594f05d35b108f2a2daca7'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     _id: new ObjectId('65594f05d35b108f2a2daca7'),"}}
[info] >      mapType: 3, {"user":"    mapType: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     mapType: 3,"}}
[info] >      title: 'City Map', {"user":"    title: 'City Map',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     title: 'City Map',"}}
[info] >      description: 'Detailed map of the city center', {"user":"    description: 'Detailed map of the city center',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     description: 'Detailed map of the city center',"}}
[info] >      MapID: 10, {"user":"    MapID: 10,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     MapID: 10,"}}
[info] >      avgRate: 4.5, {"user":"    avgRate: 4.5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     avgRate: 4.5,"}}
[info] >      comment: [ 10, 15, 20 ], {"user":"    comment: [ 10, 15, 20 ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     comment: [ 10, 15, 20 ],"}}
[info] >      mapFile: 'city_map.pdf', {"user":"    mapFile: 'city_map.pdf',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     mapFile: 'city_map.pdf',"}}
[info] >      public: 1, {"user":"    public: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     public: 1,"}}
[info] >      date: 2023-11-18T23:55:49.825Z, {"user":"    date: 2023-11-18T23:55:49.825Z,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     date: 2023-11-18T23:55:49.825Z,"}}
[info] >      __v: 0 {"user":"    __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     __v: 0"}}
[info] >    } {"user":"  }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   }"}}
[info] >  ] {"user":"]","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m ]"}}
[debug] [2023-11-19T00:22:14.641Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6151.546859ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6151.546859ms"}}
[debug] [2023-11-19T00:22:14.641Z] [worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: IDLE --> FINISHING"}}
[debug] [2023-11-19T00:22:14.641Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:22:14.641Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:22:14.642Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:22:14.654Z] [worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: exited"}}
[debug] [2023-11-19T00:22:14.654Z] [worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-f573adba-9edd-4e51-a17b-8e9c8d456876]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:22:36.639Z] File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-19T00:22:37.641Z] Validating nodejs source
[debug] [2023-11-19T00:22:39.262Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-19T00:22:39.262Z] Building nodejs source
[debug] [2023-11-19T00:22:39.262Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:22:39.263Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-19T00:22:39.264Z] Found firebase-functions binary at '/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8244

[error] (node:4034) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:4034) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-19T00:22:40.465Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-19T00:45:33.711Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:45:33.711Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:45:33.716Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:45:33.711Z"],"workRunningCount":1}
[debug] [2023-11-19T00:45:33.717Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:45:33.737Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:45:33.740Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:45:33.743Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-19T00:45:33.759Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-19T00:45:33.764Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-19T00:45:36.411Z] [runtime-status] [4468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:45:36.414Z] [runtime-status] [4468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:45:36.415Z] [runtime-status] [4468] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-19T00:45:36.416Z] [runtime-status] [4468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:45:36.977Z] [runtime-status] [4468] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-19T00:45:36.978Z] [runtime-status] [4468] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-19T00:45:36.978Z] [runtime-status] [4468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:45:36.979Z] [runtime-status] [4468] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-19T00:45:36.984Z] [runtime-status] [4468] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-19T00:45:36.985Z] [runtime-status] [4468] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-19T00:45:37.873Z] [runtime-status] [4468] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:4468) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:4468) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:4468) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:4468) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:4468) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:4468) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-19T00:45:37.877Z] [runtime-status] [4468] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_7ec8bfb75da717ad.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [4468] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_7ec8bfb75da717ad.sock"}}
[debug] [2023-11-19T00:45:37.942Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T00:45:37.943Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:45:37.943Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-19T00:45:45.432Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7489.181805ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7489.181805ms"}}
[debug] [2023-11-19T00:45:45.433Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T00:45:45.433Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:45:45.433Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:45:45.433Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:45:45.434Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:45:45.434Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:45:45.434Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:45:45.434Z"],"workRunningCount":1}
[debug] [2023-11-19T00:45:45.434Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:45:45.437Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:45:45.437Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:45:45.437Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:45:45.438Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T00:45:46.340Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 902.657391ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 902.657391ms"}}
[debug] [2023-11-19T00:45:46.341Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T00:45:46.341Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:45:46.341Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:45:46.341Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:47:24.792Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:47:24.792Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:47:24.792Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:47:24.792Z"],"workRunningCount":1}
[debug] [2023-11-19T00:47:24.792Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:47:24.800Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:47:24.800Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:47:24.800Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:47:24.801Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T00:47:25.993Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1192.0024779999999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1192.0024779999999ms"}}
[debug] [2023-11-19T00:47:25.996Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T00:47:25.996Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:47:25.996Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:47:25.996Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:47:31.784Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:47:31.784Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:47:31.788Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:47:31.784Z"],"workRunningCount":1}
[debug] [2023-11-19T00:47:31.788Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:47:31.795Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:47:31.795Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:47:31.795Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:47:31.796Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T00:47:32.412Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 615.755376ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 615.755376ms"}}
[debug] [2023-11-19T00:47:32.412Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T00:47:32.412Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:47:32.412Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:47:32.413Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:50:07.503Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:50:07.503Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:50:07.503Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:50:07.503Z"],"workRunningCount":1}
[debug] [2023-11-19T00:50:07.503Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:50:07.512Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:50:07.512Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:50:07.512Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:50:07.513Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T00:50:08.270Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 757.741077ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 757.741077ms"}}
[debug] [2023-11-19T00:50:08.271Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T00:50:08.271Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:50:08.271Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:50:08.271Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:50:08.272Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:50:08.272Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:50:08.274Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:50:08.272Z"],"workRunningCount":1}
[debug] [2023-11-19T00:50:08.274Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:50:08.276Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:50:08.276Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:50:08.277Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:50:08.277Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T00:50:09.038Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 761.666579ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 761.666579ms"}}
[debug] [2023-11-19T00:50:09.039Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T00:50:09.039Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:50:09.039Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:50:09.039Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:51:17.018Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:51:17.018Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:51:17.018Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:51:17.018Z"],"workRunningCount":1}
[debug] [2023-11-19T00:51:17.018Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:51:17.021Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:51:17.021Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:51:17.022Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:51:17.024Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T00:51:17.761Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 736.793113ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 736.793113ms"}}
[debug] [2023-11-19T00:51:17.761Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T00:51:17.761Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:51:17.762Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:51:17.762Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:51:17.764Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:51:17.764Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T00:51:17.764Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T00:51:17.764Z"],"workRunningCount":1}
[debug] [2023-11-19T00:51:17.764Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T00:51:17.766Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T00:51:17.767Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T00:51:17.767Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T00:51:17.767Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T00:51:18.529Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 764.13195ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 764.13195ms"}}
[debug] [2023-11-19T00:51:18.532Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T00:51:18.533Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T00:51:18.533Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T00:51:18.533Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:39:37.333Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:39:37.332Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:39:37.336Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:39:37.332Z"],"workRunningCount":1}
[debug] [2023-11-19T02:39:37.336Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:39:37.347Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:39:37.347Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:39:37.348Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:39:37.424Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:39:41.166Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3742.012462ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3742.012462ms"}}
[debug] [2023-11-19T02:39:41.168Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:39:41.168Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:39:41.169Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:39:41.169Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:39:41.169Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:39:41.169Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:39:41.169Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:39:41.169Z"],"workRunningCount":1}
[debug] [2023-11-19T02:39:41.169Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:39:41.172Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:39:41.172Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:39:41.173Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:39:41.173Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:39:43.312Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2139.868981ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2139.868981ms"}}
[debug] [2023-11-19T02:39:43.313Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:39:43.313Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:39:43.313Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:39:43.314Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:43:48.115Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:43:48.115Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:43:48.115Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:43:48.115Z"],"workRunningCount":1}
[debug] [2023-11-19T02:43:48.115Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:43:48.118Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:43:48.118Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:43:48.119Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:43:48.120Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:43:48.768Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 647.741358ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 647.741358ms"}}
[debug] [2023-11-19T02:43:48.768Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:43:48.769Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:43:48.769Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:43:48.769Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:43:48.769Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:43:48.769Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:43:48.769Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:43:48.769Z"],"workRunningCount":1}
[debug] [2023-11-19T02:43:48.770Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:43:48.772Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:43:48.772Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:43:48.772Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:43:48.773Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:43:49.383Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 610.533862ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 610.533862ms"}}
[debug] [2023-11-19T02:43:49.385Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:43:49.385Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:43:49.385Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:43:49.386Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:43:51.560Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:43:51.560Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:43:51.561Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:43:51.560Z"],"workRunningCount":1}
[debug] [2023-11-19T02:43:51.561Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:43:51.563Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:43:51.563Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:43:51.563Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:43:51.564Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:43:52.251Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 687.115478ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 687.115478ms"}}
[debug] [2023-11-19T02:43:52.251Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:43:52.251Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:43:52.252Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:43:52.252Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:43:52.252Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:43:52.252Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:43:52.252Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:43:52.252Z"],"workRunningCount":1}
[debug] [2023-11-19T02:43:52.252Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:43:52.255Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:43:52.255Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:43:52.255Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:43:52.255Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:43:52.866Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 610.405377ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 610.405377ms"}}
[debug] [2023-11-19T02:43:52.866Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:43:52.866Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:43:52.866Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:43:52.868Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:45:00.595Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:45:00.595Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:45:00.595Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:45:00.595Z"],"workRunningCount":1}
[debug] [2023-11-19T02:45:00.596Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:45:00.605Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:45:00.605Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:45:00.606Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:45:00.606Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:45:01.281Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 676.911404ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 676.911404ms"}}
[debug] [2023-11-19T02:45:01.283Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:45:01.283Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:45:01.284Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:45:01.284Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:45:01.284Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:45:01.284Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:45:01.284Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:45:01.284Z"],"workRunningCount":1}
[debug] [2023-11-19T02:45:01.284Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:45:01.288Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:45:01.288Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:45:01.288Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:45:01.289Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:45:01.881Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 592.172867ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 592.172867ms"}}
[debug] [2023-11-19T02:45:01.882Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:45:01.882Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:45:01.882Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:45:01.882Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:46:35.329Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:46:35.329Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:46:35.330Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:46:35.329Z"],"workRunningCount":1}
[debug] [2023-11-19T02:46:35.330Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:46:35.334Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:46:35.334Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:46:35.334Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:46:35.345Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:46:35.954Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 608.51446ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 608.51446ms"}}
[debug] [2023-11-19T02:46:35.955Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:46:35.955Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:46:35.955Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:46:35.955Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:46:35.958Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:46:35.957Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:46:35.958Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:46:35.957Z"],"workRunningCount":1}
[debug] [2023-11-19T02:46:35.958Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:46:35.961Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:46:35.961Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:46:35.961Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:46:35.961Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:46:36.508Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 546.411545ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 546.411545ms"}}
[debug] [2023-11-19T02:46:36.508Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:46:36.508Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:46:36.508Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:46:36.508Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:47:10.542Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:47:10.542Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:47:10.542Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:47:10.542Z"],"workRunningCount":1}
[debug] [2023-11-19T02:47:10.542Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:47:10.546Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:47:10.547Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:47:10.547Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:47:10.548Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:47:11.214Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 665.603809ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 665.603809ms"}}
[debug] [2023-11-19T02:47:11.214Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:47:11.214Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:47:11.215Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:47:11.215Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:47:11.217Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:47:11.217Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:47:11.217Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:47:11.217Z"],"workRunningCount":1}
[debug] [2023-11-19T02:47:11.217Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:47:11.223Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:47:11.224Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:47:11.224Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:47:11.224Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:47:11.830Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 606.53132ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 606.53132ms"}}
[debug] [2023-11-19T02:47:11.831Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:47:11.831Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:47:11.831Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:47:11.831Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:48:06.434Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:48:06.434Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:48:06.434Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:48:06.434Z"],"workRunningCount":1}
[debug] [2023-11-19T02:48:06.434Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:48:06.440Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:48:06.440Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:48:06.440Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:48:06.440Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:48:07.125Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 685.098877ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 685.098877ms"}}
[debug] [2023-11-19T02:48:07.125Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:48:07.125Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:48:07.126Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:48:07.126Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:48:07.126Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:48:07.126Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:48:07.126Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:48:07.126Z"],"workRunningCount":1}
[debug] [2023-11-19T02:48:07.126Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:48:07.132Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:48:07.132Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:48:07.132Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:48:07.132Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:48:07.739Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 606.697801ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 606.697801ms"}}
[debug] [2023-11-19T02:48:07.739Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:48:07.740Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:48:07.740Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:48:07.740Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:57:18.483Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:57:18.482Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:57:18.486Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:57:18.482Z"],"workRunningCount":1}
[debug] [2023-11-19T02:57:18.486Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:57:18.499Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:57:18.501Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:57:18.502Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:57:18.504Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:57:19.157Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 654.175233ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 654.175233ms"}}
[debug] [2023-11-19T02:57:19.159Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:57:19.160Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:57:19.160Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:57:19.160Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:57:19.161Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:57:19.161Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:57:19.162Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:57:19.161Z"],"workRunningCount":1}
[debug] [2023-11-19T02:57:19.162Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:57:19.166Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:57:19.166Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:57:19.166Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:57:19.167Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:57:19.765Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 598.920156ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 598.920156ms"}}
[debug] [2023-11-19T02:57:19.766Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:57:19.766Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:57:19.766Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:57:19.766Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:57:22.997Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:57:22.997Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:57:22.997Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:57:22.997Z"],"workRunningCount":1}
[debug] [2023-11-19T02:57:22.997Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T02:57:23.001Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:57:23.001Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T02:57:23.001Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:57:23.005Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:57:23.358Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 353.257995ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 353.257995ms"}}
[debug] [2023-11-19T02:57:23.359Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:57:23.359Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:57:23.359Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:57:23.359Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:57:23.360Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:57:23.360Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:57:23.360Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:57:23.360Z"],"workRunningCount":1}
[debug] [2023-11-19T02:57:23.360Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T02:57:23.364Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:57:23.364Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T02:57:23.364Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:57:23.365Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:57:23.657Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 292.045743ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 292.045743ms"}}
[debug] [2023-11-19T02:57:23.657Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:57:23.657Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:57:23.657Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:57:23.658Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:21.450Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:21.450Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:21.450Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:21.450Z"],"workRunningCount":1}
[debug] [2023-11-19T02:58:21.450Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T02:58:21.453Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:58:21.454Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T02:58:21.454Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:58:21.454Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:58:21.825Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 370.751331ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 370.751331ms"}}
[debug] [2023-11-19T02:58:21.826Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:58:21.826Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:58:21.826Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:58:21.826Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:28.954Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:28.954Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:28.955Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:28.954Z"],"workRunningCount":1}
[debug] [2023-11-19T02:58:28.955Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T02:58:28.964Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:58:28.964Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T02:58:28.964Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:58:28.964Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:58:29.295Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 331.143107ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 331.143107ms"}}
[debug] [2023-11-19T02:58:29.296Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:58:29.296Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:58:29.296Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:58:29.296Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:29.297Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:29.297Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:29.297Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:29.297Z"],"workRunningCount":1}
[debug] [2023-11-19T02:58:29.297Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T02:58:29.300Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:58:29.300Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T02:58:29.301Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:58:29.301Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:58:29.834Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 533.080254ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 533.080254ms"}}
[debug] [2023-11-19T02:58:29.834Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:58:29.834Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:58:29.835Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:58:29.835Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:31.521Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:58:31.521Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:31.521Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:58:31.521Z"],"workRunningCount":1}
[debug] [2023-11-19T02:58:31.521Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:58:31.531Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:58:31.531Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:58:31.532Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:58:31.532Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:58:32.167Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 634.69586ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 634.69586ms"}}
[debug] [2023-11-19T02:58:32.168Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:58:32.168Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:58:32.169Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:58:32.170Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:32.171Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:58:32.171Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:32.171Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T02:58:32.171Z"],"workRunningCount":1}
[debug] [2023-11-19T02:58:32.171Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T02:58:32.176Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:58:32.176Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T02:58:32.176Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:58:32.176Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:58:32.881Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 704.468578ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 704.468578ms"}}
[debug] [2023-11-19T02:58:32.883Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:58:32.883Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:58:32.883Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:58:32.884Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:33.070Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:33.070Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:33.070Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:33.070Z"],"workRunningCount":1}
[debug] [2023-11-19T02:58:33.070Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T02:58:33.073Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:58:33.073Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T02:58:33.074Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:58:33.074Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:58:33.395Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 320.966822ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 320.966822ms"}}
[debug] [2023-11-19T02:58:33.396Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:58:33.396Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:58:33.396Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:58:33.396Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:33.396Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:33.396Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:58:33.397Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:58:33.396Z"],"workRunningCount":1}
[debug] [2023-11-19T02:58:33.397Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T02:58:33.399Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:58:33.400Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T02:58:33.400Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:58:33.400Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:58:33.706Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 306.684201ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 306.684201ms"}}
[debug] [2023-11-19T02:58:33.707Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:58:33.707Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:58:33.707Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:58:33.707Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:59:57.450Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:59:57.450Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:59:57.450Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:59:57.450Z"],"workRunningCount":1}
[debug] [2023-11-19T02:59:57.450Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T02:59:57.454Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:59:57.454Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T02:59:57.455Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:59:57.455Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:59:57.774Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 319.160762ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 319.160762ms"}}
[debug] [2023-11-19T02:59:57.774Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:59:57.775Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:59:57.775Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:59:57.775Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:59:59.452Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:59:59.452Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T02:59:59.453Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T02:59:59.452Z"],"workRunningCount":1}
[debug] [2023-11-19T02:59:59.453Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T02:59:59.456Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T02:59:59.456Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T02:59:59.456Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T02:59:59.457Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T02:59:59.822Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 365.782254ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 365.782254ms"}}
[debug] [2023-11-19T02:59:59.823Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T02:59:59.823Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T02:59:59.823Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T02:59:59.823Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:00:28.846Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:00:28.846Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:00:28.846Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:00:28.846Z"],"workRunningCount":1}
[debug] [2023-11-19T03:00:28.846Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:00:28.857Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:00:28.857Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:00:28.858Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:00:28.859Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:00:29.214Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 355.878677ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 355.878677ms"}}
[debug] [2023-11-19T03:00:29.219Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:00:29.219Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:00:29.219Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:00:29.219Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:00:29.227Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:00:29.227Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:00:29.227Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:00:29.227Z"],"workRunningCount":1}
[debug] [2023-11-19T03:00:29.227Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:00:29.231Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:00:29.231Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:00:29.231Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:00:29.232Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:00:29.614Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 382.5721ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 382.5721ms"}}
[debug] [2023-11-19T03:00:29.614Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:00:29.614Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:00:29.615Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:00:29.615Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:00:41.862Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:00:41.862Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:00:41.862Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:00:41.862Z"],"workRunningCount":1}
[debug] [2023-11-19T03:00:41.862Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:00:41.866Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:00:41.866Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:00:41.866Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:00:41.867Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:00:42.210Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 343.622632ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 343.622632ms"}}
[debug] [2023-11-19T03:00:42.210Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:00:42.211Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:00:42.211Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:00:42.211Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:00:51.105Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:00:51.105Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:00:51.105Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:00:51.105Z"],"workRunningCount":1}
[debug] [2023-11-19T03:00:51.105Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:00:51.108Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:00:51.108Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:00:51.108Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:00:51.109Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:00:51.427Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 318.090394ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 318.090394ms"}}
[debug] [2023-11-19T03:00:51.427Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:00:51.427Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:00:51.427Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:00:51.427Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:07.311Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:07.311Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:07.311Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:07.311Z"],"workRunningCount":1}
[debug] [2023-11-19T03:01:07.311Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:01:07.315Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:01:07.315Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:01:07.316Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:01:07.316Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:01:07.603Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 287.058981ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 287.058981ms"}}
[debug] [2023-11-19T03:01:07.604Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:01:07.605Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:01:07.605Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:01:07.605Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:07.608Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:07.608Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:07.608Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:07.608Z"],"workRunningCount":1}
[debug] [2023-11-19T03:01:07.608Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:01:07.612Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:01:07.612Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:01:07.612Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:01:07.613Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:01:07.912Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 299.925762ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 299.925762ms"}}
[debug] [2023-11-19T03:01:07.913Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:01:07.913Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:01:07.913Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:01:07.913Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:15.925Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:15.925Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:15.926Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:15.925Z"],"workRunningCount":1}
[debug] [2023-11-19T03:01:15.926Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:01:15.928Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:01:15.929Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:01:15.929Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:01:15.929Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:01:16.309Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 380.303624ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 380.303624ms"}}
[debug] [2023-11-19T03:01:16.310Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:01:16.310Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:01:16.310Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:01:16.310Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:16.311Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:16.311Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:16.311Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:16.311Z"],"workRunningCount":1}
[debug] [2023-11-19T03:01:16.311Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:01:16.314Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:01:16.314Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:01:16.314Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:01:16.314Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:01:16.616Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 301.512954ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 301.512954ms"}}
[debug] [2023-11-19T03:01:16.616Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:01:16.616Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:01:16.616Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:01:16.617Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:20.397Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T03:01:20.397Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:20.398Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T03:01:20.397Z"],"workRunningCount":1}
[debug] [2023-11-19T03:01:20.398Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T03:01:20.401Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:01:20.401Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T03:01:20.401Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:01:20.401Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:01:21.020Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 619.05584ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 619.05584ms"}}
[debug] [2023-11-19T03:01:21.021Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:01:21.021Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:01:21.021Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:01:21.021Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:21.026Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T03:01:21.026Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:21.026Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff-2023-11-19T03:01:21.026Z"],"workRunningCount":1}
[debug] [2023-11-19T03:01:21.026Z] Accepted request GET /smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff --> us-central1-api
[debug] [2023-11-19T03:01:21.028Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:01:21.028Z] [functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/user/maps/6556b9cde82b7d9bd50261ff, mapping to path=/user/maps/6556b9cde82b7d9bd50261ff"}}
[debug] [2023-11-19T03:01:21.028Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:01:21.029Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:01:21.637Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 608.223315ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 608.223315ms"}}
[debug] [2023-11-19T03:01:21.637Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:01:21.637Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:01:21.637Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:01:21.637Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:22.561Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:22.561Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:22.561Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:22.561Z"],"workRunningCount":1}
[debug] [2023-11-19T03:01:22.561Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:01:22.569Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:01:22.569Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:01:22.569Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:01:22.570Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:01:22.847Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 277.84761ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 277.84761ms"}}
[debug] [2023-11-19T03:01:22.848Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:01:22.848Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:01:22.848Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:01:22.848Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:22.849Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:22.849Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:22.849Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:22.849Z"],"workRunningCount":1}
[debug] [2023-11-19T03:01:22.849Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:01:22.851Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:01:22.851Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:01:22.852Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:01:22.852Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:01:23.177Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 325.06393ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 325.06393ms"}}
[debug] [2023-11-19T03:01:23.177Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:01:23.177Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:01:23.177Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:01:23.178Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:41.805Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:41.805Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:01:41.806Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:01:41.805Z"],"workRunningCount":1}
[debug] [2023-11-19T03:01:41.806Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:01:41.809Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:01:41.809Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:01:41.809Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:01:41.810Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:01:42.115Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 306.783963ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 306.783963ms"}}
[debug] [2023-11-19T03:01:42.118Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:01:42.119Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:01:42.119Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:01:42.119Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:02:08.350Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:02:08.350Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:02:08.350Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:02:08.350Z"],"workRunningCount":1}
[debug] [2023-11-19T03:02:08.350Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:02:08.353Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:02:08.353Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:02:08.353Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:02:08.353Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:02:08.631Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 277.659234ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 277.659234ms"}}
[debug] [2023-11-19T03:02:08.633Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:02:08.634Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:02:08.634Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:02:08.634Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:02:08.636Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:02:08.636Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-19T03:02:08.637Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/public-2023-11-19T03:02:08.636Z"],"workRunningCount":1}
[debug] [2023-11-19T03:02:08.637Z] Accepted request GET /smapchat-back/us-central1/api/map/public --> us-central1-api
[debug] [2023-11-19T03:02:08.641Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-19T03:02:08.641Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/public, mapping to path=/map/public"}}
[debug] [2023-11-19T03:02:08.641Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-19T03:02:08.642Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: BUSY"}}
[debug] [2023-11-19T03:02:08.940Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 298.281106ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 298.281106ms"}}
[debug] [2023-11-19T03:02:08.941Z] [worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-24dfbc88-a6bf-420e-afd9-59f3ba686f3f]: IDLE"}}
[debug] [2023-11-19T03:02:08.941Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-19T03:02:08.941Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-19T03:02:08.941Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
