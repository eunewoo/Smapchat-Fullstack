[debug] [2023-11-17T01:31:17.711Z] ----------------------------------------------------------------------
[debug] [2023-11-17T01:31:17.713Z] Command:       /usr/local/bin/node /usr/local/bin/firebase emulators:start --only functions,firestore,database,pubsub,storage,eventarc
[debug] [2023-11-17T01:31:17.714Z] CLI Version:   12.8.1
[debug] [2023-11-17T01:31:17.714Z] Platform:      darwin
[debug] [2023-11-17T01:31:17.714Z] Node Version:  v18.14.2
[debug] [2023-11-17T01:31:17.716Z] Time:          Thu Nov 16 2023 20:31:17 GMT-0500 (Eastern Standard Time)
[debug] [2023-11-17T01:31:17.716Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-11-17T01:31:17.720Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2023-11-17T01:31:17.908Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-11-17T01:31:17.909Z] > authorizing via signed-in user (markosbiniam@gmail.com)
[info] i  emulators: Starting emulators: functions {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions"}}
[warn] ⚠  firestore: Not starting the firestore emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"firestore"},"message":"Not starting the \u001b[1mfirestore\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  database: Not starting the database emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"database"},"message":"Not starting the \u001b[1mdatabase\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  pubsub: Not starting the pubsub emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"pubsub"},"message":"Not starting the \u001b[1mpubsub\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  storage: Not starting the storage emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"storage"},"message":"Not starting the \u001b[1mstorage\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[warn] ⚠  eventarc: Not starting the eventarc emulator, make sure you have run firebase init. {"metadata":{"emulator":{"name":"eventarc"},"message":"Not starting the \u001b[1meventarc\u001b[22m emulator, make sure you have run \u001b[1mfirebase init\u001b[22m."}}
[debug] [2023-11-17T01:31:18.432Z] [logging] Logging Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-17T01:31:18.433Z] assigned listening specs for emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}]},"metadata":{"message":"assigned listening specs for emulators"}}
[debug] [2023-11-17T01:31:18.444Z] [hub] writing locator at /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/hub-smapchat-back.json
[debug] [2023-11-17T01:31:18.874Z] [functions] Functions Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-17T01:31:18.874Z] [eventarc] Eventarc Emulator only supports listening on one address (127.0.0.1). Not listening on ::1
[debug] [2023-11-17T01:31:18.875Z] late-assigned ports for functions and eventarc emulators {"user":{"hub":[{"address":"127.0.0.1","family":"IPv4","port":4400},{"address":"::1","family":"IPv6","port":4400}],"ui":[{"address":"127.0.0.1","family":"IPv4","port":4000},{"address":"::1","family":"IPv6","port":4000}],"logging":[{"address":"127.0.0.1","family":"IPv4","port":4500}],"functions":[{"address":"127.0.0.1","family":"IPv4","port":5001}],"eventarc":[{"address":"127.0.0.1","family":"IPv4","port":9299}]},"metadata":{"message":"late-assigned ports for functions and eventarc emulators"}}
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, hosting, pubsub, storage {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, hosting, pubsub, storage\u001b[22m"}}
[debug] [2023-11-17T01:31:18.879Z] defaultcredentials: writing to file /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json
[debug] [2023-11-17T01:31:18.911Z] Setting GAC to /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/binimark/.config/firebase/markosbiniam_gmail_com_application_default_credentials.json"}}
[debug] [2023-11-17T01:31:18.912Z] > refreshing access token with scopes: []
[debug] [2023-11-17T01:31:18.913Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2023-11-17T01:31:18.913Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-11-17T01:31:18.934Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2023-11-17T01:31:18.934Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2023-11-17T01:31:19.059Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2023-11-17T01:31:19.059Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2023-11-17T01:31:19.072Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig [none]
[debug] [2023-11-17T01:31:19.341Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig 200
[debug] [2023-11-17T01:31:19.341Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/smapchat-back/adminSdkConfig {"projectId":"smapchat-back","storageBucket":"smapchat-back.appspot.com"}
[debug] [2023-11-17T01:31:19.366Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2023-11-17T01:31:19.367Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2023-11-17T01:31:19.367Z] Starting Emulator UI with command {"binary":"node","args":["/Users/binimark/.cache/firebase/emulators/ui-v1.11.7/server/server.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/binimark/.cache/firebase/emulators/ui-v1.11.7/server/server.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2023-11-17T01:31:19.595Z] Web / API server started at 127.0.0.1:4000
Web / API server started at ::1:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at 127.0.0.1:4000\nWeb / API server started at ::1:4000\n"}}
[info] i  functions: Watching "/Users/binimark/Desktop/demo/Smapchat/Backend/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\" for Cloud Functions..."}}
[debug] [2023-11-17T01:31:19.635Z] Validating nodejs source
[debug] [2023-11-17T01:31:22.101Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:31:22.102Z] Building nodejs source
[debug] [2023-11-17T01:31:22.102Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:31:22.107Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:31:22.117Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8490

[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:31:24.087Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://127.0.0.1:4000/               │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ 127.0.0.1:5001 │ http://127.0.0.1:4000/functions │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at 127.0.0.1:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2023-11-17T01:33:28.797Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:33:28.797Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:33:28.798Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:33:28.797Z"],"workRunningCount":1}
[debug] [2023-11-17T01:33:28.802Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:37:00.078Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T01:37:01.080Z] Validating nodejs source
[debug] [2023-11-17T01:37:03.395Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:37:03.395Z] Building nodejs source
[debug] [2023-11-17T01:37:03.395Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:37:03.398Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:37:03.399Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8556

[debug] [2023-11-17T01:37:04.021Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T01:37:04.118Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T01:37:05.120Z] Validating nodejs source
[debug] [2023-11-17T01:37:06.638Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:37:06.638Z] Building nodejs source
[debug] [2023-11-17T01:37:06.638Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:37:06.639Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:37:06.641Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:37:06.644Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8792

[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:37:07.703Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:37:17.730Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T01:37:18.732Z] Validating nodejs source
[debug] [2023-11-17T01:37:20.428Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:37:20.428Z] Building nodejs source
[debug] [2023-11-17T01:37:20.428Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:37:20.429Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:37:20.431Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8388

[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:147
        const b = await MapModel.createBubbleMap(mapData);
              ^

SyntaxError: Identifier 'b' has already been declared
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:6:23)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T01:37:21.645Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'b' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:37:48.891Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T01:37:49.895Z] Validating nodejs source
[debug] [2023-11-17T01:37:50.959Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:37:50.960Z] Building nodejs source
[debug] [2023-11-17T01:37:50.960Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:37:50.963Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:37:50.964Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8417

[debug] [2023-11-17T01:37:51.424Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:37:52.421Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[debug] [2023-11-17T01:37:52.426Z] Validating nodejs source
[debug] [2023-11-17T01:37:54.622Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:37:54.622Z] Building nodejs source
[debug] [2023-11-17T01:37:54.622Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:37:54.625Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:37:54.626Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8247

[debug] [2023-11-17T01:37:55.561Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:147
        const b = await MapModel.createBubbleMap(mapData);
              ^

SyntaxError: Identifier 'b' has already been declared
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:6:23)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T01:37:56.208Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'b' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:37:56.563Z] Validating nodejs source
[debug] [2023-11-17T01:37:57.473Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:37:57.474Z] Building nodejs source
[debug] [2023-11-17T01:37:57.474Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:37:57.475Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:37:57.476Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8229

[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:147
        const b = await MapModel.createBubbleMap(mapData);
              ^

SyntaxError: Identifier 'b' has already been declared
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:6:23)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T01:38:00.265Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'b' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:38:30.378Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T01:38:31.380Z] Validating nodejs source
[debug] [2023-11-17T01:38:33.410Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:38:33.410Z] Building nodejs source
[debug] [2023-11-17T01:38:33.410Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:38:33.412Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:38:33.413Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8160

[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:38:35.121Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:38:50.399Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:38:50.398Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:38:50.399Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:38:50.398Z"],"workRunningCount":1}
[debug] [2023-11-17T01:38:50.400Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:39:37.062Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T01:39:38.064Z] Validating nodejs source
[debug] [2023-11-17T01:39:40.175Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:39:40.175Z] Building nodejs source
[debug] [2023-11-17T01:39:40.176Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:39:40.177Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:39:40.179Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8967

[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:39:42.428Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:40:41.679Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T01:40:42.683Z] Validating nodejs source
[debug] [2023-11-17T01:40:44.663Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:40:44.663Z] Building nodejs source
[debug] [2023-11-17T01:40:44.663Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:40:44.665Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:40:44.666Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8743

[debug] [2023-11-17T01:40:46.101Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:40:46.495Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:40:47.102Z] Validating nodejs source
[debug] [2023-11-17T01:40:49.141Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:40:49.141Z] Building nodejs source
[debug] [2023-11-17T01:40:49.141Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:40:49.142Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:40:49.143Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8301

[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:40:50.422Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:40:52.092Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T01:40:53.097Z] Validating nodejs source
[debug] [2023-11-17T01:40:55.402Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:40:55.402Z] Building nodejs source
[debug] [2023-11-17T01:40:55.402Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:40:55.405Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:40:55.406Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-17T01:40:55.844Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[info] Serving at port 8295

[debug] [2023-11-17T01:40:56.845Z] Validating nodejs source
[debug] [2023-11-17T01:40:58.723Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:40:58.723Z] Building nodejs source
[debug] [2023-11-17T01:40:58.723Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:40:58.725Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[debug] [2023-11-17T01:40:58.726Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:40:58.727Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8675

[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:40:59.824Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:43:50.955Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers"}}
[debug] [2023-11-17T01:43:51.958Z] Validating nodejs source
[debug] [2023-11-17T01:43:53.469Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:43:53.469Z] Building nodejs source
[debug] [2023-11-17T01:43:53.469Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:43:53.471Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers"}}
[debug] [2023-11-17T01:43:53.471Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:43:53.472Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8322

[debug] [2023-11-17T01:43:54.472Z] Validating nodejs source
[debug] [2023-11-17T01:43:56.488Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:43:56.489Z] Building nodejs source
[debug] [2023-11-17T01:43:56.489Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:43:56.491Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[debug] [2023-11-17T01:43:56.491Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:43:56.492Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8287

[error] Error: Route.delete() requires a callback function but got a [object Undefined]
    at Route.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:211:15)
    at proto.<computed> [as delete] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:521:19)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:27:14)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js:15:19)

[debug] [2023-11-17T01:43:57.654Z] Got response code 400; body Failed to generate manifest from function source: Error: Route.delete() requires a callback function but got a [object Undefined]
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T01:44:35.504Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers"}}
[debug] [2023-11-17T01:44:36.523Z] Validating nodejs source
[debug] [2023-11-17T01:44:38.372Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:44:38.372Z] Building nodejs source
[debug] [2023-11-17T01:44:38.372Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:44:38.374Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:44:38.375Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8516

[error] (node:6794) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:6794) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T01:44:39.944Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions[us-central1-api]: http function initialized (http://127.0.0.1:5001/smapchat-back/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://127.0.0.1:5001/smapchat-back/us-central1/api)."}}
[debug] [2023-11-17T01:44:56.346Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:44:56.346Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:44:56.346Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:44:56.346Z"],"workRunningCount":1}
[debug] [2023-11-17T01:44:56.346Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:44:56.353Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:44:56.353Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:44:56.360Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T01:44:56.361Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T01:44:58.659Z] [runtime-status] [6803] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T01:44:58.659Z] [runtime-status] [6803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:44:58.659Z] [runtime-status] [6803] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T01:44:58.661Z] [runtime-status] [6803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:44:59.144Z] [runtime-status] [6803] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T01:44:59.145Z] [runtime-status] [6803] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T01:44:59.146Z] [runtime-status] [6803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:44:59.147Z] [runtime-status] [6803] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T01:44:59.151Z] [runtime-status] [6803] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:44:59.152Z] [runtime-status] [6803] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T01:45:00.082Z] [runtime-status] [6803] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:6803) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:6803) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:6803) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:6803) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:6803) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:6803) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T01:45:00.085Z] [runtime-status] [6803] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_c14e69245dd97d27.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [6803] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_c14e69245dd97d27.sock"}}
[debug] [2023-11-17T01:45:00.266Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:45:00.268Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:45:00.268Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY"}}
[debug] [2023-11-17T01:45:00.276Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.724594ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.724594ms"}}
[debug] [2023-11-17T01:45:00.276Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:45:00.277Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:45:00.277Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:45:00.277Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:45:00.291Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:45:00.291Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:45:00.291Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:45:00.291Z"],"workRunningCount":1}
[debug] [2023-11-17T01:45:00.291Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:45:00.293Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:45:00.294Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:45:00.294Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:45:00.294Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY"}}
[debug] [2023-11-17T01:45:00.324Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 30.073405ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 30.073405ms"}}
[debug] [2023-11-17T01:45:00.324Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:45:00.325Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:45:00.325Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:45:00.325Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T01:45:10.855Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:45:10.855Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:45:10.855Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:45:10.855Z"],"workRunningCount":1}
[debug] [2023-11-17T01:45:10.855Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:45:10.858Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:45:10.858Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:45:10.858Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:45:10.859Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY"}}
[debug] [2023-11-17T01:45:10.863Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.306178ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.306178ms"}}
[debug] [2023-11-17T01:45:10.864Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:45:10.864Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:45:10.864Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:45:10.864Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:45:10.874Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:45:10.874Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:45:10.874Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:45:10.874Z"],"workRunningCount":1}
[debug] [2023-11-17T01:45:10.874Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:45:10.877Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:45:10.877Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:45:10.877Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:45:10.877Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY"}}
[debug] [2023-11-17T01:45:10.885Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.780995ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.780995ms"}}
[debug] [2023-11-17T01:45:10.885Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:45:10.885Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:45:10.886Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:45:10.886Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:48:45.506Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:48:45.505Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:48:45.506Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:48:45.505Z"],"workRunningCount":1}
[debug] [2023-11-17T01:48:45.506Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:48:45.510Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:48:45.511Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:48:45.511Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:48:45.511Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY"}}
[debug] [2023-11-17T01:48:45.515Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.871373ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.871373ms"}}
[debug] [2023-11-17T01:48:45.515Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:48:45.516Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:48:45.516Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:48:45.516Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:48:45.521Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:48:45.521Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:48:45.521Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:48:45.521Z"],"workRunningCount":1}
[debug] [2023-11-17T01:48:45.521Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:48:45.524Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:48:45.524Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:48:45.524Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:48:45.525Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY"}}
[debug] [2023-11-17T01:48:45.529Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.556951ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.556951ms"}}
[debug] [2023-11-17T01:48:45.529Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:48:45.530Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:48:45.530Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:48:45.530Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:48:48.326Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:48:48.326Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:48:48.326Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:48:48.326Z"],"workRunningCount":1}
[debug] [2023-11-17T01:48:48.326Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:48:48.329Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:48:48.329Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:48:48.330Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:48:48.330Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY"}}
[debug] [2023-11-17T01:48:48.333Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.121234ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.121234ms"}}
[debug] [2023-11-17T01:48:48.334Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:48:48.334Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:48:48.334Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:48:48.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:50:38.132Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T01:50:39.134Z] Validating nodejs source
[debug] [2023-11-17T01:50:40.973Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:50:40.974Z] Building nodejs source
[debug] [2023-11-17T01:50:40.974Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:50:40.977Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:50:40.979Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8944

[debug] [2023-11-17T01:50:42.002Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T01:50:43.003Z] Validating nodejs source
[debug] [2023-11-17T01:50:46.211Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:50:46.211Z] Building nodejs source
[debug] [2023-11-17T01:50:46.211Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:50:46.212Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:50:46.213Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:6916) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:6916) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T01:50:46.217Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Serving at port 8150

[error] (node:6923) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:6923) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T01:50:50.052Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T01:50:51.795Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:50:51.795Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:50:51.795Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:50:51.795Z"],"workRunningCount":1}
[debug] [2023-11-17T01:50:51.795Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:50:51.800Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:50:51.800Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:50:51.800Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:50:51.801Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY"}}
[debug] [2023-11-17T01:50:51.805Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.985224ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.985224ms"}}
[debug] [2023-11-17T01:50:51.806Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:50:51.806Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:50:51.806Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:50:51.806Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:50:51.820Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:50:51.820Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:50:51.820Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:50:51.820Z"],"workRunningCount":1}
[debug] [2023-11-17T01:50:51.821Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:50:51.823Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:50:51.823Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:50:51.824Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:50:51.824Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: BUSY"}}
[debug] [2023-11-17T01:50:51.828Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.437697ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.437697ms"}}
[debug] [2023-11-17T01:50:51.830Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: IDLE"}}
[debug] [2023-11-17T01:50:51.830Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:50:51.831Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:50:51.831Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T01:50:56.241Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T01:50:56.242Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: FINISHING"}}
[debug] [2023-11-17T01:50:56.258Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: exited"}}
[debug] [2023-11-17T01:50:56.259Z] [worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-ac1401b7-3a8e-4267-87d3-b5fc3d6524ec]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T01:51:29.411Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:51:29.411Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:51:29.411Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:51:29.411Z"],"workRunningCount":1}
[debug] [2023-11-17T01:51:29.411Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:51:29.414Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:51:29.414Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:51:29.414Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:51:29.426Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T01:51:29.426Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T01:51:31.850Z] [runtime-status] [7001] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T01:51:31.860Z] [runtime-status] [7001] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:51:31.861Z] [runtime-status] [7001] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T01:51:31.863Z] [runtime-status] [7001] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:51:32.478Z] [runtime-status] [7001] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T01:51:32.478Z] [runtime-status] [7001] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T01:51:32.478Z] [runtime-status] [7001] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:51:32.478Z] [runtime-status] [7001] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T01:51:32.482Z] [runtime-status] [7001] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:51:32.483Z] [runtime-status] [7001] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T01:51:33.290Z] [runtime-status] [7001] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:7001) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7001) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7001) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7001) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7001) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7001) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T01:51:33.292Z] [runtime-status] [7001] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_2c2f35d6fb5d6568.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7001] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_2c2f35d6fb5d6568.sock"}}
[debug] [2023-11-17T01:51:33.362Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE"}}
[debug] [2023-11-17T01:51:33.362Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:51:33.362Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: BUSY"}}
[debug] [2023-11-17T01:51:33.451Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 88.640141ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 88.640141ms"}}
[debug] [2023-11-17T01:51:33.451Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE"}}
[debug] [2023-11-17T01:51:33.452Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:51:33.452Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:51:33.452Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:51:33.456Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:51:33.456Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:51:33.456Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:51:33.456Z"],"workRunningCount":1}
[debug] [2023-11-17T01:51:33.456Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:51:33.459Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:51:33.459Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:51:33.459Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:51:33.459Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: BUSY"}}
[debug] [2023-11-17T01:51:33.505Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 45.707167ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 45.707167ms"}}
[debug] [2023-11-17T01:51:33.505Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE"}}
[debug] [2023-11-17T01:51:33.505Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:51:33.505Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:51:33.506Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T01:54:35.439Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers"}}
[debug] [2023-11-17T01:54:36.441Z] Validating nodejs source
[debug] [2023-11-17T01:54:38.273Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:54:38.273Z] Building nodejs source
[debug] [2023-11-17T01:54:38.273Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:54:38.274Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:54:38.277Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-17T01:54:38.299Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers"}}
[info] Serving at port 8582

[debug] [2023-11-17T01:54:39.300Z] Validating nodejs source
[debug] [2023-11-17T01:54:42.587Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:54:42.590Z] Building nodejs source
[debug] [2023-11-17T01:54:42.590Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:54:42.591Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:54:42.592Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:7044) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7044) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T01:54:42.595Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8704

[error] (node:7051) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7051) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T01:54:44.071Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[debug] [2023-11-17T01:54:51.353Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:54:51.353Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:54:51.353Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:54:51.353Z"],"workRunningCount":1}
[debug] [2023-11-17T01:54:51.353Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:54:51.357Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:54:51.357Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:54:51.357Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:54:51.358Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: BUSY"}}
[debug] [2023-11-17T01:54:51.364Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.618886ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.618886ms"}}
[debug] [2023-11-17T01:54:51.364Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE"}}
[debug] [2023-11-17T01:54:51.365Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:54:51.365Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:54:51.365Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:54:51.379Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:54:51.379Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:54:51.379Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:54:51.379Z"],"workRunningCount":1}
[debug] [2023-11-17T01:54:51.379Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:54:51.381Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:54:51.381Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:54:51.382Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:54:51.382Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: BUSY"}}
[debug] [2023-11-17T01:54:51.389Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.47529ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.47529ms"}}
[debug] [2023-11-17T01:54:51.390Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: IDLE"}}
[debug] [2023-11-17T01:54:51.390Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:54:51.390Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:54:51.390Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T01:54:52.644Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T01:54:52.645Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: FINISHING"}}
[debug] [2023-11-17T01:54:52.659Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: exited"}}
[debug] [2023-11-17T01:54:52.659Z] [worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6f83c9a9-6786-4296-a1e9-ebdcf10f712b]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T01:54:54.534Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:54:54.534Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:54:54.534Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:54:54.534Z"],"workRunningCount":1}
[debug] [2023-11-17T01:54:54.534Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:54:54.536Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:54:54.536Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:54:54.537Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:54:54.540Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T01:54:54.540Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T01:54:56.619Z] [runtime-status] [7058] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T01:54:56.619Z] [runtime-status] [7058] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:54:56.619Z] [runtime-status] [7058] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T01:54:56.620Z] [runtime-status] [7058] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:54:56.875Z] [runtime-status] [7058] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T01:54:56.876Z] [runtime-status] [7058] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T01:54:56.877Z] [runtime-status] [7058] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:54:56.879Z] [runtime-status] [7058] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T01:54:56.883Z] [runtime-status] [7058] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T01:54:56.884Z] [runtime-status] [7058] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T01:54:57.337Z] [runtime-status] [7058] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:7058) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7058) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7058) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7058) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7058) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7058) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T01:54:57.340Z] [runtime-status] [7058] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_4265787a37cf6131.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7058] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_4265787a37cf6131.sock"}}
[debug] [2023-11-17T01:54:57.488Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: IDLE"}}
[debug] [2023-11-17T01:54:57.488Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:54:57.489Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T01:55:02.065Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4576.974475ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4576.974475ms"}}
[debug] [2023-11-17T01:55:02.066Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: IDLE"}}
[debug] [2023-11-17T01:55:02.066Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:55:02.066Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:55:02.066Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:55:24.006Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:55:24.006Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:55:24.006Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:55:24.006Z"],"workRunningCount":1}
[debug] [2023-11-17T01:55:24.006Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:55:24.009Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:55:24.009Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:55:24.009Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:55:24.009Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: BUSY"}}
[debug] [2023-11-17T01:55:24.015Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5.77274ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.77274ms"}}
[debug] [2023-11-17T01:55:24.015Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: IDLE"}}
[debug] [2023-11-17T01:55:24.015Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:55:24.015Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:55:24.016Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:55:24.026Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:55:24.026Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:55:24.026Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T01:55:24.026Z"],"workRunningCount":1}
[debug] [2023-11-17T01:55:24.026Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T01:55:24.028Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T01:55:24.029Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T01:55:24.029Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T01:55:24.029Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: BUSY"}}
[debug] [2023-11-17T01:55:24.386Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 357.214168ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 357.214168ms"}}
[debug] [2023-11-17T01:55:24.387Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: IDLE"}}
[debug] [2023-11-17T01:55:24.387Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T01:55:24.387Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T01:55:24.387Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T01:56:01.622Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js changed, reloading triggers"}}
[debug] [2023-11-17T01:56:02.624Z] Validating nodejs source
[debug] [2023-11-17T01:56:03.843Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:56:03.844Z] Building nodejs source
[debug] [2023-11-17T01:56:03.844Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:56:03.846Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:56:03.847Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8080

[error] (node:7074) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7074) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T01:56:05.815Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T01:56:15.833Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T01:56:15.833Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: FINISHING"}}
[debug] [2023-11-17T01:56:15.851Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: exited"}}
[debug] [2023-11-17T01:56:15.851Z] [worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c49d6747-96b3-44cb-935d-f98dceba4096]: FINISHED"}}
[debug] [2023-11-17T01:56:25.270Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/userRoutes.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/userRoutes.js changed, reloading triggers"}}
[debug] [2023-11-17T01:56:26.275Z] Validating nodejs source
[debug] [2023-11-17T01:56:29.035Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T01:56:29.035Z] Building nodejs source
[debug] [2023-11-17T01:56:29.035Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T01:56:29.036Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T01:56:29.038Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8816

[error] (node:7109) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7109) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T01:56:31.582Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:03:20.535Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T02:03:21.544Z] Validating nodejs source
[debug] [2023-11-17T02:03:23.765Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:03:23.766Z] Building nodejs source
[debug] [2023-11-17T02:03:23.766Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:03:23.770Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T02:03:23.771Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:03:23.773Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8219

[debug] [2023-11-17T02:03:24.771Z] Validating nodejs source
[debug] [2023-11-17T02:03:26.709Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:03:26.709Z] Building nodejs source
[debug] [2023-11-17T02:03:26.709Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:03:26.710Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T02:03:26.710Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:03:26.711Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:7339) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7339) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:03:26.715Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8413

[debug] [2023-11-17T02:03:27.792Z] Validating nodejs source
[debug] [2023-11-17T02:03:30.441Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:03:30.441Z] Building nodejs source
[debug] [2023-11-17T02:03:30.441Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:03:30.442Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:03:30.443Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:7347) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7347) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:03:30.446Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Serving at port 8536

[error] (node:7351) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7351) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:03:32.194Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:04:06.954Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:06.954Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:04:06.954Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:06.954Z"],"workRunningCount":1}
[debug] [2023-11-17T02:04:06.954Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:04:06.959Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:04:06.960Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:04:06.960Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:04:06.962Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T02:04:06.963Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T02:04:09.406Z] [runtime-status] [7371] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:04:09.410Z] [runtime-status] [7371] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:04:09.410Z] [runtime-status] [7371] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T02:04:09.410Z] [runtime-status] [7371] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:04:09.614Z] [runtime-status] [7371] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T02:04:09.614Z] [runtime-status] [7371] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T02:04:09.615Z] [runtime-status] [7371] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:04:09.616Z] [runtime-status] [7371] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:04:09.620Z] [runtime-status] [7371] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:04:09.620Z] [runtime-status] [7371] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T02:04:09.987Z] [runtime-status] [7371] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:7371) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7371) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7371) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7371) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7371) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7371) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T02:04:09.990Z] [runtime-status] [7371] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_3102d92a36d396bb.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7371] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_3102d92a36d396bb.sock"}}
[debug] [2023-11-17T02:04:10.030Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE"}}
[debug] [2023-11-17T02:04:10.030Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:04:10.031Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY"}}
[debug] [2023-11-17T02:04:10.120Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 89.443601ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 89.443601ms"}}
[debug] [2023-11-17T02:04:10.120Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE"}}
[debug] [2023-11-17T02:04:10.120Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:04:10.120Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:04:10.121Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:04:10.124Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:10.124Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:04:10.125Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:10.124Z"],"workRunningCount":1}
[debug] [2023-11-17T02:04:10.125Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:04:10.127Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:04:10.127Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:04:10.127Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:04:10.127Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: Cannot read properties of undefined (reading 'MapID') {"user":"Error: Cannot read properties of undefined (reading 'MapID')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Cannot read properties of undefined (reading 'MapID')"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:195:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:195:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:195:13)"}}
[info] >      at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34) {"user":"    at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3) {"user":"    at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)"}}
[debug] [2023-11-17T02:04:10.161Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 33.47674ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 33.47674ms"}}
[debug] [2023-11-17T02:04:10.161Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE"}}
[debug] [2023-11-17T02:04:10.161Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:04:10.161Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:04:10.162Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T02:04:13.078Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:13.078Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:04:13.078Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:13.078Z"],"workRunningCount":1}
[debug] [2023-11-17T02:04:13.078Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:04:13.081Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:04:13.081Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:04:13.081Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:04:13.081Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: Cannot read properties of undefined (reading 'MapID') {"user":"Error: Cannot read properties of undefined (reading 'MapID')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: Cannot read properties of undefined (reading 'MapID')"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:195:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:195:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:195:13)"}}
[info] >      at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34) {"user":"    at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3) {"user":"    at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)"}}
[debug] [2023-11-17T02:04:13.088Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.244211ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.244211ms"}}
[debug] [2023-11-17T02:04:13.089Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE"}}
[debug] [2023-11-17T02:04:13.089Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:04:13.089Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:04:13.089Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:04:50.693Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:50.693Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:04:50.693Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:50.693Z"],"workRunningCount":1}
[debug] [2023-11-17T02:04:50.693Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:04:50.695Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:04:50.696Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:04:50.696Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:04:50.696Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY"}}
[debug] [2023-11-17T02:04:50.700Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.823805ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.823805ms"}}
[debug] [2023-11-17T02:04:50.700Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE"}}
[debug] [2023-11-17T02:04:50.700Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:04:50.700Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:04:50.701Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:04:50.705Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:50.705Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:04:50.706Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:04:50.705Z"],"workRunningCount":1}
[debug] [2023-11-17T02:04:50.706Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:04:50.708Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:04:50.708Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:04:50.708Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:04:50.708Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: BUSY"}}
[debug] [2023-11-17T02:04:51.067Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 358.989526ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 358.989526ms"}}
[debug] [2023-11-17T02:04:51.068Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: IDLE"}}
[debug] [2023-11-17T02:04:51.068Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:04:51.068Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:04:51.068Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:05:59.790Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:06:00.792Z] Validating nodejs source
[debug] [2023-11-17T02:06:02.010Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:06:02.011Z] Building nodejs source
[debug] [2023-11-17T02:06:02.011Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:06:02.012Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:06:02.012Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:06:02.014Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8338

[debug] [2023-11-17T02:06:03.014Z] Validating nodejs source
[debug] [2023-11-17T02:06:06.840Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:06:06.840Z] Building nodejs source
[debug] [2023-11-17T02:06:06.841Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:7422) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7422) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:06:06.842Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T02:06:06.843Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:06:06.845Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8118

[error] (node:7432) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7432) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[info] Connected to MongoDB Atlas

[debug] [2023-11-17T02:06:08.406Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T02:06:10.840Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T02:06:11.841Z] Validating nodejs source
[debug] [2023-11-17T02:06:13.663Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:06:13.663Z] Building nodejs source
[debug] [2023-11-17T02:06:13.663Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:06:13.665Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:06:13.666Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-17T02:06:14.014Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[info] Serving at port 8000

[debug] [2023-11-17T02:06:15.018Z] Validating nodejs source
[debug] [2023-11-17T02:06:17.430Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:06:17.430Z] Building nodejs source
[debug] [2023-11-17T02:06:17.431Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:7441) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7441) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:06:17.433Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T02:06:17.434Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:06:17.435Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:06:17.444Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T02:06:17.444Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: FINISHING"}}
[debug] [2023-11-17T02:06:17.477Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: exited"}}
[debug] [2023-11-17T02:06:17.477Z] [worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-430a9f62-bd8f-4658-9004-9f37f2e181a5]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8328

[info] Connected to MongoDB Atlas

[error] (node:7446) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7446) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:06:19.419Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:06:30.565Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:06:30.565Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:06:30.566Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:06:30.565Z"],"workRunningCount":1}
[debug] [2023-11-17T02:06:30.566Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:06:30.570Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:06:30.570Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:06:30.571Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:06:30.572Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T02:06:30.573Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T02:06:33.092Z] [runtime-status] [7455] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:06:33.092Z] [runtime-status] [7455] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:06:33.092Z] [runtime-status] [7455] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T02:06:33.094Z] [runtime-status] [7455] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:06:33.302Z] [runtime-status] [7455] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T02:06:33.303Z] [runtime-status] [7455] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T02:06:33.304Z] [runtime-status] [7455] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:06:33.305Z] [runtime-status] [7455] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:06:33.310Z] [runtime-status] [7455] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:06:33.310Z] [runtime-status] [7455] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T02:06:33.708Z] [runtime-status] [7455] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:7455) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7455) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7455) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7455) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7455) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7455) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T02:06:33.711Z] [runtime-status] [7455] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_029f8b2b02f43e9b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7455] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_029f8b2b02f43e9b.sock"}}
[debug] [2023-11-17T02:06:33.771Z] [worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: IDLE"}}
[debug] [2023-11-17T02:06:33.772Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:06:33.772Z] [worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: BUSY"}}
[debug] [2023-11-17T02:06:33.856Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 83.886036ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 83.886036ms"}}
[debug] [2023-11-17T02:06:33.856Z] [worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: IDLE"}}
[debug] [2023-11-17T02:06:33.856Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:06:33.856Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:06:33.856Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:06:33.860Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:06:33.860Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:06:33.860Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:06:33.860Z"],"workRunningCount":1}
[debug] [2023-11-17T02:06:33.861Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:06:33.863Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:06:33.863Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:06:33.863Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:06:33.864Z] [worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T02:06:38.486Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4622.257146ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4622.257146ms"}}
[debug] [2023-11-17T02:06:38.486Z] [worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: IDLE"}}
[debug] [2023-11-17T02:06:38.486Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:06:38.487Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:06:38.487Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:07:06.540Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:07:07.544Z] Validating nodejs source
[debug] [2023-11-17T02:07:09.448Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:07:09.448Z] Building nodejs source
[debug] [2023-11-17T02:07:09.448Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:07:09.449Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:07:09.451Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8707

[error] (node:7470) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7470) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:07:10.551Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:07:20.573Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T02:07:20.573Z] [worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: FINISHING"}}
[debug] [2023-11-17T02:07:20.586Z] [worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: exited"}}
[debug] [2023-11-17T02:07:20.586Z] [worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-87fc00bf-5d1f-47ff-bff9-ff7af69c0f5b]: FINISHED"}}
[debug] [2023-11-17T02:11:04.376Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:11:05.377Z] Validating nodejs source
[debug] [2023-11-17T02:11:06.899Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:11:06.899Z] Building nodejs source
[debug] [2023-11-17T02:11:06.900Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:11:06.900Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:11:06.902Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8418

[error] Error: Cannot find module '../controllers/userController'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)
    at Module._load (node:internal/modules/cjs/loader:920:27)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:8:24)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2023-11-17T02:11:08.924Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../controllers/userController'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:11:28.374Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:11:29.376Z] Validating nodejs source
[debug] [2023-11-17T02:11:30.735Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:11:30.735Z] Building nodejs source
[debug] [2023-11-17T02:11:30.735Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:11:30.737Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:11:30.738Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-17T02:11:31.068Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8154

[debug] [2023-11-17T02:11:32.074Z] Validating nodejs source
[debug] [2023-11-17T02:11:33.473Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:11:33.473Z] Building nodejs source
[debug] [2023-11-17T02:11:33.473Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] Error: Cannot find module '../controllers/userController'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)
    at Module._load (node:internal/modules/cjs/loader:920:27)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:8:24)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2023-11-17T02:11:33.475Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../controllers/userController'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[debug] [2023-11-17T02:11:33.475Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:11:33.478Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8311

[error] Error: Cannot find module '../controllers/userController'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)
    at Module._load (node:internal/modules/cjs/loader:920:27)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:8:24)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2023-11-17T02:11:35.406Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../controllers/userController'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:12:21.057Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:12:22.058Z] Validating nodejs source
[debug] [2023-11-17T02:12:23.601Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:12:23.601Z] Building nodejs source
[debug] [2023-11-17T02:12:23.601Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:12:23.602Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:12:23.602Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:12:23.604Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8175

[debug] [2023-11-17T02:12:24.091Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:12:24.191Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:12:25.192Z] Validating nodejs source
[debug] [2023-11-17T02:12:26.396Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:12:26.396Z] Building nodejs source
[debug] [2023-11-17T02:12:26.396Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:7591) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7591) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:12:26.399Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T02:12:26.400Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:12:26.401Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-17T02:12:26.883Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8247

[error] Error: Cannot find module '../database/model/UserModel'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)
    at Module._load (node:internal/modules/cjs/loader:920:27)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:8:19)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2023-11-17T02:12:27.787Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../database/model/UserModel'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:12:27.884Z] Validating nodejs source
[debug] [2023-11-17T02:12:28.964Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:12:28.964Z] Building nodejs source
[debug] [2023-11-17T02:12:28.964Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T02:12:28.965Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:12:28.966Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8975

[error] Error: Cannot find module '../database/model/UserModel'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)
    at Module._load (node:internal/modules/cjs/loader:920:27)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:8:19)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2023-11-17T02:12:30.657Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../database/model/UserModel'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:12:35.592Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:12:36.594Z] Validating nodejs source
[debug] [2023-11-17T02:12:38.226Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:12:38.227Z] Building nodejs source
[debug] [2023-11-17T02:12:38.227Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:12:38.228Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:12:38.228Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:12:38.229Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8179

[debug] [2023-11-17T02:12:39.229Z] Validating nodejs source
[debug] [2023-11-17T02:12:41.447Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:12:41.447Z] Building nodejs source
[debug] [2023-11-17T02:12:41.447Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] Error: Cannot find module '../database/model/'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)
    at Module._load (node:internal/modules/cjs/loader:920:27)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:8:19)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2023-11-17T02:12:41.449Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../database/model/'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[debug] [2023-11-17T02:12:41.450Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:12:41.451Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8656

[error] Error: Cannot find module '../database/model/'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)
    at Module._load (node:internal/modules/cjs/loader:920:27)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:8:19)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2023-11-17T02:12:42.750Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../database/model/'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:12:45.032Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:12:46.033Z] Validating nodejs source
[debug] [2023-11-17T02:12:48.011Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:12:48.011Z] Building nodejs source
[debug] [2023-11-17T02:12:48.011Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:12:48.012Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:12:48.013Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8027

[error] Error: Cannot find module '../'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)
    at Module._load (node:internal/modules/cjs/loader:920:27)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:8:19)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js',
    '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js'
  ]
}

[debug] [2023-11-17T02:12:49.146Z] Got response code 400; body Failed to generate manifest from function source: Error: Cannot find module '../'
Require stack:
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/app.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/index.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/runtime/loader.js
- /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/bin/firebase-functions.js
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:12:49.520Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:12:50.522Z] Validating nodejs source
[debug] [2023-11-17T02:12:51.785Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:12:51.785Z] Building nodejs source
[debug] [2023-11-17T02:12:51.785Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:12:51.787Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:12:51.788Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-17T02:12:51.903Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8929

[debug] [2023-11-17T02:12:52.905Z] Validating nodejs source
[debug] [2023-11-17T02:12:54.301Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:12:54.301Z] Building nodejs source
[debug] [2023-11-17T02:12:54.301Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:7630) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7630) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:12:54.303Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T02:12:54.305Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:12:54.306Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8912

[error] (node:7633) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7633) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:12:55.459Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:15:26.225Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:15:26.225Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:15:26.225Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:15:26.225Z"],"workRunningCount":1}
[debug] [2023-11-17T02:15:26.225Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:15:26.230Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:15:26.230Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:15:26.230Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:15:26.234Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T02:15:26.235Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T02:15:28.371Z] [runtime-status] [7668] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:15:28.373Z] [runtime-status] [7668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:15:28.374Z] [runtime-status] [7668] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T02:15:28.375Z] [runtime-status] [7668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:15:28.885Z] [runtime-status] [7668] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T02:15:28.885Z] [runtime-status] [7668] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T02:15:28.886Z] [runtime-status] [7668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:15:28.888Z] [runtime-status] [7668] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:15:28.892Z] [runtime-status] [7668] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:15:28.892Z] [runtime-status] [7668] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T02:15:29.938Z] [runtime-status] [7668] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:7668) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7668) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7668) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7668) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7668) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7668) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T02:15:29.941Z] [runtime-status] [7668] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_c89062120bddac6e.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7668] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_c89062120bddac6e.sock"}}
[debug] [2023-11-17T02:15:30.100Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE"}}
[debug] [2023-11-17T02:15:30.101Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:15:30.101Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY"}}
[debug] [2023-11-17T02:15:30.112Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 10.879865ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 10.879865ms"}}
[debug] [2023-11-17T02:15:30.112Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE"}}
[debug] [2023-11-17T02:15:30.112Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:15:30.112Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:15:30.112Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:15:30.117Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:15:30.117Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:15:30.118Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:15:30.117Z"],"workRunningCount":1}
[debug] [2023-11-17T02:15:30.118Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:15:30.120Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:15:30.120Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:15:30.120Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:15:30.121Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: bubblemap is not defined {"user":"Error: bubblemap is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: bubblemap is not defined"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)"}}
[info] >      at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34) {"user":"    at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3) {"user":"    at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)"}}
[debug] [2023-11-17T02:15:30.162Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 41.646772ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 41.646772ms"}}
[debug] [2023-11-17T02:15:30.169Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE"}}
[debug] [2023-11-17T02:15:30.169Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:15:30.169Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:15:30.169Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T02:15:37.163Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:15:37.163Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:15:37.164Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:15:37.163Z"],"workRunningCount":1}
[debug] [2023-11-17T02:15:37.164Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:15:37.168Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:15:37.168Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:15:37.168Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:15:37.169Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY"}}
[debug] [2023-11-17T02:15:37.173Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.788084ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.788084ms"}}
[debug] [2023-11-17T02:15:37.174Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE"}}
[debug] [2023-11-17T02:15:37.174Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:15:37.174Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:15:37.174Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:15:37.194Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:15:37.194Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:15:37.194Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:15:37.194Z"],"workRunningCount":1}
[debug] [2023-11-17T02:15:37.194Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:15:37.196Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:15:37.197Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:15:37.197Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:15:37.197Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: bubblemap is not defined {"user":"Error: bubblemap is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: bubblemap is not defined"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)"}}
[info] >      at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34) {"user":"    at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3) {"user":"    at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)"}}
[debug] [2023-11-17T02:15:37.209Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 12.404902ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 12.404902ms"}}
[debug] [2023-11-17T02:15:37.210Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE"}}
[debug] [2023-11-17T02:15:37.210Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:15:37.210Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:15:37.210Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:15:54.947Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:15:55.947Z] Validating nodejs source
[debug] [2023-11-17T02:15:59.656Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:15:59.656Z] Building nodejs source
[debug] [2023-11-17T02:15:59.656Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:15:59.659Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:15:59.660Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8485

[error] (node:7690) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7690) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:16:02.657Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T02:16:03.037Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:03.037Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:16:03.037Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:03.037Z"],"workRunningCount":1}
[debug] [2023-11-17T02:16:03.037Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:16:03.040Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:16:03.041Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:16:03.041Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:16:03.041Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY"}}
[debug] [2023-11-17T02:16:03.048Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.430318ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.430318ms"}}
[debug] [2023-11-17T02:16:03.049Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE"}}
[debug] [2023-11-17T02:16:03.049Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:16:03.049Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:16:03.049Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:16:03.061Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:03.061Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:16:03.062Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:03.061Z"],"workRunningCount":1}
[debug] [2023-11-17T02:16:03.062Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:16:03.064Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:16:03.064Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:16:03.064Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:16:03.064Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: bubblemap is not defined {"user":"Error: bubblemap is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: bubblemap is not defined"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)"}}
[info] >      at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34) {"user":"    at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3) {"user":"    at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)"}}
[debug] [2023-11-17T02:16:03.070Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.118534ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.118534ms"}}
[debug] [2023-11-17T02:16:03.071Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE"}}
[debug] [2023-11-17T02:16:03.071Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:16:03.071Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:16:03.071Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:16:05.291Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:05.291Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:16:05.291Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:05.291Z"],"workRunningCount":1}
[debug] [2023-11-17T02:16:05.291Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:16:05.293Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:16:05.293Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:16:05.293Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:16:05.293Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: bubblemap is not defined {"user":"Error: bubblemap is not defined","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: bubblemap is not defined"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)"}}
[info] >      at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34) {"user":"    at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3) {"user":"    at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)"}}
[debug] [2023-11-17T02:16:05.301Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.495739ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.495739ms"}}
[debug] [2023-11-17T02:16:05.301Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: IDLE"}}
[debug] [2023-11-17T02:16:05.301Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:16:05.301Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:16:05.301Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:16:12.687Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T02:16:12.688Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: FINISHING"}}
[debug] [2023-11-17T02:16:12.701Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: exited"}}
[debug] [2023-11-17T02:16:12.702Z] [worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-c71d9f42-2376-4a98-a9f9-19926da6ab14]: FINISHED"}}
[debug] [2023-11-17T02:16:54.166Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:54.166Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:16:54.166Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:54.166Z"],"workRunningCount":1}
[debug] [2023-11-17T02:16:54.166Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:16:54.169Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:16:54.170Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:16:54.170Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:16:54.172Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T02:16:54.172Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T02:16:56.880Z] [runtime-status] [7701] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:16:56.880Z] [runtime-status] [7701] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:16:56.880Z] [runtime-status] [7701] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T02:16:56.880Z] [runtime-status] [7701] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:16:57.421Z] [runtime-status] [7701] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T02:16:57.421Z] [runtime-status] [7701] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T02:16:57.423Z] [runtime-status] [7701] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:16:57.424Z] [runtime-status] [7701] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:16:57.427Z] [runtime-status] [7701] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:16:57.427Z] [runtime-status] [7701] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T02:16:58.294Z] [runtime-status] [7701] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:7701) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7701) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7701) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7701) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7701) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7701) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T02:16:58.296Z] [runtime-status] [7701] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_68b15abb3cbc2012.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7701] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_68b15abb3cbc2012.sock"}}
[debug] [2023-11-17T02:16:58.425Z] [worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: IDLE"}}
[debug] [2023-11-17T02:16:58.425Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:16:58.425Z] [worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: BUSY"}}
[debug] [2023-11-17T02:16:58.432Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.403033ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.403033ms"}}
[debug] [2023-11-17T02:16:58.432Z] [worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: IDLE"}}
[debug] [2023-11-17T02:16:58.432Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:16:58.432Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:16:58.432Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:16:58.438Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:58.438Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:16:58.438Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:16:58.438Z"],"workRunningCount":1}
[debug] [2023-11-17T02:16:58.438Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:16:58.441Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:16:58.441Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:16:58.441Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:16:58.442Z] [worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T02:17:04.521Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6080.086907ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6080.086907ms"}}
[debug] [2023-11-17T02:17:04.522Z] [worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: IDLE"}}
[debug] [2023-11-17T02:17:04.522Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:17:04.522Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:17:04.522Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:17:21.361Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:17:22.361Z] Validating nodejs source
[debug] [2023-11-17T02:17:23.891Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:17:23.892Z] Building nodejs source
[debug] [2023-11-17T02:17:23.892Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:17:23.895Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:17:23.896Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8611

[error] (node:7717) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7717) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:17:25.263Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:17:35.281Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T02:17:35.282Z] [worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: FINISHING"}}
[debug] [2023-11-17T02:17:35.294Z] [worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: exited"}}
[debug] [2023-11-17T02:17:35.294Z] [worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-e80fec1a-5b70-4062-8d9d-09157421989b]: FINISHED"}}
[debug] [2023-11-17T02:17:45.938Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:17:46.941Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:17:46.941Z] Validating nodejs source
[debug] [2023-11-17T02:17:49.251Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:17:49.252Z] Building nodejs source
[debug] [2023-11-17T02:17:49.252Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:17:49.253Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:17:49.254Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-17T02:17:49.257Z] Validating nodejs source
[debug] [2023-11-17T02:17:50.456Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:17:50.456Z] Building nodejs source
[debug] [2023-11-17T02:17:50.456Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[info] Serving at port 8574

[debug] [2023-11-17T02:17:50.458Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:17:50.459Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8156

[error] (node:7730) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7730) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:17:52.169Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[error] (node:7734) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7734) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:17:52.521Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[debug] [2023-11-17T02:17:55.512Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:17:56.516Z] Validating nodejs source
[debug] [2023-11-17T02:17:58.679Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:17:58.680Z] Building nodejs source
[debug] [2023-11-17T02:17:58.680Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:17:58.683Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:17:58.684Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8724

[error] (node:7744) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7744) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:18:00.143Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:18:16.532Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:18:16.532Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:18:16.532Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:18:16.532Z"],"workRunningCount":1}
[debug] [2023-11-17T02:18:16.532Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:18:16.535Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:18:16.536Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:18:16.536Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:18:16.538Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T02:18:16.538Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T02:18:18.595Z] [runtime-status] [7751] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:18:18.596Z] [runtime-status] [7751] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:18:18.597Z] [runtime-status] [7751] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T02:18:18.598Z] [runtime-status] [7751] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:18:18.800Z] [runtime-status] [7751] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T02:18:18.800Z] [runtime-status] [7751] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T02:18:18.801Z] [runtime-status] [7751] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:18:18.802Z] [runtime-status] [7751] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:18:18.807Z] [runtime-status] [7751] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:18:18.807Z] [runtime-status] [7751] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T02:18:19.171Z] [runtime-status] [7751] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:7751) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7751) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7751) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:7751) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:7751) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:7751) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T02:18:19.173Z] [runtime-status] [7751] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_9a4bf99d407318d5.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [7751] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_9a4bf99d407318d5.sock"}}
[debug] [2023-11-17T02:18:19.297Z] [worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: IDLE"}}
[debug] [2023-11-17T02:18:19.297Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:18:19.297Z] [worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: BUSY"}}
[debug] [2023-11-17T02:18:19.304Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.636525ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.636525ms"}}
[debug] [2023-11-17T02:18:19.304Z] [worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: IDLE"}}
[debug] [2023-11-17T02:18:19.304Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:18:19.304Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:18:19.304Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:18:19.308Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:18:19.308Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:18:19.308Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:18:19.308Z"],"workRunningCount":1}
[debug] [2023-11-17T02:18:19.308Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:18:19.310Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:18:19.310Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:18:19.310Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:18:19.311Z] [worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: UserModel.findByIdAndUpdate is not a function {"user":"Error: UserModel.findByIdAndUpdate is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: UserModel.findByIdAndUpdate is not a function"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:196:13)"}}
[info] >      at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34) {"user":"    at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:34)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:144:13)"}}
[info] >      at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3) {"user":"    at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Route.dispatch (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/route.js:114:3)"}}
[info] >      at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5) {"user":"    at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Layer.handle [as handle_request] (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/layer.js:95:5)"}}
[info] >      at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15 {"user":"    at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:284:15"}}
[info] >      at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12) {"user":"    at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.process_params (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:346:12)"}}
[info] >      at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10) {"user":"    at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at next (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:280:10)"}}
[info] >      at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3) {"user":"    at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at Function.handle (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/express/lib/router/index.js:175:3)"}}
[debug] [2023-11-17T02:18:19.336Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 25.726457ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 25.726457ms"}}
[debug] [2023-11-17T02:18:19.337Z] [worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: IDLE"}}
[debug] [2023-11-17T02:18:19.337Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:18:19.337Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:18:19.337Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T02:25:29.706Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/UserModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/UserModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:25:30.711Z] Validating nodejs source
[debug] [2023-11-17T02:25:32.866Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:25:32.866Z] Building nodejs source
[debug] [2023-11-17T02:25:32.866Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:25:32.868Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:25:32.869Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8158

[error] (node:7793) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7793) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:25:34.868Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:25:44.884Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T02:25:44.885Z] [worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: FINISHING"}}
[debug] [2023-11-17T02:25:44.901Z] [worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: exited"}}
[debug] [2023-11-17T02:25:44.901Z] [worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-7f1fc828-1d32-4b97-a8bd-be8cd5dd4f43]: FINISHED"}}
[debug] [2023-11-17T02:30:24.898Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:30:25.900Z] Validating nodejs source
[debug] [2023-11-17T02:30:27.731Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:30:27.731Z] Building nodejs source
[debug] [2023-11-17T02:30:27.731Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:30:27.733Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:30:27.733Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8930

[error] (node:7889) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7889) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:30:29.410Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:30:45.724Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:30:46.725Z] Validating nodejs source
[debug] [2023-11-17T02:30:48.344Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:30:48.345Z] Building nodejs source
[debug] [2023-11-17T02:30:48.345Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:30:48.346Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:30:48.347Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[debug] [2023-11-17T02:30:48.515Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8500

[debug] [2023-11-17T02:30:49.516Z] Validating nodejs source
[debug] [2023-11-17T02:30:51.138Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:30:51.138Z] Building nodejs source
[debug] [2023-11-17T02:30:51.138Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:30:51.139Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:30:51.140Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:30:51.141Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:7900) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7900) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:30:51.143Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8125

[debug] [2023-11-17T02:30:52.140Z] Validating nodejs source
[debug] [2023-11-17T02:30:54.039Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:30:54.040Z] Building nodejs source
[debug] [2023-11-17T02:30:54.040Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:30:54.041Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:30:54.042Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[error] (node:7904) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7904) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:30:54.045Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8262

[error] (node:7909) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7909) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:30:55.197Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:31:02.656Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:31:03.658Z] Validating nodejs source
[debug] [2023-11-17T02:31:05.011Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:31:05.011Z] Building nodejs source
[debug] [2023-11-17T02:31:05.012Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:31:05.012Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:31:05.013Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:31:05.014Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8162

[debug] [2023-11-17T02:31:06.016Z] Validating nodejs source
[debug] [2023-11-17T02:31:07.474Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:31:07.474Z] Building nodejs source
[debug] [2023-11-17T02:31:07.474Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:7920) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:7920) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:31:07.476Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T02:31:07.476Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:31:07.477Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8597

[error] (node:7922) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:7922) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:31:08.895Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[debug] [2023-11-17T02:31:14.288Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:31:15.291Z] Validating nodejs source
[debug] [2023-11-17T02:31:17.696Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:31:17.696Z] Building nodejs source
[debug] [2023-11-17T02:31:17.697Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:31:17.700Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:31:17.706Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 8484

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:185
      await UserModel.findByIdAndUpdate(,);
                                        ^

SyntaxError: Unexpected token ','
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T02:31:19.349Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ','
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:32:43.484Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:32:44.489Z] Validating nodejs source
[debug] [2023-11-17T02:32:45.771Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:32:45.771Z] Building nodejs source
[debug] [2023-11-17T02:32:45.771Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:32:45.772Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:32:45.772Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:32:45.775Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8551

[debug] [2023-11-17T02:32:46.776Z] Validating nodejs source
[debug] [2023-11-17T02:32:48.932Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:32:48.932Z] Building nodejs source
[debug] [2023-11-17T02:32:48.932Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:185
      await UserModel.findByIdAndUpdate(,);
                                        ^

SyntaxError: Unexpected token ','
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T02:32:48.934Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ','
[debug] [2023-11-17T02:32:48.937Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:32:48.938Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8369

[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:185
      await UserModel.findByIdAndUpdate(,);
                                        ^

SyntaxError: Unexpected token ','
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T02:32:50.476Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ','
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:33:15.913Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T02:33:16.914Z] Validating nodejs source
[debug] [2023-11-17T02:33:19.007Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:33:19.007Z] Building nodejs source
[debug] [2023-11-17T02:33:19.007Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:33:19.009Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:33:19.010Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8322

[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:141
    const { userId, mapData, mapData } = req.body;
                             ^

SyntaxError: Identifier 'mapData' has already been declared
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/routes/mapRoutes.js:6:23)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T02:33:20.431Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Identifier 'mapData' has already been declared
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:33:21.933Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T02:33:22.935Z] Validating nodejs source
[debug] [2023-11-17T02:33:24.944Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:33:24.944Z] Building nodejs source
[debug] [2023-11-17T02:33:24.944Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:33:24.946Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:33:24.946Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8890

[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:185
      await UserModel.findByIdAndUpdate(,);
                                        ^

SyntaxError: Unexpected token ','
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T02:33:26.376Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ','
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:34:10.371Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js changed, reloading triggers"}}
[debug] [2023-11-17T02:34:11.373Z] Validating nodejs source
[debug] [2023-11-17T02:34:13.891Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:34:13.891Z] Building nodejs source
[debug] [2023-11-17T02:34:13.891Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:34:13.892Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:34:13.893Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8484

[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:185
      await UserModel.findByIdAndUpdate(,);
                                        ^

SyntaxError: Unexpected token ','
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T02:34:15.279Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token ','
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T02:34:19.423Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:34:20.427Z] Validating nodejs source
[debug] [2023-11-17T02:34:21.516Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:34:21.516Z] Building nodejs source
[debug] [2023-11-17T02:34:21.516Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:34:21.517Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:34:21.518Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8981

[error] (node:8028) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8028) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:34:23.026Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:35:04.543Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:35:04.543Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:35:04.544Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:35:04.543Z"],"workRunningCount":1}
[debug] [2023-11-17T02:35:04.544Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:35:04.552Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:35:04.552Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:35:04.552Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:35:04.562Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T02:35:04.563Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T02:35:06.752Z] [runtime-status] [8048] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:35:06.753Z] [runtime-status] [8048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:35:06.754Z] [runtime-status] [8048] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T02:35:06.755Z] [runtime-status] [8048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:35:06.963Z] [runtime-status] [8048] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T02:35:06.963Z] [runtime-status] [8048] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T02:35:06.964Z] [runtime-status] [8048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:35:06.965Z] [runtime-status] [8048] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:35:06.972Z] [runtime-status] [8048] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:35:06.973Z] [runtime-status] [8048] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T02:35:07.736Z] [runtime-status] [8048] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:8048) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8048) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8048) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8048) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8048) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8048) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T02:35:07.738Z] [runtime-status] [8048] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_3ed71661b3c5489b.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8048] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_3ed71661b3c5489b.sock"}}
[debug] [2023-11-17T02:35:07.870Z] [worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: IDLE"}}
[debug] [2023-11-17T02:35:07.870Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:35:07.870Z] [worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: BUSY"}}
[debug] [2023-11-17T02:35:07.877Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.711808ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.711808ms"}}
[debug] [2023-11-17T02:35:07.877Z] [worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: IDLE"}}
[debug] [2023-11-17T02:35:07.877Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:35:07.878Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:35:07.878Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:35:07.883Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:35:07.883Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:35:07.883Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:35:07.883Z"],"workRunningCount":1}
[debug] [2023-11-17T02:35:07.883Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:35:07.885Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:35:07.885Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:35:07.886Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:35:07.886Z] [worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: BUSY"}}
[debug] [2023-11-17T02:35:09.423Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:35:09.423Z"],"queueLength":1,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:35:07.883Z"],"workRunningCount":1}
[debug] [2023-11-17T02:35:09.423Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:35:07.883Z","/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:35:09.423Z"],"workRunningCount":2}
[debug] [2023-11-17T02:35:09.423Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:35:09.425Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:35:09.425Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:35:09.431Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T02:35:09.431Z] [worker-pool] Adding worker with key us-central1-api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=2"}}
[debug] [2023-11-17T02:35:10.500Z] [runtime-status] [8052] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:35:10.501Z] [runtime-status] [8052] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:35:10.502Z] [runtime-status] [8052] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T02:35:10.503Z] [runtime-status] [8052] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T02:35:11.081Z] [runtime-status] [8052] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T02:35:11.081Z] [runtime-status] [8052] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T02:35:11.082Z] [runtime-status] [8052] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:35:11.082Z] [runtime-status] [8052] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:35:11.082Z] [runtime-status] [8052] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:35:11.082Z] [runtime-status] [8052] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T02:35:11.565Z] [runtime-status] [8052] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:8052) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8052) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8052) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8052) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8052) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8052) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T02:35:11.567Z] [runtime-status] [8052] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_ce4ceefb6af544db.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8052] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_ce4ceefb6af544db.sock"}}
[debug] [2023-11-17T02:35:11.626Z] [worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: IDLE"}}
[debug] [2023-11-17T02:35:11.626Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:35:11.627Z] [worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: BUSY"}}
[debug] [2023-11-17T02:35:13.897Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6011.258287ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6011.258287ms"}}
[debug] [2023-11-17T02:35:13.897Z] [worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: IDLE"}}
[debug] [2023-11-17T02:35:13.898Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:35:13.898Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:35:13.898Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:35:09.423Z"],"workRunningCount":1}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:194:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:194:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:194:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T02:35:17.832Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6205.377588ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6205.377588ms"}}
[debug] [2023-11-17T02:35:17.832Z] [worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: IDLE"}}
[debug] [2023-11-17T02:35:17.833Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:35:17.833Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:35:17.833Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:35:53.655Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:35:54.656Z] Validating nodejs source
[debug] [2023-11-17T02:35:56.579Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:35:56.579Z] Building nodejs source
[debug] [2023-11-17T02:35:56.579Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:35:56.581Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:35:56.582Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:35:56.584Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8984

[debug] [2023-11-17T02:35:57.604Z] Validating nodejs source
[debug] [2023-11-17T02:36:00.078Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:36:00.078Z] Building nodejs source
[debug] [2023-11-17T02:36:00.078Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:36:00.079Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:36:00.081Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:8064) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8064) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:36:00.084Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8382

[info] Connected to MongoDB Atlas

[error] (node:8068) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8068) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:36:01.865Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:36:10.117Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T02:36:10.117Z] [worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: FINISHING"}}
[debug] [2023-11-17T02:36:10.117Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T02:36:10.117Z] [worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: FINISHING"}}
[debug] [2023-11-17T02:36:10.137Z] [worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: exited"}}
[debug] [2023-11-17T02:36:10.137Z] [worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-3ddedd8b-0330-41d8-a6fd-dbe23cdda989]: FINISHED"}}
[debug] [2023-11-17T02:36:10.138Z] [worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: exited"}}
[debug] [2023-11-17T02:36:10.138Z] [worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-91064939-ae5d-416b-a807-04554359f3b6]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:36:12.897Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:36:13.898Z] Validating nodejs source
[debug] [2023-11-17T02:36:15.492Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:36:15.493Z] Building nodejs source
[debug] [2023-11-17T02:36:15.493Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:36:15.494Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:36:15.496Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8756

[error] (node:8088) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8088) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:36:16.668Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T02:36:16.972Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T02:36:17.972Z] Validating nodejs source
[debug] [2023-11-17T02:36:19.645Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:36:19.645Z] Building nodejs source
[debug] [2023-11-17T02:36:19.645Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:36:19.646Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:36:19.647Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T02:36:19.675Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8884

[debug] [2023-11-17T02:36:20.676Z] Validating nodejs source
[debug] [2023-11-17T02:36:22.414Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T02:36:22.414Z] Building nodejs source
[debug] [2023-11-17T02:36:22.414Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:8092) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8092) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T02:36:22.416Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T02:36:22.417Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T02:36:22.417Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8885

[error] (node:8094) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8094) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[info] Connected to MongoDB Atlas

[debug] [2023-11-17T02:36:23.870Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T02:37:11.835Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:37:11.835Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:37:11.835Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:37:11.835Z"],"workRunningCount":1}
[debug] [2023-11-17T02:37:11.836Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:37:11.840Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:37:11.840Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:37:11.841Z] [worker-pool] Cleaned up workers for us-central1-api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 2 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T02:37:11.842Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T02:37:11.843Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T02:37:14.432Z] [runtime-status] [8109] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:37:14.432Z] [runtime-status] [8109] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:37:14.434Z] [runtime-status] [8109] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T02:37:14.435Z] [runtime-status] [8109] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:37:14.966Z] [runtime-status] [8109] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T02:37:14.967Z] [runtime-status] [8109] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T02:37:14.967Z] [runtime-status] [8109] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:37:14.968Z] [runtime-status] [8109] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T02:37:14.974Z] [runtime-status] [8109] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T02:37:14.974Z] [runtime-status] [8109] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T02:37:15.732Z] [runtime-status] [8109] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:8109) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8109) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8109) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8109) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8109) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8109) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T02:37:15.735Z] [runtime-status] [8109] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_aca8a601eda28d5a.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8109] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_aca8a601eda28d5a.sock"}}
[debug] [2023-11-17T02:37:15.860Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE"}}
[debug] [2023-11-17T02:37:15.861Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:37:15.861Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY"}}
[debug] [2023-11-17T02:37:15.868Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7.018517ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7.018517ms"}}
[debug] [2023-11-17T02:37:15.868Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE"}}
[debug] [2023-11-17T02:37:15.868Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:37:15.868Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:37:15.868Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:37:15.872Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:37:15.872Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:37:15.873Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:37:15.872Z"],"workRunningCount":1}
[debug] [2023-11-17T02:37:15.873Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:37:15.875Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:37:15.875Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:37:15.876Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:37:15.876Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[debug] [2023-11-17T02:37:22.958Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 7082.280077ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 7082.280077ms"}}
[debug] [2023-11-17T02:37:22.959Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE"}}
[debug] [2023-11-17T02:37:22.959Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:37:22.959Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:37:22.959Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:38:57.939Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:38:57.939Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:38:57.940Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:38:57.939Z"],"workRunningCount":1}
[debug] [2023-11-17T02:38:57.940Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:38:57.942Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:38:57.943Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:38:57.943Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:38:57.943Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY"}}
[debug] [2023-11-17T02:38:57.946Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.913638ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.913638ms"}}
[debug] [2023-11-17T02:38:57.946Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE"}}
[debug] [2023-11-17T02:38:57.946Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:38:57.946Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:38:57.946Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:38:57.952Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:38:57.952Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:38:57.952Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:38:57.952Z"],"workRunningCount":1}
[debug] [2023-11-17T02:38:57.952Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:38:57.955Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:38:57.955Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:38:57.955Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:38:57.955Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY"}}
[debug] [2023-11-17T02:38:58.598Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 643.113712ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 643.113712ms"}}
[debug] [2023-11-17T02:38:58.599Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE"}}
[debug] [2023-11-17T02:38:58.599Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:38:58.599Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:38:58.599Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:40:38.283Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:40:38.282Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:40:38.283Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:40:38.282Z"],"workRunningCount":1}
[debug] [2023-11-17T02:40:38.283Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:40:38.287Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:40:38.287Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:40:38.287Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:40:38.288Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY"}}
[debug] [2023-11-17T02:40:38.290Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.296893ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.296893ms"}}
[debug] [2023-11-17T02:40:38.290Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE"}}
[debug] [2023-11-17T02:40:38.291Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:40:38.291Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:40:38.291Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:40:38.296Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:40:38.296Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:40:38.296Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:40:38.296Z"],"workRunningCount":1}
[debug] [2023-11-17T02:40:38.296Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:40:38.298Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:40:38.299Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:40:38.299Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:40:38.299Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:194:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:194:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:194:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T02:40:38.953Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 654.523905ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 654.523905ms"}}
[debug] [2023-11-17T02:40:38.954Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE"}}
[debug] [2023-11-17T02:40:38.954Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:40:38.954Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:40:38.954Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:41:00.073Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:41:00.073Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:41:00.073Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:41:00.073Z"],"workRunningCount":1}
[debug] [2023-11-17T02:41:00.073Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:41:00.076Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:41:00.076Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:41:00.077Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:41:00.077Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY"}}
[debug] [2023-11-17T02:41:00.079Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 1.916242ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 1.916242ms"}}
[debug] [2023-11-17T02:41:00.080Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE"}}
[debug] [2023-11-17T02:41:00.081Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:41:00.081Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:41:00.081Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:41:00.085Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:41:00.085Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T02:41:00.085Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T02:41:00.085Z"],"workRunningCount":1}
[debug] [2023-11-17T02:41:00.085Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T02:41:00.088Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T02:41:00.088Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T02:41:00.088Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T02:41:00.088Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: BUSY"}}
[debug] [2023-11-17T02:41:00.661Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 572.672129ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 572.672129ms"}}
[debug] [2023-11-17T02:41:00.661Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: IDLE"}}
[debug] [2023-11-17T02:41:00.661Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T02:41:00.662Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T02:41:00.662Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:21:15.395Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:21:16.423Z] Validating nodejs source
[debug] [2023-11-17T03:21:18.140Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:21:18.140Z] Building nodejs source
[debug] [2023-11-17T03:21:18.141Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:21:18.147Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:21:18.147Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:21:18.151Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8155

[debug] [2023-11-17T03:21:19.154Z] Validating nodejs source
[debug] [2023-11-17T03:21:21.849Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:21:21.850Z] Building nodejs source
[debug] [2023-11-17T03:21:21.850Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:8576) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8576) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:21:21.853Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T03:21:21.856Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:21:21.857Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8291

[error] (node:8581) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8581) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:21:23.271Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[debug] [2023-11-17T03:21:27.378Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:21:28.379Z] Validating nodejs source
[debug] [2023-11-17T03:21:30.128Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:21:30.128Z] Building nodejs source
[debug] [2023-11-17T03:21:30.128Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:21:30.129Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:21:30.132Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:21:30.133Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8639

[debug] [2023-11-17T03:21:31.131Z] Validating nodejs source
[debug] [2023-11-17T03:21:32.365Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:21:32.365Z] Building nodejs source
[debug] [2023-11-17T03:21:32.365Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:21:32.367Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:21:32.368Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:21:32.369Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:199
    } catch (error) {
      ^^^^^

SyntaxError: Unexpected token 'catch'
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T03:21:32.374Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Unexpected token 'catch'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:21:32.380Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T03:21:32.380Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: FINISHING"}}
[debug] [2023-11-17T03:21:32.398Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: exited"}}
[debug] [2023-11-17T03:21:32.399Z] [worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-609f3753-6824-4132-aee8-387d3f9f73d6]: FINISHED"}}
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[info] Serving at port 8826

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:21:33.369Z] Validating nodejs source
[debug] [2023-11-17T03:21:35.719Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:21:35.719Z] Building nodejs source
[debug] [2023-11-17T03:21:35.720Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:21:35.721Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:21:35.721Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:21:35.722Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] (node:8592) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8592) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:21:35.725Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Serving at port 8365

[debug] [2023-11-17T03:21:36.723Z] Validating nodejs source
[debug] [2023-11-17T03:21:37.892Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:21:37.892Z] Building nodejs source
[debug] [2023-11-17T03:21:37.893Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:8599) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8599) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:21:37.894Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T03:21:37.895Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:21:37.896Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Connected to MongoDB Atlas

[info] Serving at port 8796

[error] (node:8601) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8601) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:21:38.950Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:22:10.427Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:22:11.434Z] Validating nodejs source
[debug] [2023-11-17T03:22:13.437Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:22:13.438Z] Building nodejs source
[debug] [2023-11-17T03:22:13.438Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:22:13.439Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:22:13.440Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8327

[error] (node:8617) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8617) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:22:14.729Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T03:22:17.098Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T03:22:18.101Z] Validating nodejs source
[debug] [2023-11-17T03:22:19.890Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:22:19.890Z] Building nodejs source
[debug] [2023-11-17T03:22:19.890Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:22:19.891Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:22:19.894Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8252

[error] (node:8626) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8626) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:22:22.467Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T03:22:27.634Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:22:28.647Z] Validating nodejs source
[debug] [2023-11-17T03:22:31.082Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:22:31.082Z] Building nodejs source
[debug] [2023-11-17T03:22:31.082Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:22:31.083Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:22:31.085Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:22:31.086Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8529

[debug] [2023-11-17T03:22:32.085Z] Validating nodejs source
[debug] [2023-11-17T03:22:33.620Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:22:33.620Z] Building nodejs source
[debug] [2023-11-17T03:22:33.620Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:8636) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8636) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:22:33.621Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T03:22:33.624Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:22:33.625Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] Serving at port 9000

[error] (node:8638) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8638) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:22:35.192Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:22:57.610Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:22:58.614Z] Validating nodejs source
[debug] [2023-11-17T03:23:02.952Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:23:02.952Z] Building nodejs source
[debug] [2023-11-17T03:23:02.952Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:23:02.954Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:23:02.956Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8303

[error] (node:8654) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8654) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:23:05.630Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:23:19.448Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:23:19.448Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:23:19.448Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:23:19.448Z"],"workRunningCount":1}
[debug] [2023-11-17T03:23:19.448Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:23:19.459Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:23:19.459Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:23:19.460Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:23:19.470Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T03:23:19.470Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T03:23:22.327Z] [runtime-status] [8666] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:23:22.328Z] [runtime-status] [8666] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:23:22.328Z] [runtime-status] [8666] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T03:23:22.328Z] [runtime-status] [8666] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:23:22.794Z] [runtime-status] [8666] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T03:23:22.795Z] [runtime-status] [8666] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T03:23:22.795Z] [runtime-status] [8666] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:23:22.797Z] [runtime-status] [8666] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:23:22.803Z] [runtime-status] [8666] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:23:22.803Z] [runtime-status] [8666] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T03:23:23.605Z] [runtime-status] [8666] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:8666) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8666) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8666) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8666) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8666) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8666) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T03:23:23.610Z] [runtime-status] [8666] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_61f985d8f6b903ba.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8666] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_61f985d8f6b903ba.sock"}}
[debug] [2023-11-17T03:23:23.691Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE"}}
[debug] [2023-11-17T03:23:23.691Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:23:23.691Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY"}}
[debug] [2023-11-17T03:23:23.777Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 86.310718ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 86.310718ms"}}
[debug] [2023-11-17T03:23:23.778Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE"}}
[debug] [2023-11-17T03:23:23.778Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:23:23.778Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:23:23.778Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:23:23.782Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:23:23.782Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:23:23.783Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:23:23.782Z"],"workRunningCount":1}
[debug] [2023-11-17T03:23:23.783Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:23:23.785Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:23:23.785Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:23:23.785Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:23:23.785Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: UserModel.findById is not a function {"user":"Error: UserModel.findById is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: UserModel.findById is not a function"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:23:29.812Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6026.325263ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6026.325263ms"}}
[debug] [2023-11-17T03:23:29.812Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE"}}
[debug] [2023-11-17T03:23:29.812Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:23:29.812Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:23:29.812Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:25:21.903Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:25:21.903Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:25:21.903Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:25:21.903Z"],"workRunningCount":1}
[debug] [2023-11-17T03:25:21.903Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:25:21.914Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:25:21.914Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:25:21.914Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:25:21.915Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY"}}
[debug] [2023-11-17T03:25:21.918Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.94421ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.94421ms"}}
[debug] [2023-11-17T03:25:21.919Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE"}}
[debug] [2023-11-17T03:25:21.919Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:25:21.919Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:25:21.919Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:25:21.924Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:25:21.924Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:25:21.924Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:25:21.924Z"],"workRunningCount":1}
[debug] [2023-11-17T03:25:21.924Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:25:21.926Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:25:21.927Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:25:21.927Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:25:21.927Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: UserModel.findById is not a function {"user":"Error: UserModel.findById is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: UserModel.findById is not a function"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:25:22.283Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 356.500328ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 356.500328ms"}}
[debug] [2023-11-17T03:25:22.284Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE"}}
[debug] [2023-11-17T03:25:22.284Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:25:22.284Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:25:22.284Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:19.098Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:26:20.110Z] Validating nodejs source
[debug] [2023-11-17T03:26:24.519Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:26:24.519Z] Building nodejs source
[debug] [2023-11-17T03:26:24.519Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:26:24.522Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:26:24.525Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8052

[error] (node:8717) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8717) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:26:28.217Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T03:26:29.211Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:29.211Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:29.211Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:29.211Z"],"workRunningCount":1}
[debug] [2023-11-17T03:26:29.211Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:26:29.214Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:26:29.214Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:26:29.214Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:26:29.215Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY"}}
[debug] [2023-11-17T03:26:29.217Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.51329ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.51329ms"}}
[debug] [2023-11-17T03:26:29.218Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE"}}
[debug] [2023-11-17T03:26:29.218Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:26:29.218Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:26:29.218Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:29.223Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:29.223Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:29.223Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:29.223Z"],"workRunningCount":1}
[debug] [2023-11-17T03:26:29.223Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:26:29.225Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:26:29.225Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:26:29.226Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:26:29.226Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: UserModel.findById is not a function {"user":"Error: UserModel.findById is not a function","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: UserModel.findById is not a function"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:26:29.558Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 332.594907ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 332.594907ms"}}
[debug] [2023-11-17T03:26:29.559Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: IDLE"}}
[debug] [2023-11-17T03:26:29.559Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:26:29.559Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:26:29.559Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:26:38.248Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T03:26:38.248Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: FINISHING"}}
[debug] [2023-11-17T03:26:38.263Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: exited"}}
[debug] [2023-11-17T03:26:38.263Z] [worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2b490b19-0bfe-41a3-9893-40c2676aed98]: FINISHED"}}
[debug] [2023-11-17T03:26:39.923Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:39.923Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:39.924Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:39.923Z"],"workRunningCount":1}
[debug] [2023-11-17T03:26:39.924Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:26:39.926Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:26:39.926Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:26:39.926Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:26:39.929Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T03:26:39.929Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T03:26:42.443Z] [runtime-status] [8724] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:26:42.444Z] [runtime-status] [8724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:26:42.445Z] [runtime-status] [8724] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T03:26:42.446Z] [runtime-status] [8724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:26:42.657Z] [runtime-status] [8724] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T03:26:42.657Z] [runtime-status] [8724] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T03:26:42.658Z] [runtime-status] [8724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:26:42.659Z] [runtime-status] [8724] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:26:42.663Z] [runtime-status] [8724] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:26:42.663Z] [runtime-status] [8724] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T03:26:43.028Z] [runtime-status] [8724] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:8724) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8724) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8724) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8724) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8724) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8724) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T03:26:43.030Z] [runtime-status] [8724] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_70e459c633cc02f3.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8724] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_70e459c633cc02f3.sock"}}
[debug] [2023-11-17T03:26:43.148Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE"}}
[debug] [2023-11-17T03:26:43.148Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:26:43.149Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY"}}
[debug] [2023-11-17T03:26:43.155Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.207812ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.207812ms"}}
[debug] [2023-11-17T03:26:43.155Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE"}}
[debug] [2023-11-17T03:26:43.155Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:26:43.155Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:26:43.156Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:43.161Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:43.161Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:43.161Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:43.161Z"],"workRunningCount":1}
[debug] [2023-11-17T03:26:43.161Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:26:43.163Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:26:43.163Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:26:43.163Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:26:43.164Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: { {"user":"Created Bubble Map: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map: {"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    Location: [ {"user":"  Location: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Location: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Gershwin Theater', {"user":"      Name: 'Gershwin Theater',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Gershwin Theater',"}}
[info] >        Longitude: -73.9852, {"user":"      Longitude: -73.9852,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9852,"}}
[info] >        Latitude: 40.7624, {"user":"      Latitude: 40.7624,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7624,"}}
[info] >        Color: '#FF0000', {"user":"      Color: '#FF0000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FF0000',"}}
[info] >        Size: 5, {"user":"      Size: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 5,"}}
[info] >        _id: new ObjectId('6556dd79f422026d094b10c9') {"user":"      _id: new ObjectId('6556dd79f422026d094b10c9')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556dd79f422026d094b10c9')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Time Square', {"user":"      Name: 'Time Square',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Time Square',"}}
[info] >        Longitude: -73.9853, {"user":"      Longitude: -73.9853,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9853,"}}
[info] >        Latitude: 40.7581, {"user":"      Latitude: 40.7581,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7581,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 1, {"user":"      Size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 1,"}}
[info] >        _id: new ObjectId('6556dd79f422026d094b10ca') {"user":"      _id: new ObjectId('6556dd79f422026d094b10ca')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556dd79f422026d094b10ca')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'MoMA', {"user":"      Name: 'MoMA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'MoMA',"}}
[info] >        Longitude: -73.9776, {"user":"      Longitude: -73.9776,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9776,"}}
[info] >        Latitude: 40.7615, {"user":"      Latitude: 40.7615,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7615,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 3, {"user":"      Size: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 3,"}}
[info] >        _id: new ObjectId('6556dd79f422026d094b10cb') {"user":"      _id: new ObjectId('6556dd79f422026d094b10cb')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556dd79f422026d094b10cb')"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    _id: new ObjectId('6556dd79f422026d094b10c8'), {"user":"  _id: new ObjectId('6556dd79f422026d094b10c8'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6556dd79f422026d094b10c8'),"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T03:26:50.049Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6885.688775ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6885.688775ms"}}
[debug] [2023-11-17T03:26:50.050Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE"}}
[debug] [2023-11-17T03:26:50.050Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:26:50.050Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:26:50.050Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:59.810Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:59.810Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:59.810Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:59.810Z"],"workRunningCount":1}
[debug] [2023-11-17T03:26:59.810Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:26:59.812Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:26:59.813Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:26:59.813Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:26:59.813Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY"}}
[debug] [2023-11-17T03:26:59.815Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.295674ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.295674ms"}}
[debug] [2023-11-17T03:26:59.815Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE"}}
[debug] [2023-11-17T03:26:59.816Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:26:59.816Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:26:59.816Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:59.820Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:59.820Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:26:59.820Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:26:59.820Z"],"workRunningCount":1}
[debug] [2023-11-17T03:26:59.820Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:26:59.822Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:26:59.823Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:26:59.823Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:26:59.823Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:27:00.786Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 964.010675ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 964.010675ms"}}
[debug] [2023-11-17T03:27:00.786Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE"}}
[debug] [2023-11-17T03:27:00.787Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:27:00.787Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:27:00.787Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:29:10.367Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:29:10.367Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:29:10.367Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:29:10.367Z"],"workRunningCount":1}
[debug] [2023-11-17T03:29:10.367Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:29:10.370Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:29:10.370Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:29:10.370Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:29:10.371Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY"}}
[debug] [2023-11-17T03:29:10.373Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 2.987949ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 2.987949ms"}}
[debug] [2023-11-17T03:29:10.374Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE"}}
[debug] [2023-11-17T03:29:10.374Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:29:10.374Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:29:10.374Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:29:10.379Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:29:10.379Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:29:10.379Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:29:10.379Z"],"workRunningCount":1}
[debug] [2023-11-17T03:29:10.379Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:29:10.381Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:29:10.382Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:29:10.382Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:29:10.382Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:29:11.333Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 951.280557ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 951.280557ms"}}
[debug] [2023-11-17T03:29:11.335Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: IDLE"}}
[debug] [2023-11-17T03:29:11.335Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:29:11.335Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:29:11.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:31:43.132Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:31:44.134Z] Validating nodejs source
[debug] [2023-11-17T03:31:45.725Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:31:45.726Z] Building nodejs source
[debug] [2023-11-17T03:31:45.726Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:31:45.727Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:31:45.727Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:31:45.728Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8596

[debug] [2023-11-17T03:31:46.699Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:31:47.700Z] Validating nodejs source
[debug] [2023-11-17T03:31:49.527Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:31:49.527Z] Building nodejs source
[debug] [2023-11-17T03:31:49.528Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:195
            { new: true} ocument if it doesn't exist
                       ^

SyntaxError: missing ) after argument list
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T03:31:49.531Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: missing ) after argument list
[debug] [2023-11-17T03:31:49.532Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:31:49.533Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T03:31:49.703Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[info] Serving at port 8128

[debug] [2023-11-17T03:31:50.707Z] Validating nodejs source
[debug] [2023-11-17T03:31:53.850Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:31:53.850Z] Building nodejs source
[debug] [2023-11-17T03:31:53.850Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[error] (node:8770) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8770) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:31:53.851Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T03:31:53.854Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:31:53.855Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8497

[info] Connected to MongoDB Atlas

[error] (node:8774) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8774) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:31:55.405Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:32:03.979Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T03:32:03.979Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: FINISHING"}}
[debug] [2023-11-17T03:32:04.025Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: exited"}}
[debug] [2023-11-17T03:32:04.025Z] [worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-02431f68-2fad-44b4-a8ba-5b207284bc1e]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:32:08.741Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:32:08.741Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:32:08.741Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:32:08.741Z"],"workRunningCount":1}
[debug] [2023-11-17T03:32:08.741Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:32:08.745Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:32:08.745Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:32:08.745Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:32:08.747Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T03:32:08.747Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T03:32:11.309Z] [runtime-status] [8784] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:32:11.312Z] [runtime-status] [8784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:32:11.312Z] [runtime-status] [8784] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T03:32:11.313Z] [runtime-status] [8784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:32:11.615Z] [runtime-status] [8784] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T03:32:11.615Z] [runtime-status] [8784] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T03:32:11.616Z] [runtime-status] [8784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:32:11.617Z] [runtime-status] [8784] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:32:11.622Z] [runtime-status] [8784] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:32:11.623Z] [runtime-status] [8784] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T03:32:12.095Z] [runtime-status] [8784] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:8784) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8784) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8784) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8784) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8784) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8784) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T03:32:12.097Z] [runtime-status] [8784] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_44dbb47cc5446963.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8784] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_44dbb47cc5446963.sock"}}
[debug] [2023-11-17T03:32:12.220Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE"}}
[debug] [2023-11-17T03:32:12.220Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:32:12.221Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: BUSY"}}
[debug] [2023-11-17T03:32:12.227Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.389999ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.389999ms"}}
[debug] [2023-11-17T03:32:12.227Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE"}}
[debug] [2023-11-17T03:32:12.227Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:32:12.228Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:32:12.228Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:32:12.234Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:32:12.234Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:32:12.234Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:32:12.234Z"],"workRunningCount":1}
[debug] [2023-11-17T03:32:12.234Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:32:12.236Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:32:12.236Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:32:12.236Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:32:12.237Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:32:18.925Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6688.784356ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6688.784356ms"}}
[debug] [2023-11-17T03:32:18.926Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE"}}
[debug] [2023-11-17T03:32:18.926Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:32:18.926Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:32:18.926Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:32:39.145Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:32:40.147Z] Validating nodejs source
[debug] [2023-11-17T03:32:42.367Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:32:42.367Z] Building nodejs source
[debug] [2023-11-17T03:32:42.367Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:32:42.368Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:32:42.369Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8352

[error] (node:8799) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)
(node:8799) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:32:44.261Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T03:32:44.882Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:32:44.882Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:32:44.882Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:32:44.882Z"],"workRunningCount":1}
[debug] [2023-11-17T03:32:44.882Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:32:44.885Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:32:44.885Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:32:44.885Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:32:44.885Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: BUSY"}}
[debug] [2023-11-17T03:32:44.889Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.179879ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.179879ms"}}
[debug] [2023-11-17T03:32:44.890Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE"}}
[debug] [2023-11-17T03:32:44.890Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:32:44.890Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:32:44.890Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:32:44.895Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:32:44.895Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:32:44.895Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:32:44.895Z"],"workRunningCount":1}
[debug] [2023-11-17T03:32:44.895Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:32:44.897Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:32:44.897Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:32:44.897Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:32:44.898Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: BUSY"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:32:45.768Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 869.907506ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 869.907506ms"}}
[debug] [2023-11-17T03:32:45.768Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: IDLE"}}
[debug] [2023-11-17T03:32:45.768Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:32:45.768Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:32:45.768Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:32:54.299Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T03:32:54.299Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: FINISHING"}}
[debug] [2023-11-17T03:32:54.309Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: exited"}}
[debug] [2023-11-17T03:32:54.309Z] [worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-2bd4a9a5-91af-47c9-8c9d-d2631a74825e]: FINISHED"}}
[debug] [2023-11-17T03:33:04.785Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:33:04.785Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:33:04.785Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:33:04.785Z"],"workRunningCount":1}
[debug] [2023-11-17T03:33:04.785Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:33:04.787Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:33:04.787Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:33:04.787Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:33:04.789Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T03:33:04.790Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T03:33:06.774Z] [runtime-status] [8806] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:33:06.775Z] [runtime-status] [8806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:33:06.776Z] [runtime-status] [8806] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T03:33:06.777Z] [runtime-status] [8806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:33:06.984Z] [runtime-status] [8806] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T03:33:06.986Z] [runtime-status] [8806] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T03:33:06.986Z] [runtime-status] [8806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:33:06.987Z] [runtime-status] [8806] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:33:06.992Z] [runtime-status] [8806] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:33:06.993Z] [runtime-status] [8806] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T03:33:07.366Z] [runtime-status] [8806] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:8806) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8806) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8806) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8806) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8806) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8806) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T03:33:07.368Z] [runtime-status] [8806] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_8118833920b5c779.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8806] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_8118833920b5c779.sock"}}
[debug] [2023-11-17T03:33:07.498Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE"}}
[debug] [2023-11-17T03:33:07.498Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:33:07.499Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY"}}
[debug] [2023-11-17T03:33:07.505Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.555727ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.555727ms"}}
[debug] [2023-11-17T03:33:07.505Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE"}}
[debug] [2023-11-17T03:33:07.506Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:33:07.506Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:33:07.506Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:33:07.510Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:33:07.510Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:33:07.510Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:33:07.510Z"],"workRunningCount":1}
[debug] [2023-11-17T03:33:07.510Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:33:07.513Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:33:07.513Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:33:07.513Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:33:07.513Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:33:14.334Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6820.908104ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6820.908104ms"}}
[debug] [2023-11-17T03:33:14.334Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE"}}
[debug] [2023-11-17T03:33:14.334Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:33:14.335Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:33:14.335Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:13.335Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers"}}
[debug] [2023-11-17T03:35:14.337Z] Validating nodejs source
[debug] [2023-11-17T03:35:16.525Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:35:16.525Z] Building nodejs source
[debug] [2023-11-17T03:35:16.525Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:35:16.527Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:35:16.527Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8853

[debug] [2023-11-17T03:35:17.903Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[error] (node:8828) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8828) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:35:18.677Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T03:35:18.906Z] Validating nodejs source
[debug] [2023-11-17T03:35:21.160Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:35:21.161Z] Building nodejs source
[debug] [2023-11-17T03:35:21.161Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:35:21.162Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:35:21.164Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8588

[info] Connected to MongoDB Atlas

[error] (node:8835) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8835) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:35:22.465Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-11-17T03:35:22.790Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:22.790Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:22.790Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:22.790Z"],"workRunningCount":1}
[debug] [2023-11-17T03:35:22.790Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:35:22.794Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:35:22.795Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:35:22.795Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:35:22.795Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY"}}
[debug] [2023-11-17T03:35:22.801Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6.200313ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6.200313ms"}}
[debug] [2023-11-17T03:35:22.802Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE"}}
[debug] [2023-11-17T03:35:22.802Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:35:22.802Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:35:22.802Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:22.815Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:22.814Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:22.815Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:22.814Z"],"workRunningCount":1}
[debug] [2023-11-17T03:35:22.815Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:35:22.819Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:35:22.819Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:35:22.819Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:35:22.820Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY"}}
[info] >  Created Bubble Map: { {"user":"Created Bubble Map: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map: {"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    Location: [ {"user":"  Location: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Location: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Gershwin Theater', {"user":"      Name: 'Gershwin Theater',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Gershwin Theater',"}}
[info] >        Longitude: -73.9852, {"user":"      Longitude: -73.9852,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9852,"}}
[info] >        Latitude: 40.7624, {"user":"      Latitude: 40.7624,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7624,"}}
[info] >        Color: '#FF0000', {"user":"      Color: '#FF0000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FF0000',"}}
[info] >        Size: 5, {"user":"      Size: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 5,"}}
[info] >        _id: new ObjectId('6556df7b93e2e5b20e16bc15') {"user":"      _id: new ObjectId('6556df7b93e2e5b20e16bc15')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556df7b93e2e5b20e16bc15')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Time Square', {"user":"      Name: 'Time Square',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Time Square',"}}
[info] >        Longitude: -73.9853, {"user":"      Longitude: -73.9853,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9853,"}}
[info] >        Latitude: 40.7581, {"user":"      Latitude: 40.7581,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7581,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 1, {"user":"      Size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 1,"}}
[info] >        _id: new ObjectId('6556df7b93e2e5b20e16bc16') {"user":"      _id: new ObjectId('6556df7b93e2e5b20e16bc16')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556df7b93e2e5b20e16bc16')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'MoMA', {"user":"      Name: 'MoMA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'MoMA',"}}
[info] >        Longitude: -73.9776, {"user":"      Longitude: -73.9776,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9776,"}}
[info] >        Latitude: 40.7615, {"user":"      Latitude: 40.7615,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7615,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 3, {"user":"      Size: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 3,"}}
[info] >        _id: new ObjectId('6556df7b93e2e5b20e16bc17') {"user":"      _id: new ObjectId('6556df7b93e2e5b20e16bc17')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556df7b93e2e5b20e16bc17')"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    _id: new ObjectId('6556df7b93e2e5b20e16bc14'), {"user":"  _id: new ObjectId('6556df7b93e2e5b20e16bc14'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6556df7b93e2e5b20e16bc14'),"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T03:35:23.706Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 886.336358ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 886.336358ms"}}
[debug] [2023-11-17T03:35:23.706Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE"}}
[debug] [2023-11-17T03:35:23.706Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:35:23.707Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:35:23.707Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[info] Connected to MongoDB Atlas

[debug] [2023-11-17T03:35:28.223Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:28.223Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:28.223Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:28.223Z"],"workRunningCount":1}
[debug] [2023-11-17T03:35:28.223Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:35:28.226Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:35:28.226Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:35:28.226Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:35:28.227Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY"}}
[debug] [2023-11-17T03:35:28.229Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 3.090827ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 3.090827ms"}}
[debug] [2023-11-17T03:35:28.230Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE"}}
[debug] [2023-11-17T03:35:28.230Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:35:28.230Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:35:28.230Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:28.236Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:28.236Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:28.236Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:28.236Z"],"workRunningCount":1}
[debug] [2023-11-17T03:35:28.236Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:35:28.238Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:35:28.239Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:35:28.239Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:35:28.239Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: BUSY"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:35:28.698Z] [worker-pool] Marking BUSY worker to finish (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Marking BUSY worker to finish (us-central1-api)"}}
[debug] [2023-11-17T03:35:28.698Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: FINISHING"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:35:29.191Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 952.425379ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 952.425379ms"}}
[debug] [2023-11-17T03:35:29.192Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE --> FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: IDLE --> FINISHING"}}
[debug] [2023-11-17T03:35:29.192Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:35:29.192Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:35:29.192Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:29.212Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: exited"}}
[debug] [2023-11-17T03:35:29.212Z] [worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-9ead6857-0494-4544-ac5d-0896439c724a]: FINISHED"}}
[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:35:34.094Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:34.094Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:34.094Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:34.094Z"],"workRunningCount":1}
[debug] [2023-11-17T03:35:34.094Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:35:34.096Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:35:34.097Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:35:34.097Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:35:34.099Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T03:35:34.099Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T03:35:36.420Z] [runtime-status] [8842] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:35:36.420Z] [runtime-status] [8842] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:35:36.426Z] [runtime-status] [8842] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T03:35:36.427Z] [runtime-status] [8842] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:35:36.629Z] [runtime-status] [8842] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T03:35:36.630Z] [runtime-status] [8842] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T03:35:36.630Z] [runtime-status] [8842] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:35:36.631Z] [runtime-status] [8842] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:35:36.637Z] [runtime-status] [8842] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:35:36.637Z] [runtime-status] [8842] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T03:35:37.016Z] [runtime-status] [8842] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:8842) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8842) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8842) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8842) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8842) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8842) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T03:35:37.019Z] [runtime-status] [8842] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_f82234bd13bb5d60.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8842] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_f82234bd13bb5d60.sock"}}
[debug] [2023-11-17T03:35:37.134Z] [worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: IDLE"}}
[debug] [2023-11-17T03:35:37.134Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:35:37.135Z] [worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: BUSY"}}
[debug] [2023-11-17T03:35:37.139Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 4.142273ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 4.142273ms"}}
[debug] [2023-11-17T03:35:37.139Z] [worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: IDLE"}}
[debug] [2023-11-17T03:35:37.139Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:35:37.139Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:35:37.140Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:37.144Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:37.144Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:37.144Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:35:37.144Z"],"workRunningCount":1}
[debug] [2023-11-17T03:35:37.144Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:35:37.146Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:35:37.146Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:35:37.146Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:35:37.147Z] [worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  bE error {"user":"bE error","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m bE error"}}
[info] >  Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null } {"user":"Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Error: E11000 duplicate key error collection: smapchat.bubblemaps index: mapID_1 dup key: { mapID: null }"}}
[info] >      at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13) {"user":"    at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at MapModel.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:208:13)"}}
[info] >      at process.processTicksAndRejections (node:internal/process/task_queues:95:5) {"user":"    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at process.processTicksAndRejections (node:internal/process/task_queues:95:5)"}}
[info] >      at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19) {"user":"    at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     at async exports.createBubbleMap (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:143:19)"}}
[debug] [2023-11-17T03:35:42.710Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5563.5820380000005ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5563.5820380000005ms"}}
[debug] [2023-11-17T03:35:42.710Z] [worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: IDLE"}}
[debug] [2023-11-17T03:35:42.710Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:35:42.711Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:35:42.711Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:35:55.585Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/schema/MapSchema.js changed, reloading triggers"}}
[debug] [2023-11-17T03:35:56.586Z] Validating nodejs source
[debug] [2023-11-17T03:35:58.369Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:35:58.369Z] Building nodejs source
[debug] [2023-11-17T03:35:58.369Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:35:58.370Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:35:58.372Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8941

[error] (node:8861) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8861) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:35:59.316Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:36:09.332Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T03:36:09.332Z] [worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: FINISHING"}}
[debug] [2023-11-17T03:36:09.342Z] [worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: exited"}}
[debug] [2023-11-17T03:36:09.342Z] [worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-42ecff18-6851-4bb1-b83f-037753f7450c]: FINISHED"}}
[debug] [2023-11-17T03:36:17.543Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:36:18.544Z] Validating nodejs source
[debug] [2023-11-17T03:36:20.320Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:36:20.320Z] Building nodejs source
[debug] [2023-11-17T03:36:20.320Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:36:20.321Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:36:20.323Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8252

[error] /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js:193
      }
      ^

SyntaxError: Missing catch or finally after try
    at internalCompileFunction (node:internal/vm:73:18)
    at wrapSafe (node:internal/modules/cjs/loader:1176:20)
    at Module._compile (node:internal/modules/cjs/loader:1218:27)
    at Module._extensions..js (node:internal/modules/cjs/loader:1308:10)
    at Module.load (node:internal/modules/cjs/loader:1117:32)
    at Module._load (node:internal/modules/cjs/loader:958:12)
    at Module.require (node:internal/modules/cjs/loader:1141:19)
    at require (node:internal/modules/cjs/helpers:110:18)
    at Object.<anonymous> (/Users/binimark/Desktop/demo/Smapchat/Backend/functions/controllers/mapController.js:1:18)
    at Module._compile (node:internal/modules/cjs/loader:1254:14)

[debug] [2023-11-17T03:36:21.729Z] Got response code 400; body Failed to generate manifest from function source: SyntaxError: Missing catch or finally after try
[error] ⬢  functions: Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error {"metadata":{"emulator":{"name":"functions"},"message":"Failed to load function definition from source: FirebaseError: Functions codebase could not be analyzed successfully. It may have a syntax or runtime error"}}
[debug] [2023-11-17T03:36:22.495Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:36:23.500Z] Validating nodejs source
[debug] [2023-11-17T03:36:25.281Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:36:25.281Z] Building nodejs source
[debug] [2023-11-17T03:36:25.281Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:36:25.283Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:36:25.285Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8973

[error] (node:8879) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8879) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:36:26.693Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:36:37.724Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:36:37.724Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:36:37.724Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:36:37.724Z"],"workRunningCount":1}
[debug] [2023-11-17T03:36:37.724Z] Accepted request OPTIONS /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:36:37.727Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:36:37.727Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:36:37.727Z] [worker-pool] Cleaned up workers for us-central1-api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for us-central1-api: 1 --> 0"}}
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:36:37.729Z] [worker-pool] addWorker(us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(us-central1-api)"}}
[debug] [2023-11-17T03:36:37.729Z] [worker-pool] Adding worker with key us-central1-api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key us-central1-api, total=1"}}
[debug] [2023-11-17T03:36:38.720Z] [runtime-status] [8885] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:36:38.722Z] [runtime-status] [8885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:36:38.722Z] [runtime-status] [8885] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2023-11-17T03:36:38.724Z] [runtime-status] [8885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:36:38.933Z] [runtime-status] [8885] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Checked functions.config() {\"config\":{}}"}}
[debug] [2023-11-17T03:36:38.933Z] [runtime-status] [8885] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}}"}}
[debug] [2023-11-17T03:36:38.934Z] [runtime-status] [8885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:36:38.935Z] [runtime-status] [8885] Resolved module firebase-admin {"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2023-11-17T03:36:38.937Z] [runtime-status] [8885] Resolved module firebase-functions {"declared":true,"installed":true,"version":"4.5.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"4.5.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-functions/lib/v1/index.js\"}"}}
[debug] [2023-11-17T03:36:38.937Z] [runtime-status] [8885] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"11.11.0","resolution":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"11.11.0\",\"resolution\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2023-11-17T03:36:39.297Z] [runtime-status] [8885] Functions runtime initialized. {"cwd":"/Users/binimark/Desktop/demo/Smapchat/Backend/functions","node_version":"18.14.2"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Functions runtime initialized. {\"cwd\":\"/Users/binimark/Desktop/demo/Smapchat/Backend/functions\",\"node_version\":\"18.14.2\"}"}}
[info] >  (node:8885) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8885) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8885) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[info] >  (Use `node --trace-warnings ...` to show where the warning was created) {"user":"(Use `node --trace-warnings ...` to show where the warning was created)","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (Use `node --trace-warnings ...` to show where the warning was created)"}}
[info] >  (node:8885) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version {"user":"(node:8885) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m (node:8885) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version"}}
[debug] [2023-11-17T03:36:39.299Z] [runtime-status] [8885] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_99561aa75464b698.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[runtime-status] [8885] Listening to port: /var/folders/b3/n50zsmn12y5_8zck5m9hp0rc0000gn/T/fire_emu_99561aa75464b698.sock"}}
[debug] [2023-11-17T03:36:39.419Z] [worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: IDLE"}}
[debug] [2023-11-17T03:36:39.419Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:36:39.420Z] [worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: BUSY"}}
[debug] [2023-11-17T03:36:39.425Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 5.653283ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 5.653283ms"}}
[debug] [2023-11-17T03:36:39.426Z] [worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: IDLE"}}
[debug] [2023-11-17T03:36:39.426Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:36:39.426Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:36:39.426Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:36:39.430Z] [work-queue] {"queuedWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:36:39.430Z"],"queueLength":1,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:36:39.430Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":["/smapchat-back/us-central1/api/map/create/bubbleMap-2023-11-17T03:36:39.430Z"],"workRunningCount":1}
[debug] [2023-11-17T03:36:39.430Z] Accepted request POST /smapchat-back/us-central1/api/map/create/bubbleMap --> us-central1-api
[debug] [2023-11-17T03:36:39.432Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2023-11-17T03:36:39.433Z] [functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/smapchat-back/us-central1/api/map/create/bubbleMap, mapping to path=/map/create/bubbleMap"}}
[debug] [2023-11-17T03:36:39.433Z] [worker-pool] submitRequest(triggerId=us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitRequest(triggerId=us-central1-api)"}}
[info] i  functions: Beginning execution of "us-central1-api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Beginning execution of \"us-central1-api\""}}
[debug] [2023-11-17T03:36:39.433Z] [worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: BUSY {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: BUSY"}}
[info] >  Connected to MongoDB Atlas {"user":"Connected to MongoDB Atlas","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Connected to MongoDB Atlas"}}
[info] >  Created Bubble Map: { {"user":"Created Bubble Map: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m Created Bubble Map: {"}}
[info] >    MapID: 12345, {"user":"  MapID: 12345,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   MapID: 12345,"}}
[info] >    Location: [ {"user":"  Location: [","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   Location: ["}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Gershwin Theater', {"user":"      Name: 'Gershwin Theater',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Gershwin Theater',"}}
[info] >        Longitude: -73.9852, {"user":"      Longitude: -73.9852,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9852,"}}
[info] >        Latitude: 40.7624, {"user":"      Latitude: 40.7624,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7624,"}}
[info] >        Color: '#FF0000', {"user":"      Color: '#FF0000',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FF0000',"}}
[info] >        Size: 5, {"user":"      Size: 5,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 5,"}}
[info] >        _id: new ObjectId('6556dfcd84405687a9c2d319') {"user":"      _id: new ObjectId('6556dfcd84405687a9c2d319')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556dfcd84405687a9c2d319')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'Time Square', {"user":"      Name: 'Time Square',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'Time Square',"}}
[info] >        Longitude: -73.9853, {"user":"      Longitude: -73.9853,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9853,"}}
[info] >        Latitude: 40.7581, {"user":"      Latitude: 40.7581,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7581,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 1, {"user":"      Size: 1,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 1,"}}
[info] >        _id: new ObjectId('6556dfcd84405687a9c2d31a') {"user":"      _id: new ObjectId('6556dfcd84405687a9c2d31a')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556dfcd84405687a9c2d31a')"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      { {"user":"    {","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     {"}}
[info] >        Name: 'MoMA', {"user":"      Name: 'MoMA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Name: 'MoMA',"}}
[info] >        Longitude: -73.9776, {"user":"      Longitude: -73.9776,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Longitude: -73.9776,"}}
[info] >        Latitude: 40.7615, {"user":"      Latitude: 40.7615,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Latitude: 40.7615,"}}
[info] >        Color: '#FFFF00', {"user":"      Color: '#FFFF00',","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Color: '#FFFF00',"}}
[info] >        Size: 3, {"user":"      Size: 3,","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       Size: 3,"}}
[info] >        _id: new ObjectId('6556dfcd84405687a9c2d31b') {"user":"      _id: new ObjectId('6556dfcd84405687a9c2d31b')","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m       _id: new ObjectId('6556dfcd84405687a9c2d31b')"}}
[info] >      } {"user":"    }","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m     }"}}
[info] >    ], {"user":"  ],","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   ],"}}
[info] >    _id: new ObjectId('6556dfcd84405687a9c2d318'), {"user":"  _id: new ObjectId('6556dfcd84405687a9c2d318'),","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   _id: new ObjectId('6556dfcd84405687a9c2d318'),"}}
[info] >    __v: 0 {"user":"  __v: 0","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m   __v: 0"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2023-11-17T03:36:46.101Z] Finishing up request with event=pause {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=pause"}}
[info] i  functions: Finished "us-central1-api" in 6668.345086ms {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finished \"us-central1-api\" in 6668.345086ms"}}
[debug] [2023-11-17T03:36:46.101Z] [worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: IDLE {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: IDLE"}}
[debug] [2023-11-17T03:36:46.102Z] Finishing up request with event=finish {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=finish"}}
[debug] [2023-11-17T03:36:46.102Z] Finishing up request with event=close {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"Finishing up request with event=close"}}
[debug] [2023-11-17T03:36:46.102Z] [work-queue] {"queuedWork":[],"queueLength":0,"runningWork":[],"workRunningCount":0}
[debug] [2023-11-17T03:37:06.647Z] File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers {"metadata":{"emulator":{"name":"functions"},"message":"File /Users/binimark/Desktop/demo/Smapchat/Backend/functions/database/model/MapModel.js changed, reloading triggers"}}
[debug] [2023-11-17T03:37:07.656Z] Validating nodejs source
[debug] [2023-11-17T03:37:10.140Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log",
    "test": "jest --detectOpenHandles --forceExit"
  },
  "engines": {
    "node": "18"
  },
  "main": "index.js",
  "dependencies": {
    "bcryptjs": "^2.4.3",
    "cookie-parser": "^1.4.6",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^11.8.0",
    "firebase-functions": "^4.3.1",
    "jest": "^29.7.0",
    "mongoose": "^8.0.0",
    "supertest": "^6.3.3"
  },
  "devDependencies": {
    "firebase-functions-test": "^3.1.0"
  },
  "private": true
}
[debug] [2023-11-17T03:37:10.140Z] Building nodejs source
[debug] [2023-11-17T03:37:10.140Z] Failed to find version of module node: reached end of search path /Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules
[info] ✔  functions: Using node@18 from host. 
[info] i  functions: Loaded environment variables from .env. 
[debug] [2023-11-17T03:37:10.141Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-11-17T03:37:10.142Z] Found firebase-functions binary at '/Users/binimark/Desktop/demo/Smapchat/Backend/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8346

[error] (node:8898) [MONGODB DRIVER] Warning: useNewUrlParser is a deprecated option: useNewUrlParser has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version
(Use `node --trace-warnings ...` to show where the warning was created)

[error] (node:8898) [MONGODB DRIVER] Warning: useUnifiedTopology is a deprecated option: useUnifiedTopology has no effect since Node.js Driver version 4.0.0 and will be removed in the next major version

[debug] [2023-11-17T03:37:11.768Z] Got response from /__/functions.yaml {"endpoints":{"api":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"api"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[info] Connected to MongoDB Atlas

[info] ✔  functions: Loaded functions definitions from source: api. {"metadata":{"emulator":{"name":"functions"},"message":"Loaded functions definitions from source: api."}}
[debug] [2023-11-17T03:37:21.784Z] [worker-pool] Shutting down IDLE worker (us-central1-api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Shutting down IDLE worker (us-central1-api)"}}
[debug] [2023-11-17T03:37:21.784Z] [worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: FINISHING {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: FINISHING"}}
[debug] [2023-11-17T03:37:21.799Z] [worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: exited {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: exited"}}
[debug] [2023-11-17T03:37:21.800Z] [worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"function":{"name":"us-central1-api"},"extension":{},"message":"[worker-us-central1-api-6dc769f8-43af-4f54-9e9f-132f422557f8]: FINISHED"}}
